function inArray(n,t){var i=!1;return $.each(t,function(t,r){if(r===n)return(i=!0,!1)}),i}var require,define;(function(n,t,i){"use strict";function v(n){return function(){for(var i=arguments[0],u,t,r="["+(n?n+":":"")+i+"] http://errors.angularjs.org/1.4.6/"+(n?n+"/":"")+i,i=1;i<arguments.length;i++)r=r+(1==i?"?":"&")+"p"+(i-1)+"=",u=encodeURIComponent,t=arguments[i],t="function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?JSON.stringify(t):t,r+=u(t);return Error(r)}}function fi(n){if(null==n||er(n))return!1;var t="length"in Object(n)&&n.length;return n.nodeType===wt&&t?!0:l(n)||a(n)||0===t||"number"==typeof t&&0<t&&t-1 in n}function r(n,t,i){var u,f,e;if(n)if(h(n))for(u in n)"prototype"==u||"length"==u||"name"==u||n.hasOwnProperty&&!n.hasOwnProperty(u)||t.call(i,n[u],u,n);else if(a(n)||fi(n))for(e="object"!=typeof n,u=0,f=n.length;u<f;u++)(e||u in n)&&t.call(i,n[u],u,n);else if(n.forEach&&n.forEach!==r)n.forEach(t,i,n);else if(ve(n))for(u in n)t.call(i,n[u],u,n);else if("function"==typeof n.hasOwnProperty)for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n);else for(u in n)gt.call(n,u)&&t.call(i,n[u],u,n);return n}function he(n,t,i){for(var r=Object.keys(n).sort(),u=0;u<r.length;u++)t.call(i,n[r[u]],r[u]);return r}function ce(n){return function(t,i){n(i,t)}}function yc(){return++ku}function le(n,t){t?n.$$hashKey=t:delete n.$$hashKey}function ff(n,t,i){for(var f,u,r,l=n.$$hashKey,e=0,v=t.length;e<v;++e)if(f=t[e],c(f)||h(f))for(var s=Object.keys(f),o=0,y=s.length;o<y;o++)u=s[o],r=f[u],i&&c(r)?ft(r)?n[u]=new Date(r.valueOf()):wi(r)?n[u]=new RegExp(r):(c(n[u])||(n[u]=a(r)?[]:{}),ff(n[u],[r],!0)):n[u]=r;return le(n,l),n}function p(n){return ff(n,ni.call(arguments,1),!1)}function pc(n){return ff(n,ni.call(arguments,1),!0)}function tt(n){return parseInt(n,10)}function ef(n,t){return p(Object.create(n),t)}function o(){}function fr(n){return n}function vt(n){return function(){return n}}function ae(n){return h(n.toString)&&n.toString!==Object.prototype.toString}function f(n){return"undefined"==typeof n}function e(n){return"undefined"!=typeof n}function c(n){return null!==n&&"object"==typeof n}function ve(n){return null!==n&&"object"==typeof n&&!rh(n)}function l(n){return"string"==typeof n}function k(n){return"number"==typeof n}function ft(n){return"[object Date]"===ti.call(n)}function h(n){return"function"==typeof n}function wi(n){return"[object RegExp]"===ti.call(n)}function er(n){return n&&n.window===n}function or(n){return n&&n.$evalAsync&&n.$watch}function sr(n){return"boolean"==typeof n}function ye(n){return!(!n||!(n.nodeName||n.prop&&n.attr&&n.find))}function wc(n){var i={},t;for(n=n.split(","),t=0;t<n.length;t++)i[n[t]]=!0;return i}function bt(n){return y(n.nodeName||n[0]&&n[0].nodeName)}function hr(n,t){var i=n.indexOf(t);return 0<=i&&n.splice(i,1),i}function st(n,t,i,u){var f,e;if(er(n)||or(n))throw li("cpws");if(uh.test(ti.call(t)))throw li("cpta");if(t){if(n===t)throw li("cpi");if(i=i||[],u=u||[],c(n)&&(i.push(n),u.push(t)),a(n))for(f=t.length=0;f<n.length;f++)t.push(st(n[f],null,i,u));else{if(e=t.$$hashKey,a(t)?t.length=0:r(t,function(n,i){delete t[i]}),ve(n))for(f in n)t[f]=st(n[f],null,i,u);else if(n&&"function"==typeof n.hasOwnProperty)for(f in n)n.hasOwnProperty(f)&&(t[f]=st(n[f],null,i,u));else for(f in n)gt.call(n,f)&&(t[f]=st(n[f],null,i,u));le(t,e)}}else if(t=n,c(n)){if(i&&-1!==(e=i.indexOf(n)))return u[e];if(a(n))return st(n,[],i,u);if(uh.test(ti.call(n)))t=new n.constructor(n);else if(ft(n))t=new Date(n.getTime());else if(wi(n))t=new RegExp(n.source,n.toString().match(/[^\/]*$/)[0]),t.lastIndex=n.lastIndex;else if(h(n.cloneNode))t=n.cloneNode(!0);else return f=Object.create(rh(n)),st(n,f,i,u);u&&(i.push(n),u.push(t))}return t}function ht(n,t){if(a(n)){t=t||[];for(var i=0,r=n.length;i<r;i++)t[i]=n[i]}else if(c(n))for(i in t=t||{},n)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=n[i]);return t||n}function ot(n,t){if(n===t)return!0;if(null===n||null===t)return!1;if(n!==n&&t!==t)return!0;var r=typeof n,i;if(r==typeof t&&"object"==r)if(a(n)){if(!a(t))return!1;if((r=n.length)==t.length){for(i=0;i<r;i++)if(!ot(n[i],t[i]))return!1;return!0}}else{if(ft(n))return ft(t)?ot(n.getTime(),t.getTime()):!1;if(wi(n))return wi(t)?n.toString()==t.toString():!1;if(or(n)||or(t)||er(n)||er(t)||a(t)||ft(t)||wi(t))return!1;r=it();for(i in n)if("$"!==i.charAt(0)&&!h(n[i])){if(!ot(n[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&e(t[i])&&!h(t[i]))return!1;return!0}return!1}function cr(n,t,i){return n.concat(ni.call(t,i))}function pe(n,t){var i=2<arguments.length?ni.call(arguments,2):[];return!h(t)||t instanceof RegExp?t:i.length?function(){return arguments.length?t.apply(n,cr(i,arguments,0)):t.apply(n,i)}:function(){return arguments.length?t.apply(n,arguments):t.call(n)}}function bc(n,r){var u=r;return"string"==typeof n&&"$"===n.charAt(0)&&"$"===n.charAt(1)?u=i:er(r)?u="$WINDOW":r&&t===r?u="$DOCUMENT":or(r)&&(u="$SCOPE"),u}function lr(n,t){return"undefined"==typeof n?i:(k(t)||(t=t?2:null),JSON.stringify(n,bc,t))}function we(n){return l(n)?JSON.parse(n):n}function be(n,t){var i=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(i)?t:i}function of(n,t,i){i=i?-1:1;var r=be(t,n.getTimezoneOffset());return t=n,n=i*(r-n.getTimezoneOffset()),t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function kt(n){n=s(n).clone();try{n.empty()}catch(i){}var t=s("<div>").append(n).html();try{return n[0].nodeType===ir?y(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(n,t){return"<"+y(t)})}catch(r){return y(t)}}function ke(n){try{return decodeURIComponent(n)}catch(t){}}function de(n){var t={};return r((n||"").split("&"),function(n){var u,i,r;n&&(i=n=n.replace(/\+/g,"%20"),u=n.indexOf("="),-1!==u&&(i=n.substring(0,u),r=n.substring(u+1)),i=ke(i),e(i)&&(r=e(r)?ke(r):!0,gt.call(t,i)?a(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))}),t}function sf(n){var t=[];return r(n,function(n,i){a(n)?r(n,function(n){t.push(ct(i,!0)+(!0===n?"":"="+ct(n,!0)))}):t.push(ct(i,!0)+(!0===n?"":"="+ct(n,!0)))}),t.length?t.join("&"):""}function tu(n){return ct(n,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ct(n,t){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function kc(n,t){for(var i,u=tr.length,r=0;r<u;++r)if(i=tr[r]+t,l(i=n.getAttribute(i)))return i;return null}function dc(n,t){var i,u,f={};r(tr,function(t){t+="app";!i&&n.hasAttribute&&n.hasAttribute(t)&&(i=n,u=n.getAttribute(t))});r(tr,function(t){t+="app";var r;!i&&(r=n.querySelector("["+t.replace(":","\\:")+"]"))&&(i=r,u=r.getAttribute(t))});i&&(f.strictDi=null!==kc(i,"strict-di"),t(i,u?[u]:[],f))}function ge(i,u,f){c(f)||(f={});f=p({strictDi:!1},f);var e=function(){if(i=s(i),i.injector()){var n=i[0]===t?"document":kt(i);throw li("btstrpd",n.replace(/</,"&lt;").replace(/>/,"&gt;"));}return u=u||[],u.unshift(["$provide",function(n){n.value("$rootElement",i)}]),f.debugInfoEnabled&&u.push(["$compileProvider",function(n){n.debugInfoEnabled(!0)}]),u.unshift("ng"),n=vr(u,f.strictDi),n.invoke(["$rootScope","$rootElement","$compile","$injector",function(n,t,i,r){n.$apply(function(){t.data("$injector",r);i(t)(n)})}]),n},o=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;if(n&&o.test(n.name)&&(f.debugInfoEnabled=!0,n.name=n.name.replace(o,"")),n&&!l.test(n.name))return e();n.name=n.name.replace(l,"");rt.resumeBootstrap=function(n){return r(n,function(n){u.push(n)}),e()};h(rt.resumeDeferredBootstrap)&&rt.resumeDeferredBootstrap()}function gc(){n.name="NG_ENABLE_DEBUG_INFO!"+n.name;n.location.reload()}function nl(n){if(n=rt.element(n).injector(),!n)throw li("test");return n.get("$$testability")}function no(n,t){return t=t||"_",n.replace(sv,function(n,i){return(i?t:"")+n.toLowerCase()})}function tl(){var r,t;eh||(t=du(),(pt=f(t)?n.jQuery:t?n[t]:i)&&pt.fn.on?(s=pt,p(pt.fn,{scope:vi.scope,isolateScope:vi.isolateScope,controller:vi.controller,injector:vi.injector,inheritedData:vi.inheritedData}),r=pt.cleanData,pt.cleanData=function(n){var u,t,i;if(ie)ie=!1;else for(t=0;null!=(i=n[t]);t++)(u=pt._data(i,"events"))&&u.$destroy&&pt(i).triggerHandler("$destroy");r(n)}):s=b,rt.element=s,eh=!0)}function iu(n,t,i){if(!n)throw li("areq",t||"?",i||"required");return n}function bi(n,t,i){return i&&a(n)&&(n=n[n.length-1]),iu(h(n),t,"not a function, got "+(n&&"object"==typeof n?n.constructor.name||"Object":typeof n)),n}function ki(n,t){if("hasOwnProperty"===n)throw li("badname",t);}function to(n,t,i){if(!t)return n;t=t.split(".");for(var u,f=n,e=t.length,r=0;r<e;r++)u=t[r],n&&(n=(f=n)[u]);return!i&&h(n)?pe(f,n):n}function ru(n){for(var t=n[0],u=n[n.length-1],i,r=1;t!==u&&(t=t.nextSibling);r++)(i||n[r]!==t)&&(i||(i=s(ni.call(n,0,r))),i.push(t));return i||n}function it(){return Object.create(null)}function il(n){function t(n,t,i){return n[t]||(n[t]=i())}var i=v("$injector"),r=v("ng");return n=t(n,"angular",Object),n.$$minErr=n.$$minErr||v,t(n,"module",function(){var n={};return function(u,f,e){if("hasOwnProperty"===u)throw r("badname","module");return f&&n.hasOwnProperty(u)&&(n[u]=null),t(n,u,function(){function t(n,t,i,u){return u||(u=r),function(){return u[i||"push"]([n,t,arguments]),o}}function n(n,t){return function(i,f){return f&&h(f)&&(f.$$moduleName=u),r.push([n,t,arguments]),o}}if(!f)throw i("nomod",u);var r=[],s=[],c=[],l=t("$injector","invoke","push",s),o={_invokeQueue:r,_configBlocks:s,_runBlocks:c,requires:f,name:u,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),config:l,run:function(n){return c.push(n),this}};return e&&l(e),o})}})}function rl(t){p(t,{bootstrap:ge,copy:st,extend:p,merge:pc,equals:ot,element:s,forEach:r,injector:vr,noop:o,bind:pe,toJson:lr,fromJson:we,identity:fr,isUndefined:f,isDefined:e,isString:l,isFunction:h,isObject:c,isNumber:k,isElement:ye,isArray:a,version:hv,isDate:ft,lowercase:y,uppercase:bu,callbacks:{counter:0},getTestability:nl,$$minErr:v,$$csp:ai,reloadWithDebugInfo:gc});te=il(n);te("ng",["ngLocale"],["$provide",function(n){n.provider({$$sanitizeUri:aa});n.provider("$compile",ho).directive({a:gh,input:ec,textarea:ec,form:dy,script:bw,select:gw,style:tb,option:nb,ngBind:ep,ngBindHtml:sp,ngBindTemplate:op,ngClass:cp,ngClassEven:ap,ngClassOdd:lp,ngCloak:vp,ngController:yp,ngForm:gy,ngHide:lw,ngIf:wp,ngInclude:bp,ngInit:dp,ngNonBindable:uw,ngPluralize:sw,ngRepeat:hw,ngShow:cw,ngStyle:aw,ngSwitch:vw,ngSwitchWhen:yw,ngSwitchDefault:pw,ngOptions:ow,ngTransclude:ww,ngModel:tw,ngList:gp,ngChange:hp,pattern:lc,ngPattern:lc,required:cc,ngRequired:cc,minlength:vc,ngMinlength:vc,maxlength:ac,ngMaxlength:ac,ngValue:fp,ngModelOptions:rw}).directive({ngInclude:kp}).directive(kr).directive(oc);n.provider({$anchorScroll:sl,$animate:ty,$animateCss:iy,$$animateQueue:ny,$$AnimateRunner:gv,$browser:ll,$cacheFactory:al,$controller:yl,$document:pl,$exceptionHandler:wl,$filter:ls,$$forceReflow:uy,$interpolate:ia,$interval:ra,$http:dl,$httpParamSerializer:bl,$httpParamSerializerJQLike:kl,$httpBackend:na,$location:ua,$log:fa,$parse:oa,$rootScope:la,$q:sa,$$q:ha,$sce:pa,$sceDelegate:ya,$sniffer:wa,$templateCache:vl,$templateRequest:ba,$$testability:ka,$timeout:da,$window:ga,$$rAF:ca,$$jqLite:el,$$HashMap:bv,$$cookieReader:nv})}])}function ar(n){return n.replace(cv,function(n,t,i,r){return r?i.toUpperCase():i}).replace(lv,"Moz$1")}function io(n){return n=n.nodeType,n===wt||!n||9===n}function ro(n,t){var i,u,f=t.createDocumentFragment(),e=[];if(ue.test(n)){for(i=i||f.appendChild(t.createElement("div")),u=(yv.exec(n)||["",""])[1].toLowerCase(),u=lt[u]||lt._default,i.innerHTML=u[1]+n.replace(pv,"<$1><\/$2>")+u[2],u=u[0];u--;)i=i.lastChild;e=cr(e,i.childNodes);i=f.firstChild;i.textContent=""}else e.push(t.createTextNode(n));return f.textContent="",f.innerHTML="",r(e,function(n){f.appendChild(n)}),f}function b(n){var i,r;if(n instanceof b)return n;if(l(n)&&(n=w(n),i=!0),!(this instanceof b)){if(i&&"<"!=n.charAt(0))throw re("nosel");return new b(n)}i&&(i=t,n=(r=vv.exec(n))?[i.createElement(r[1])]:(r=ro(n,i))?r.childNodes:[]);fo(this,n)}function hf(n){return n.cloneNode(!0)}function uu(n,t){if(t||fu(n),n.querySelectorAll)for(var r=n.querySelectorAll("*"),i=0,u=r.length;i<u;i++)fu(r[i])}function uo(n,t,i,u){if(e(u))throw re("offargs");var f=(u=eu(n))&&u.events,o=u&&u.handle;if(o)if(t)r(t.split(" "),function(t){if(e(i)){var r=f[t];if(hr(r||[],i),r&&0<r.length)return}n.removeEventListener(t,o,!1);delete f[t]});else for(t in f)"$destroy"!==t&&n.removeEventListener(t,o,!1),delete f[t]}function fu(n,t){var u=n.ng339,r=u&&rr[u];r&&(t?delete r.data[t]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),uo(n)),delete rr[u],n.ng339=i))}function eu(n,t){var r=n.ng339,r=r&&rr[r];return t&&!r&&(n.ng339=r=++oh,r=rr[r]={events:{},data:{},handle:i}),r}function cf(n,t,i){if(io(n)){var r=e(i),u=!r&&t&&!c(t),f=!t;if(n=(n=eu(n,!u))&&n.data,r)n[t]=i;else{if(f)return n;if(u)return n&&n[t];p(n,t)}}}function ou(n,t){return n.getAttribute?-1<(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" "):!1}function su(n,t){t&&n.setAttribute&&r(t.split(" "),function(t){n.setAttribute("class",w((" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+w(t)+" "," ")))})}function hu(n,t){if(t&&n.setAttribute){var i=(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(n){n=w(n);-1===i.indexOf(" "+n+" ")&&(i+=n+" ")});n.setAttribute("class",w(i))}}function fo(n,t){var i,r;if(t)if(t.nodeType)n[n.length++]=t;else if(i=t.length,"number"==typeof i&&t.window!==t){if(i)for(r=0;r<i;r++)n[n.length++]=t[r]}else n[n.length++]=t}function eo(n,t){return cu(n,"$"+(t||"ngController")+"Controller")}function cu(n,t,i){for(9==n.nodeType&&(n=n.documentElement),t=a(t)?t:[t];n;){for(var r=0,u=t.length;r<u;r++)if(e(i=s.data(n,t[r])))return i;n=n.parentNode||11===n.nodeType&&n.host}}function oo(n){for(uu(n,!0);n.firstChild;)n.removeChild(n.firstChild)}function lf(n,t){t||uu(n);var i=n.parentNode;i&&i.removeChild(n)}function ul(t,i){if(i=i||n,"complete"===i.document.readyState)i.setTimeout(t);else s(i).on("load",t)}function so(n,t){var i=br[t.toLowerCase()];return i&&fe[bt(n)]&&i}function fl(n,t){var i=function(i,r){var u,e,s,o;if(i.isDefaultPrevented=function(){return i.defaultPrevented},u=t[r||i.type],e=u?u.length:0,e)for(f(i.immediatePropagationStopped)&&(s=i.stopImmediatePropagation,i.stopImmediatePropagation=function(){i.immediatePropagationStopped=!0;i.stopPropagation&&i.stopPropagation();s&&s.call(i)}),i.isImmediatePropagationStopped=function(){return!0===i.immediatePropagationStopped},1<e&&(u=ht(u)),o=0;o<e;o++)i.isImmediatePropagationStopped()||u[o].call(n,i)};return i.elem=n,i}function el(){this.$get=function(){return p(b,{hasClass:function(n,t){return n.attr&&(n=n[0]),ou(n,t)},addClass:function(n,t){return n.attr&&(n=n[0]),hu(n,t)},removeClass:function(n,t){return n.attr&&(n=n[0]),su(n,t)}})}}function ei(n,t){var i=n&&n.$$hashKey;return i?("function"==typeof i&&(i=n.$$hashKey()),i):(i=typeof n,"function"==i||"object"==i&&null!==n?n.$$hashKey=i+":"+(t||yc)():i+":"+n)}function di(n,t){if(t){var i=0;this.nextUid=function(){return++i}}r(n,this.put,this)}function ol(n){return(n=n.toString().replace(hh,"").match(sh))?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function vr(n,t){function o(n){return function(t,i){if(c(t))r(t,ce(n));else return n(t,i)}}function b(n,t){if(ki(n,"service"),(h(t)||a(t))&&(t=u.instantiate(t)),!t.$get)throw yi("pget",n);return v[n+"Provider"]=t}function nt(n,t){return function(){var i=e.invoke(t,this);if(f(i))throw yi("undef",n);return i}}function y(n,t,i){return b(n,{$get:!1!==i?nt(n,t):t})}function k(n){iu(f(n)||a(n),"modulesToLoad","not an array");var t=[],i;return r(n,function(n){function f(n){for(var i,r,t=0,f=n.length;t<f;t++)i=n[t],r=u.get(i[0]),r[i[1]].apply(r,i[2])}if(!g.get(n)){g.put(n,!0);try{l(n)?(i=te(n),t=t.concat(k(i.requires)).concat(i._runBlocks),f(i._invokeQueue),f(i._configBlocks)):h(n)?t.push(u.invoke(n)):a(n)?t.push(u.invoke(n)):bi(n,"module")}catch(r){throw a(n)&&(n=n[n.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),yi("modulerr",n,r.stack||r.message||r);}}}),t}function d(n,i){function r(t,r){if(n.hasOwnProperty(t)){if(n[t]===p)throw yi("cdep",t+" <- "+s.join(" <- "));return n[t]}try{return s.unshift(t),n[t]=p,n[t]=i(t,r)}catch(u){throw n[t]===p&&delete n[t],u;}finally{s.shift()}}function u(n,i,u,f){"string"==typeof u&&(f=u,u=null);for(var h=[],c=vr.$$annotate(n,t,f),e,o=0,s=c.length;o<s;o++){if(e=c[o],"string"!=typeof e)throw yi("itkn",e);h.push(u&&u.hasOwnProperty(e)?u[e]:r(e,f))}return a(n)&&(n=n[s]),n.apply(i,h)}return{invoke:u,instantiate:function(n,t,i){var r=Object.create((a(n)?n[n.length-1]:n).prototype||null);return n=u(n,r,t,i),c(n)||h(n)?n:r},get:r,annotate:vr.$$annotate,has:function(t){return v.hasOwnProperty(t+"Provider")||n.hasOwnProperty(t)}}}t=!0===t;var p={},s=[],g=new di([],!0),v={$provide:{provider:o(b),factory:o(y),service:o(function(n,t){return y(n,["$injector",function(n){return n.instantiate(t)}])}),value:o(function(n,t){return y(n,vt(t),!1)}),constant:o(function(n,t){ki(n,"constant");v[n]=t;w[n]=t}),decorator:function(n,t){var i=u.get(n+"Provider"),r=i.$get;i.$get=function(){var n=e.invoke(r,i);return e.invoke(t,null,{$delegate:n})}}}},u=v.$injector=d(v,function(n,t){rt.isString(t)&&s.push(t);throw yi("unpr",s.join(" <- "));}),w={},e=w.$injector=d(w,function(n,t){var r=u.get(n+"Provider",t);return e.invoke(r.$get,r,i,n)});return r(k(n),function(n){n&&e.invoke(n)}),e}function sl(){var n=!0;this.disableAutoScrolling=function(){n=!1};this.$get=["$window","$location","$rootScope",function(t,i,r){function o(n){var t=null;return Array.prototype.some.call(n,function(n){if("a"===bt(n))return t=n,!0}),t}function u(n){if(n){n.scrollIntoView();var i;i=f.yOffset;h(i)?i=i():ye(i)?(i=i[0],i="fixed"!==t.getComputedStyle(i).position?0:i.getBoundingClientRect().bottom):k(i)||(i=0);i&&(n=n.getBoundingClientRect().top,t.scrollBy(0,n-i))}else t.scrollTo(0,0)}function f(n){n=l(n)?n:i.hash();var t;n?(t=e.getElementById(n))?u(t):(t=o(e.getElementsByName(n)))?u(t):"top"===n&&u(null):u(null)}var e=t.document;return n&&r.$watch(function(){return i.hash()},function(n,t){n===t&&""===n||ul(function(){r.$evalAsync(f)})}),f}]}function yr(n,t){return!n&&!t?"":n?t?(a(n)&&(n=n.join(" ")),a(t)&&(t=t.join(" ")),n+" "+t):n:t}function hl(n){l(n)&&(n=n.split(" "));var t=it();return r(n,function(n){n.length&&(t[n]=!0)}),t}function oi(n){return c(n)?n:{}}function cl(n,t,i,u){function k(n){try{n.apply(null,ni.call(arguments,1))}finally{if(l--,0===l)for(;b.length;)try{b.pop()()}catch(t){i.error(t)}}}function d(){y=null;g();tt()}function g(){n:{try{h=p.state;break n}catch(n){}h=void 0}h=f(h)?null:h;ot(h,nt)&&(h=nt);nt=h}function tt(){(v!==e.url()||a!==h)&&(v=e.url(),a=h,r(it,function(n){n(e.url(),h)}))}var e=this,c=n.location,p=n.history,ut=n.setTimeout,ft=n.clearTimeout,w={},l,b;e.isMock=!1;l=0;b=[];e.$$completeOutstandingRequest=k;e.$$incOutstandingRequestCount=function(){l++};e.notifyWhenNoOutstandingRequests=function(n){0===l?n():b.push(n)};var h,a,v=c.href,et=t.find("base"),y=null;g();a=h;e.url=function(t,i,r){var s,o;return(f(r)&&(r=null),c!==n.location&&(c=n.location),p!==n.history&&(p=n.history),t)?(s=a===r,v===t&&(!u.history||s))?e:(o=v&&si(v)===si(t),v=t,a=r,!u.history||o&&s?((!o||y)&&(y=t),i?c.replace(t):o?(i=c,r=t.indexOf("#"),r=-1===r?"":t.substr(r),i.hash=r):c.href=t,c.href!==t&&(y=t)):(p[i?"replaceState":"pushState"](r,"",t),g(),a=h),e):y||c.href.replace(/%27/g,"'")};e.state=function(){return h};var it=[],rt=!1,nt=null;e.onUrlChange=function(t){if(!rt){if(u.history)s(n).on("popstate",d);s(n).on("hashchange",d);rt=!0}return it.push(t),t};e.$$applicationDestroyed=function(){s(n).off("hashchange popstate",d)};e.$$checkUrlChange=tt;e.baseHref=function(){var n=et.attr("href");return n?n.replace(/^(https?\:)?\/\/[^\/]*/,""):""};e.defer=function(n,t){var i;return l++,i=ut(function(){delete w[i];k(n)},t||0),w[i]=!0,i};e.defer.cancel=function(n){return w[n]?(delete w[n],ft(n),k(o),!0):!1}}function ll(){this.$get=["$window","$log","$sniffer","$document",function(n,t,i,r){return new cl(n,r,t,i)}]}function al(){this.$get=function(){function t(t,i){function l(n){n!=e&&(r?r==n&&(r=n.n):r=n,c(n.n,n.p),c(n,e),e=n,e.n=null)}function c(n,t){n!=t&&(n&&(n.p=t),t&&(t.n=n))}if(t in n)throw v("$cacheFactory")("iid",t);var s=0,a=p({},i,{id:t}),o={},h=i&&i.capacity||Number.MAX_VALUE,u={},e=null,r=null;return n[t]={put:function(n,t){if(!f(t)){if(h<Number.MAX_VALUE){var i=u[n]||(u[n]={key:n});l(i)}return n in o||s++,o[n]=t,s>h&&this.remove(r.key),t}},get:function(n){if(h<Number.MAX_VALUE){var t=u[n];if(!t)return;l(t)}return o[n]},remove:function(n){if(h<Number.MAX_VALUE){var t=u[n];if(!t)return;t==e&&(e=t.p);t==r&&(r=t.n);c(t.n,t.p);delete u[n]}delete o[n];s--},removeAll:function(){o={};s=0;u={};e=r=null},destroy:function(){u=a=o=null;delete n[t]},info:function(){return p({},a,{size:s})}}}var n={};return t.info=function(){var t={};return r(n,function(n,i){t[i]=n.info()}),t},t.get=function(t){return n[t]},t}}function vl(){this.$get=["$cacheFactory",function(n){return n("templates")}]}function ho(n,u){function k(n,t,i){var f=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,u={};return r(n,function(n,r){var e=n.match(f);if(!e)throw ut("iscp",t,r,n,i?"controller bindings definition":"isolate scope definition");u[r]={mode:e[1][0],collection:"*"===e[2],optional:"?"===e[3],attrName:e[4]||r}}),u}function d(n){var t=n.charAt(0);if(!t||t!==y(t))throw ut("baddir",n);if(n!==n.trim())throw ut("baddir",n);}var b={},g=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,nt=/(([\w\-]+)(?:\:([^;]+))?;?)/,tt=wc("ngSrc,ngSrcset,src,srcset"),rt=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,ft=/^(on[a-z]+|formaction)$/,v;this.directive=function et(t,i){return ki(t,"directive"),l(t)?(d(t),iu(i,"directiveFactory"),b.hasOwnProperty(t)||(b[t]=[],n.factory(t+"Directive",["$injector","$exceptionHandler",function(n,i){var u=[];return r(b[t],function(r,f){var e,v,y,p,w,b;try{e=n.invoke(r);h(e)?e={compile:vt(e)}:!e.compile&&e.link&&(e.compile=vt(e.link));e.priority=e.priority||0;e.index=f;e.name=e.name||t;e.require=e.require||e.controller&&e.name;e.restrict=e.restrict||"EA";var d=e,o=e,a=e.name,s={isolateScope:null,bindToController:null};if(c(o.scope)&&(!0===o.bindToController?(s.bindToController=k(o.scope,a,!0),s.isolateScope={}):s.isolateScope=k(o.scope,a,!1)),c(o.bindToController)&&(s.bindToController=k(o.bindToController,a,!0)),c(s.bindToController)){if(v=o.controller,y=o.controllerAs,!v)throw ut("noctrl",a);n:if(y&&l(y))p=y;else{if(l(v)&&(w=ah.exec(v),w)){p=w[3];break n}p=void 0}if(!p)throw ut("noident",a);}b=d.$$bindings=s;c(b.isolateScope)&&(e.$$isolateBindings=b.isolateScope);e.$$moduleName=r.$$moduleName;u.push(e)}catch(g){i(g)}}),u}])),b[t].push(i)):r(t,ce(et)),this};this.aHrefSanitizationWhitelist=function(n){return e(n)?(u.aHrefSanitizationWhitelist(n),this):u.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(n){return e(n)?(u.imgSrcSanitizationWhitelist(n),this):u.imgSrcSanitizationWhitelist()};v=!0;this.debugInfoEnabled=function(n){return e(n)?(v=n,this):v};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(n,u,e,k,d,et,st,ht,ct,lt,at){function ti(n,t){try{n.addClass(t)}catch(i){}}function vt(n,t,i,u,f){var o,e;return n instanceof s||(n=s(n)),r(n,function(t,i){t.nodeType==ir&&t.nodeValue.match(/\S+/)&&(n[i]=s(t).wrap("<span><\/span>").parent()[0])}),o=fi(n,t,n,i,u,f),vt.$$addScopeClass(n),e=null,function(t,i,r){var u,f,h;if(iu(t,"scope"),r=r||{},u=r.parentBoundTranscludeFn,f=r.transcludeControllers,r=r.futureParentElement,u&&u.$$boundTransclude&&(u=u.$$boundTransclude),e||(e=(r=r&&r[0])?"foreignobject"!==bt(r)&&r.toString().match(/SVG/)?"svg":"html":"html"),r="html"!==e?s(oi(e,s("<div>").append(n).html())):i?vi.clone.call(n):n,f)for(h in f)r.data("$"+h+"Controller",f[h].instance);return vt.$$addScopeInfo(r,t),i&&i(r,t),o&&o(t,r,r,u),r}}function fi(n,t,r,u,f,e){function p(n,r,u,f){var h,l,c,e,p,a,y;if(v)for(y=Array(r.length),e=0;e<o.length;e+=3)h=o[e],y[h]=r[h];else y=r;for(e=0,p=o.length;e<p;)(l=y[o[e++]],r=o[e++],h=o[e++],r)?(r.scope?(c=n.$new(),vt.$$addScopeInfo(s(l),c),a=r.$$destroyBindings)&&(r.$$destroyBindings=null,c.$on("$destroyed",a)):c=n,a=r.transcludeOnThisElement?ii(n,r.transclude,f):!r.templateOnThisElement&&f?f:!f&&t?ii(n,t):null,r(h,c,l,u,a,r)):h&&h(n,l.childNodes,i,f)}for(var o=[],h,l,a,y,v,c=0;c<n.length;c++)h=new hi,l=ei(n[c],[],h,0===c?u:i,f),(e=l.length?ai(l,n[c],h,t,r,null,[],[],e):null)&&e.scope&&vt.$$addScopeClass(h.$$element),h=e&&e.terminal||!(a=n[c].childNodes)||!a.length?null:fi(a,e?(e.transcludeOnThisElement||!e.templateOnThisElement)&&e.transclude:t),(e||h)&&(o.push(c,e,h),y=!0,v=v||e),e=null;return y?p:null}function ii(n,t,i){return function(r,u,f,e,o){return r||(r=n.$new(!1,o),r.$$transcluded=!0),t(r,u,{parentBoundTranscludeFn:i,transcludeControllers:f,futureParentElement:e})}}function ei(n,t,i,r,u){var b=i.$attr,e,v,y,p;switch(n.nodeType){case wt:ri(t,dt(bt(n)),"E",r,u);for(var f,o,s,h=n.attributes,a=0,k=h&&h.length;a<k;a++)v=!1,y=!1,f=h[a],e=f.name,o=w(f.value),f=dt(e),(s=lr.test(f))&&(e=e.replace(lh,"").substr(8).replace(/_(.)/g,function(n,t){return t.toUpperCase()})),p=f.replace(/(Start|End)$/,""),tr(p)&&f===p+"Start"&&(v=e,y=e.substr(0,e.length-5)+"end",e=e.substr(0,e.length-6)),f=dt(e.toLowerCase()),b[f]=e,(s||!i.hasOwnProperty(f))&&(i[f]=o,so(n,f)&&(i[f]=!0)),cr(n,t,o,f,s),ri(t,f,"A",r,u,v,y);if(n=n.className,c(n)&&(n=n.animVal),l(n)&&""!==n)for(;e=nt.exec(n);)f=dt(e[2]),ri(t,f,"C",r,u)&&(i[f]=w(e[3])),n=n.substr(e.index+e[0].length);break;case ir:if(11===nr)for(;n.parentNode&&n.nextSibling&&n.nextSibling.nodeType===ir;)n.nodeValue+=n.nextSibling.nodeValue,n.parentNode.removeChild(n.nextSibling);er(t,n.nodeValue);break;case 8:try{(e=g.exec(n.nodeValue))&&(f=dt(e[1]),ri(t,f,"M",r,u)&&(i[f]=w(e[2])))}catch(d){}}return t.sort(ur),t}function ci(n,t,i){var r=[],u=0;if(t&&n.hasAttribute&&n.hasAttribute(t)){do{if(!n)throw ut("uterdir",t,i);n.nodeType==wt&&(n.hasAttribute(t)&&u++,n.hasAttribute(i)&&u--);r.push(n);n=n.nextSibling}while(0<u)}else r.push(n);return s(r)}function li(n,t,i){return function(r,u,f,e,o){return u=ci(u[0],t,i),n(r,u,f,e,o)}}function ai(n,r,u,f,o,v,y,p,b){function vi(n,t,i,r){n&&(i&&(n=li(n,i,r)),n.require=k.require,n.directiveName=tt,(g===k||k.$$isolateScope)&&(n=wi(n,{isolateScope:!0})),y.push(n));t&&(i&&(t=li(t,i,r)),t.require=k.require,t.directiveName=tt,(g===k||k.$$isolateScope)&&(t=wi(t,{isolateScope:!0})),p.push(t))}function ri(n,t,i,r){var u,e,f;if(l(t)){if(f=t.match(rt),t=t.substring(f[0].length),e=f[1]||f[3],f="?"===f[2],"^^"===e?i=i.parent():u=(u=r&&r[t])&&u.instance,u||(r="$"+t+"Controller",u=e?i.inheritedData(r):i.data(r)),!u&&!f)throw ut("ctreq",t,n);}else if(a(t))for(u=[],e=0,f=t.length;e<f;e++)u[e]=ri(n,t[e],i,r);return u||null}function di(n,t,i,r,u,f){var h=it();for(var c in r){var e=r[c],o={$scope:e===g||e.$$isolateScope?u:f,$element:n,$attrs:t,$transclude:i},s=e.controller;"@"==s&&(s=t[e.name]);o=et(s,o,!0,e.controllerAs);h[e.name]=o;bt||n.data("$"+e.name+"Controller",o.instance)}return h}function st(n,t,f,e,o,h){function rt(n,t,r){var u;return or(n)||(r=t,t=n,n=i),bt&&(u=b),r||(r=bt?l.parent():l),o(n,t,u,r,tt)}var a,c,w,v,b,d,l,k,it,nt,tt;if(r===f?(e=u,l=u.$$element):(l=s(f),e=new hi(l,u)),g&&(v=t.$new(!0)),o&&(d=rt,d.$$boundTransclude=o),ht&&(b=di(l,e,d,ht,v,t)),g&&(vt.$$addScopeInfo(l,v,!0,!(ot&&(ot===g||ot===g.$$originalDirective))),vt.$$addScopeClass(l,!0),v.$$isolateBindings=g.$$isolateBindings,si(t,e,v,v.$$isolateBindings,g,v)),b){k=g||ft;k&&b[k.name]&&(c=k.$$bindings.bindToController,(w=b[k.name])&&w.identifier&&c&&(it=w,h.$$destroyBindings=si(t,e,w.instance,c,k)));for(a in b)w=b[a],nt=w(),nt!==w.instance&&(w.instance=nt,l.data("$"+a+"Controller",nt),w===it&&(h.$$destroyBindings(),h.$$destroyBindings=si(t,e,nt,c,k)))}for(a=0,h=y.length;a<h;a++)c=y[a],bi(c,c.isolateScope?v:t,l,e,c.require&&ri(c.directiveName,c.require,l,b),d);for(tt=t,g&&(g.template||null===g.templateUrl)&&(tt=v),n&&n(tt,f.childNodes,i,o),a=p.length-1;0<=a;a--)c=p[a],bi(c,c.isolateScope?v:t,l,e,c.require&&ri(c.directiveName,c.require,l,b),d)}var gt,ii,ki;b=b||{};for(var pt=-Number.MAX_VALUE,ft=b.newScopeDirective,ht=b.controllerDirectives,g=b.newIsolateScopeDirective,ot=b.templateDirective,ti=b.nonTlbTranscludeDirective,fi=!1,ai=!1,bt=b.hasElementTranscludeDirective,nt=u.$$element=s(r),k,tt,d,dt=f,lt,ct=0,at=n.length;ct<at;ct++){if(k=n[ct],gt=k.$$start,ii=k.$$end,gt&&(nt=ci(r,gt,ii)),d=i,pt>k.priority)break;if((d=k.scope)&&(k.templateUrl||(c(d)?(yt("new/isolated scope",g||ft,k,nt),g=k):yt("new/isolated scope",g,k,nt)),ft=ft||k),tt=k.name,!k.templateUrl&&k.controller&&(d=k.controller,ht=ht||it(),yt("'"+tt+"' controller",ht[tt],k,nt),ht[tt]=k),(d=k.transclude)&&(fi=!0,k.$$tlb||(yt("transclusion",ti,k,nt),ti=k),"element"==d?(bt=!0,pt=k.priority,d=nt,nt=u.$$element=s(t.createComment(" "+tt+": "+u[tt]+" ")),r=nt[0],ui(o,ni.call(d,0),r),dt=vt(d,f,pt,v&&v.name,{nonTlbTranscludeDirective:ti})):(d=s(hf(r)).contents(),nt.empty(),dt=vt(d,f))),k.template)if(ai=!0,yt("template",ot,k,nt),ot=k,d=h(k.template)?k.template(nt,u):k.template,d=gi(d),k.replace){if(v=k,d=ue.test(d)?lo(oi(k.templateNamespace,w(d))):[],r=d[0],1!=d.length||r.nodeType!==wt)throw ut("tplrt",tt,"");ui(o,nt,r);at={$attr:{}};d=ei(r,[],at);ki=n.splice(ct+1,n.length-(ct+1));g&&yi(d);n=n.concat(d).concat(ki);pi(u,at);at=n.length}else nt.html(d);if(k.templateUrl)ai=!0,yt("template",ot,k,nt),ot=k,k.replace&&(v=k),st=rr(n.splice(ct,n.length-ct),nt,u,o,fi&&dt,y,p,{controllerDirectives:ht,newScopeDirective:ft!==k&&ft,newIsolateScopeDirective:g,templateDirective:ot,nonTlbTranscludeDirective:ti}),at=n.length;else if(k.compile)try{lt=k.compile(nt,u,dt);h(lt)?vi(null,lt,gt,ii):lt&&vi(lt.pre,lt.post,gt,ii)}catch(nr){e(nr,kt(nt))}k.terminal&&(st.terminal=!0,pt=Math.max(pt,k.priority))}return st.scope=ft&&!0===ft.scope,st.transcludeOnThisElement=fi,st.templateOnThisElement=ai,st.transclude=dt,b.hasElementTranscludeDirective=bt,st}function yi(n){for(var t=0,i=n.length;t<i;t++)n[t]=ef(n[t],{$$isolateScope:!0})}function ri(t,i,r,u,o,s,h){var c,l,a;if(i===o)return null;if(o=null,b.hasOwnProperty(i))for(i=n.get(i+"Directive"),l=0,a=i.length;l<a;l++)try{c=i[l];(f(u)||u>c.priority)&&-1!=c.restrict.indexOf(r)&&(s&&(c=ef(c,{$$start:s,$$end:h})),t.push(c),o=c)}catch(v){e(v)}return o}function tr(t){if(b.hasOwnProperty(t))for(var r=n.get(t+"Directive"),i=0,u=r.length;i<u;i++)if(t=r[i],t.multiElement)return!0;return!1}function pi(n,t){var u=t.$attr,f=n.$attr,i=n.$$element;r(n,function(i,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),n.$set(r,i,!0,u[r]))});r(t,function(t,r){"class"==r?(ti(i,t),n["class"]=(n["class"]?n["class"]+" ":"")+t):"style"==r?(i.attr("style",i.attr("style")+";"+t),n.style=(n.style?n.style+";":"")+t):"$"==r.charAt(0)||n.hasOwnProperty(r)||(n[r]=t,f[r]=u[r])})}function rr(n,t,i,u,f,e,o,l){var y=[],v,p,b=t[0],a=n.shift(),g=ef(a,{templateUrl:null,transclude:null,replace:null,$$originalDirective:a}),d=h(a.templateUrl)?a.templateUrl(t,i):a.templateUrl,nt=a.templateNamespace;return t.empty(),k(d).then(function(h){var k,it,tt,ft;if(h=gi(h),a.replace){if(h=ue.test(h)?lo(oi(nt,w(h))):[],k=h[0],1!=h.length||k.nodeType!==wt)throw ut("tplrt",a.name,d);h={$attr:{}};ui(u,t,k);tt=ei(k,[],h);c(a.scope)&&yi(tt);n=tt.concat(n);pi(i,h)}else k=b,t.html(h);for(n.unshift(g),v=ai(n,k,i,f,t,a,e,o,l),r(u,function(n,i){n==k&&(u[i]=t[0])}),p=fi(t[0].childNodes,f);y.length;){h=y.shift();it=y.shift();var et=y.shift(),rt=y.shift(),tt=t[0];h.$$destroyed||(it!==b&&(ft=it.className,l.hasElementTranscludeDirective&&a.replace||(tt=hf(k)),ui(et,s(it),tt),ti(s(tt),ft)),it=v.transcludeOnThisElement?ii(h,v.transclude,rt):rt,v(p,h,tt,u,it,v))}y=null}),function(n,t,i,r,u){n=u;t.$$destroyed||(y?y.push(t,i,r,n):(v.transcludeOnThisElement&&(n=ii(t,v.transclude,u)),v(p,t,i,r,n,v)))}}function ur(n,t){var i=t.priority-n.priority;return 0!==i?i:n.name!==t.name?n.name<t.name?-1:1:n.index-t.index}function yt(n,t,i,r){function u(n){return n?" (module: "+n+")":""}if(t)throw ut("multidir",t.name,u(t.$$moduleName),i.name,u(i.$$moduleName),n,kt(r));}function er(n,t){var i=u(t,!0);i&&n.push({priority:0,compile:function(n){n=n.parent();var t=!!n.length;return t&&vt.$$addBindingClass(n),function(n,r){var u=r.parent();t||vt.$$addBindingClass(u);vt.$$addBindingInfo(u,i.expressions);n.$watch(i,function(n){r[0].nodeValue=n})}}})}function oi(n,i){n=y(n||"html");switch(n){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+n+">"+i+"<\/"+n+">",r.childNodes[0].childNodes;default:return i}}function sr(n,t){if("srcdoc"==t)return ct.HTML;var i=bt(n);if("xlinkHref"==t||"form"==i&&"action"==t||"img"!=i&&("src"==t||"ngSrc"==t))return ct.RESOURCE_URL}function cr(n,t,i,r,f){var o=sr(n,r),e;if(f=tt[r]||f,e=u(i,!0,o,f),e){if("multiple"===r&&"select"===bt(n))throw ut("selmulti",kt(n));t.push({priority:100,compile:function(){return{pre:function(n,t,s){if(t=s.$$observers||(s.$$observers={}),ft.test(r))throw ut("nodomevents");var h=s[r];h!==i&&(e=h&&u(h,!0,o,f),i=h);e&&(s[r]=e(n),(t[r]||(t[r]=[])).$$inter=!0,(s.$$observers&&s.$$observers[r].$$scope||n).$watch(e,function(n,t){"class"===r&&n!=t?s.$updateClass(n,t):s.$set(r,n)}))}}}})}}function ui(n,i,r){var u=i[0],h=i.length,o=u.parentNode,f,e,c;if(n)for(f=0,e=n.length;f<e;f++)if(n[f]==u){for(n[f++]=r,e=f+h-1,c=n.length;f<c;f++,e++)e<c?n[f]=n[e]:delete n[f];n.length-=h-1;n.context===u&&(n.context=r);break}for(o&&o.replaceChild(r,u),n=t.createDocumentFragment(),n.appendChild(u),s.hasData(u)&&(s(r).data(s(u).data()),pt?(ie=!0,pt.cleanData([u])):delete s.cache[u[s.expando]]),u=1,h=i.length;u<h;u++)o=i[u],s(o).remove(),n.appendChild(o),delete i[u];i[0]=r;i.length=1}function wi(n,t){return p(function(){return n.apply(null,arguments)},n,t)}function bi(n,t,i,r,u,f){try{n(t,i,r,u,f)}catch(o){e(o,kt(i))}}function si(n,t,i,f,e,s){var h;return r(f,function(r,f){var s=r.attrName,c=r.optional,v,a,p,y;switch(r.mode){case"@":c||gt.call(t,s)||(i[f]=t[s]=void 0);t.$observe(s,function(n){l(n)&&(i[f]=n)});t.$$observers[s].$$scope=n;l(t[s])&&(i[f]=u(t[s])(n));break;case"=":if(!gt.call(t,s)){if(c)break;t[s]=void 0}if(c&&!t[s])break;a=d(t[s]);y=a.literal?ot:function(n,t){return n===t||n!==n&&t!==t};p=a.assign||function(){v=i[f]=a(n);throw ut("nonassign",t[s],e.name);};v=i[f]=a(n);c=function(t){return y(t,i[f])||(y(t,v)?p(n,t=i[f]):i[f]=t),v=t};c.$stateful=!0;c=r.collection?n.$watchCollection(t[s],c):n.$watch(d(t[s],c),null,a.literal);h=h||[];h.push(c);break;case"&":if(a=t.hasOwnProperty(s)?d(t[s]):o,a===o&&c)break;i[f]=function(t){return a(n,t)}}}),f=h?function(){for(var n=0,t=h.length;n<t;++n)h[n]()}:o,s&&f!==o?(s.$on("$destroy",f),o):f}var hi=function(n,t){if(t)for(var u=Object.keys(t),r,i=0,f=u.length;i<f;i++)r=u[i],this[r]=t[r];else this.$attr={};this.$$element=n};hi.prototype={$normalize:dt,$addClass:function(n){n&&0<n.length&&lt.addClass(this.$$element,n)},$removeClass:function(n){n&&0<n.length&&lt.removeClass(this.$$element,n)},$updateClass:function(n,t){var i=co(n,t);i&&i.length&&lt.addClass(this.$$element,i);(i=co(t,n))&&i.length&&lt.removeClass(this.$$element,i)},$set:function(n,t,i,u){var s=so(this.$$element[0],n),o=ee[n],l=n;if(s?(this.$$element.prop(n,t),u=s):o&&(this[o]=t,l=o),this[n]=t,u?this.$attr[n]=u:(u=this.$attr[n])||(this.$attr[n]=u=no(n,"-")),s=bt(this.$$element),"a"===s&&"href"===n||"img"===s&&"src"===n)this[n]=t=at(t,"src"===n);else if("img"===s&&"srcset"===n){for(var s="",o=w(t),c=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,c=/\s/.test(o)?c:/(,)/,o=o.split(c),c=Math.floor(o.length/2),h=0;h<c;h++)var a=2*h,s=s+at(w(o[a]),!0),s=s+(" "+w(o[a+1]));o=w(o[2*h]).split(/\s/);s+=at(w(o[0]),!0);2===o.length&&(s+=" "+w(o[1]));this[n]=t=s}!1!==i&&(null===t||f(t)?this.$$element.removeAttr(u):this.$$element.attr(u,t));(n=this.$$observers)&&r(n[l],function(n){try{n(t)}catch(i){e(i)}})},$observe:function(n,t){var i=this,u=i.$$observers||(i.$$observers=it()),r=u[n]||(u[n]=[]);return r.push(t),st.$evalAsync(function(){r.$$inter||!i.hasOwnProperty(n)||f(i[n])||t(i[n])}),function(){hr(r,t)}}};var ki=u.startSymbol(),di=u.endSymbol(),gi="{{"==ki||"}}"==di?fr:function(n){return n.replace(/\{\{/g,ki).replace(/}}/g,di)},lr=/^ngAttr[A-Z]/;return vt.$$addBindingInfo=v?function(n,t){var i=n.data("$binding")||[];a(t)?i=i.concat(t):i.push(t);n.data("$binding",i)}:o,vt.$$addBindingClass=v?function(n){ti(n,"ng-binding")}:o,vt.$$addScopeInfo=v?function(n,t,i,r){n.data(i?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:o,vt.$$addScopeClass=v?function(n,t){ti(n,t?"ng-isolate-scope":"ng-scope")}:o,vt}]}function dt(n){return ar(n.replace(lh,""))}function co(n,t){var r="",e=n.split(/\s+/),o=t.split(/\s+/),u=0,f,i;n:for(;u<e.length;u++){for(f=e[u],i=0;i<o.length;i++)if(f==o[i])continue n;r+=(0<r.length?" ":"")+f}return r}function lo(n){n=s(n);var t=n.length;if(1>=t)return n;for(;t--;)8===n[t].nodeType&&ev.call(n,t,1);return n}function yl(){var n={},t=!1;this.register=function(t,i){ki(t,"controller");c(t)?p(n,t):n[t]=i};this.allowGlobals=function(){t=!0};this.$get=["$injector","$window",function(r,u){function f(n,t,i,r){if(!n||!c(n.$scope))throw v("$controller")("noscp",r,t);n.$scope[t]=i}return function(e,o,s,v){var y,w,b;if(s=!0===s,v&&l(v)&&(b=v),l(e)){if(v=e.match(ah),!v)throw ry("ctrlfmt",e);w=v[1];b=b||v[3];e=n.hasOwnProperty(w)?n[w]:to(o.$scope,w,!0)||(t?to(u,w,!0):i);bi(e,w,!0)}return s?(s=(a(e)?e[e.length-1]:e).prototype,y=Object.create(s||null),b&&f(o,b,y,w||e.name),p(function(){var n=r.invoke(e,y,o,w);return n!==y&&(c(n)||h(n))&&(y=n,b&&f(o,b,y,w||e.name)),y},{instance:y,identifier:b})):(y=r.instantiate(e,o,w),b&&f(o,b,y,w||e.name),y)}}]}function pl(){this.$get=["$window",function(n){return s(n.document)}]}function wl(){this.$get=["$log",function(n){return function(){n.error.apply(n,arguments)}}]}function af(n){return c(n)?ft(n)?n.toISOString():lr(n):n}function bl(){this.$get=function(){return function(n){if(!n)return"";var t=[];return he(n,function(n,i){null===n||f(n)||(a(n)?r(n,function(n){t.push(ct(i)+"="+ct(af(n)))}):t.push(ct(i)+"="+ct(af(n))))}),t.join("&")}}}function kl(){this.$get=function(){return function(n){function t(n,u,e){null===n||f(n)||(a(n)?r(n,function(n,i){t(n,u+"["+(c(n)?i:"")+"]")}):c(n)&&!ft(n)?he(n,function(n,i){t(n,u+(e?"":"[")+i+(e?"":"]"))}):i.push(ct(u)+"="+ct(af(n))))}if(!n)return"";var i=[];return t(n,"",!0),i.join("&")}}}function vf(n,t){var r,i;return l(n)&&(r=n.replace(oy,"").trim(),r&&(i=t("Content-Type"),(i=i&&0===i.indexOf(vh))||(i=(i=r.match(fy))&&ey[i[0]].test(r)),i&&(n=we(r)))),n}function ao(n){var t=it(),i;return l(n)?r(n.split("\n"),function(n){i=n.indexOf(":");var r=y(w(n.substr(0,i)));n=w(n.substr(i+1));r&&(t[r]=t[r]?t[r]+", "+n:n)}):c(n)&&r(n,function(n,i){var r=y(i),u=w(n);r&&(t[r]=t[r]?t[r]+", "+u:u)}),t}function vo(n){var t;return function(i){return t||(t=ao(n)),i?(i=t[y(i)],void 0===i&&(i=null),i):t}}function yo(n,t,i,u){return h(u)?u(n,t,i):(r(u,function(r){n=r(n,t,i)}),n)}function dl(){var n=this.defaults={transformResponse:[vf],transformRequest:[function(n){return c(n)&&"[object File]"!==ti.call(n)&&"[object Blob]"!==ti.call(n)&&"[object FormData]"!==ti.call(n)?lr(n):n}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ht(oe),put:ht(oe),patch:ht(oe)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},u=!1,t,o;this.useApplyAsync=function(n){return e(n)?(u=!!n,this):u};t=!0;this.useLegacyPromiseExtensions=function(n){return e(n)?(t=!!n,this):t};o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,w,b,k,d,g){function nt(u){function c(n){var t=p({},n);return t.data=n.data?yo(n.data,n.headers,n.status,e.transformResponse):n.data,n=n.status,200<=n&&300>n?t:d.reject(t)}function w(n,t){var i,u={};return r(n,function(n,r){h(n)?(i=n(t),null!=i&&(u[r]=i)):u[r]=n}),u}var e,s,a,o;if(!rt.isObject(u))throw v("$http")("badreq",u);for(e=p({method:"get",transformRequest:n.transformRequest,transformResponse:n.transformResponse,paramSerializer:n.paramSerializer},u),e.headers=function(t){var i=n.headers,u=p({},t.headers),r,f,e,i=p({},i.common,i[y(t.method)]);n:for(r in i){f=y(r);for(e in u)if(y(e)===f)continue n;u[r]=i[r]}return w(u,ht(t))}(u),e.method=bu(e.method),e.paramSerializer=l(e.paramSerializer)?g.get(e.paramSerializer):e.paramSerializer,s=[function(t){var u=t.headers,e=yo(t.data,vo(u),i,t.transformRequest);return f(e)&&r(u,function(n,t){"content-type"===y(t)&&delete u[t]}),f(t.withCredentials)&&!f(n.withCredentials)&&(t.withCredentials=n.withCredentials),it(t,e).then(c,c)},i],o=d.when(e),r(tt,function(n){(n.request||n.requestError)&&s.unshift(n.request,n.requestError);(n.response||n.responseError)&&s.push(n.response,n.responseError)});s.length;)u=s.shift(),a=s.shift(),o=o.then(u,a);return t?(o.success=function(n){return bi(n,"fn"),o.then(function(t){n(t.data,t.status,t.headers,e)}),o},o.error=function(n){return bi(n,"fn"),o.then(null,function(t){n(t.data,t.status,t.headers,e)}),o}):(o.success=yh("success"),o.error=yh("error")),o}function it(t,r){function rt(n,t,i,r){function f(){y(t,n,i,r)}l&&(200<=n&&300>n?l.put(v,[n,t,ao(i),r]):l.remove(v));u?k.$applyAsync(f):(f(),k.$$phase||k.$apply())}function y(n,i,r,u){i=-1<=i?i:0;(200<=i&&300>i?p.resolve:p.reject)({data:n,status:i,headers:vo(r),config:t,statusText:u})}function g(n){y(n.data,n.status,ht(n.headers()),n.statusText)}function tt(){var n=nt.pendingRequests.indexOf(t);-1!==n&&nt.pendingRequests.splice(n,1)}var p=d.defer(),b=p.promise,l,o,it=t.headers,v=ut(t.url,t.paramSerializer(t.params));return nt.pendingRequests.push(t),b.then(tt,tt),(t.cache||n.cache)&&!1!==t.cache&&("GET"===t.method||"JSONP"===t.method)&&(l=c(t.cache)?t.cache:c(n.cache)?n.cache:ft),l&&(o=l.get(v),e(o)?o&&h(o.then)?o.then(g,g):a(o)?y(o[1],o[0],ht(o[2]),o[3]):y(o,200,{},"OK"):l.put(v,b)),f(o)&&((o=hs(t.url)?w()[t.xsrfCookieName||n.xsrfCookieName]:i)&&(it[t.xsrfHeaderName||n.xsrfHeaderName]=o),s(t.method,v,r,rt,it,t.timeout,t.withCredentials,t.responseType)),b}function ut(n,t){return 0<t.length&&(n+=(-1==n.indexOf("?")?"?":"&")+t),n}var ft=b("$http"),tt;return n.paramSerializer=l(n.paramSerializer)?g.get(n.paramSerializer):n.paramSerializer,tt=[],r(o,function(n){tt.unshift(l(n)?g.get(n):g.invoke(n))}),nt.pendingRequests=[],function(){r(arguments,function(n){nt[n]=function(t,i){return nt(p({},i||{},{method:n,url:t}))}})}("get","delete","head","jsonp"),function(){r(arguments,function(n){nt[n]=function(t,i,r){return nt(p({},r||{},{method:n,url:t,data:i}))}})}("post","put","patch"),nt.defaults=n,nt}]}function gl(){return new n.XMLHttpRequest}function na(){this.$get=["$browser","$window","$document",function(n,t,i){return ta(n,gl,n.defer,t.angular.callbacks,i[0])}]}function ta(n,t,i,u,s){function c(n,t,i){var r=s.createElement("script"),f=null;return r.type="text/javascript",r.src=n,r.async=!0,f=function(n){r.removeEventListener("load",f,!1);r.removeEventListener("error",f,!1);s.body.removeChild(r);r=null;var e=-1,o="unknown";n&&("load"!==n.type||u[t].called||(n={type:"error"}),o=n.type,e="error"===n.type?404:200);i&&i(e,o)},r.addEventListener("load",f,!1),r.addEventListener("error",f,!1),s.body.appendChild(r),f}return function(s,l,a,v,p,w,b,k){function rt(){nt&&nt();d&&d.abort()}function tt(t,r,u,f,s){e(it)&&i.cancel(it);nt=d=null;t(r,u,f,s);n.$$completeOutstandingRequest(o)}var g,nt,d,it;if(n.$$incOutstandingRequestCount(),l=l||n.url(),"jsonp"==y(s))g="_"+(u.counter++).toString(36),u[g]=function(n){u[g].data=n;u[g].called=!0},nt=c(l.replace("JSON_CALLBACK","angular.callbacks."+g),g,function(n,t){tt(v,n,u[g].data,"",t);u[g]=o});else{if(d=t(),d.open(s,l,!0),r(p,function(n,t){e(n)&&d.setRequestHeader(t,n)}),d.onload=function(){var i=d.statusText||"",t="response"in d?d.response:d.responseText,n=1223===d.status?204:d.status;0===n&&(n=t?200:"file"==ri(l).protocol?404:0);tt(v,n,t,d.getAllResponseHeaders(),i)},s=function(){tt(v,-1,null,null,"")},d.onerror=s,d.onabort=s,b&&(d.withCredentials=!0),k)try{d.responseType=k}catch(ut){if("json"!==k)throw ut;}d.send(f(a)?null:a)}0<w?it=i(rt,w):w&&h(w.then)&&w.then(rt)}}function ia(){var n="{{",t="}}";this.startSymbol=function(t){return t?(n=t,this):n};this.endSymbol=function(n){return n?(t=n,this):t};this.$get=["$parse","$exceptionHandler","$sce",function(i,r,u){function s(n){return"\\\\\\"+n}function c(i){return i.replace(v,n).replace(y,t)}function o(o,s,v,y){function ut(n){var i,t;try{if(i=n,n=v?u.getTrusted(v,i):u.valueOf(i),y&&!e(n))t=n;else if(null==n)t="";else{switch(typeof n){case"string":break;case"number":n=""+n;break;default:n=lr(n)}t=n}return t}catch(f){r(pi.interr(o,f))}}var tt;y=!!y;for(var k,g,w=0,d=[],nt=[],it=o.length,b=[],rt=[];w<it;)if(-1!=(k=o.indexOf(n,w))&&-1!=(g=o.indexOf(t,k+l)))w!==k&&b.push(c(o.substring(w,k))),w=o.substring(k+l,g),d.push(w),nt.push(i(w,ut)),w=g+a,rt.push(b.length),b.push("");else{w!==it&&b.push(c(o.substring(w)));break}return v&&1<b.length&&pi.throwNoconcat(o),!s||d.length?(tt=function(n){for(var t=0,i=d.length;t<i;t++){if(y&&f(n[t]))return;b[rt[t]]=n[t]}return b.join("")},p(function(n){var t=0,i=d.length,u=Array(i);try{for(;t<i;t++)u[t]=nt[t](n);return tt(u)}catch(f){r(pi.interr(o,f))}},{exp:o,expressions:d,$$watchDelegate:function(n,t){var i;return n.$watchGroup(nt,function(r,u){var f=tt(r);h(t)&&t.call(this,f,r!==u?i:f,n);i=f})}})):void 0}var l=n.length,a=t.length,v=new RegExp(n.replace(/./g,s),"g"),y=new RegExp(t.replace(/./g,s),"g");return o.startSymbol=function(){return n},o.endSymbol=function(){return t},o}]}function ra(){this.$get=["$rootScope","$window","$q","$$q",function(n,t,i,r){function f(f,o,s,h){var v=4<arguments.length,p=v?ni.call(arguments,4):[],w=t.setInterval,b=t.clearInterval,a=0,y=e(h)&&!h,l=(y?r:i).defer(),c=l.promise;return s=e(s)?s:0,c.then(null,null,v?function(){f.apply(null,p)}:f),c.$$intervalId=w(function(){l.notify(a++);0<s&&a>=s&&(l.resolve(a),b(c.$$intervalId),delete u[c.$$intervalId]);y||n.$apply()},o),u[c.$$intervalId]=l,c}var u={};return f.cancel=function(n){return n&&n.$$intervalId in u?(u[n.$$intervalId].reject("canceled"),t.clearInterval(n.$$intervalId),delete u[n.$$intervalId],!0):!1},f}]}function yf(n){n=n.split("/");for(var t=n.length;t--;)n[t]=tu(n[t]);return n.join("/")}function po(n,t){var i=ri(n);t.$$protocol=i.protocol;t.$$host=i.hostname;t.$$port=tt(i.port)||cy[i.protocol]||null}function wo(n,t){var r="/"!==n.charAt(0),i;r&&(n="/"+n);i=ri(n);t.$$path=decodeURIComponent(r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname);t.$$search=de(i.search);t.$$hash=decodeURIComponent(i.hash);t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function yt(n,t){if(0===t.indexOf(n))return t.substr(n.length)}function si(n){var t=n.indexOf("#");return-1==t?n:n.substr(0,t)}function lu(n){return n.replace(/(#.+)|#$/,"$1")}function pf(n,t,i){this.$$html5=!0;i=i||"";po(n,this);this.$$parse=function(n){var i=yt(t,n);if(!l(i))throw gu("ipthprfx",n,t);wo(i,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var n=sf(this.$$search),i=this.$$hash?"#"+tu(this.$$hash):"";this.$$url=yf(this.$$path)+(n?"?"+n:"")+i;this.$$absUrl=t+this.$$url.substr(1)};this.$$parseLinkUrl=function(r,u){if(u&&"#"===u[0])return this.hash(u.slice(1)),!0;var f,o;return e(f=yt(n,r))?(o=f,o=e(f=yt(i,f))?t+(yt("/",f)||f):n+o):e(f=yt(t,r))?o=t+f:t==r+"/"&&(o=t),o&&this.$$parse(o),!!o}}function wf(n,t,i){po(n,this);this.$$parse=function(r){var e=yt(n,r)||yt(t,r),u,o;f(e)||"#"!==e.charAt(0)?this.$$html5?u=e:(u="",f(e)&&(n=r,this.replace())):(u=yt(i,e),f(u)&&(u=e));wo(u,this);r=this.$$path;e=n;o=/^\/[A-Z]:(\/.*)/;0===u.indexOf(e)&&(u=u.replace(e,""));o.exec(u)||(r=(u=o.exec(r))?u[1]:r);this.$$path=r;this.$$compose()};this.$$compose=function(){var t=sf(this.$$search),r=this.$$hash?"#"+tu(this.$$hash):"";this.$$url=yf(this.$$path)+(t?"?"+t:"")+r;this.$$absUrl=n+(this.$$url?i+this.$$url:"")};this.$$parseLinkUrl=function(t){return si(n)==si(t)?(this.$$parse(t),!0):!1}}function bo(n,t,i){this.$$html5=!0;wf.apply(this,arguments);this.$$parseLinkUrl=function(r,u){if(u&&"#"===u[0])return this.hash(u.slice(1)),!0;var f,e;return n==si(r)?f=r:(e=yt(t,r))?f=n+i+e:t===r+"/"&&(f=t),f&&this.$$parse(f),!!f};this.$$compose=function(){var t=sf(this.$$search),r=this.$$hash?"#"+tu(this.$$hash):"";this.$$url=yf(this.$$path)+(t?"?"+t:"")+r;this.$$absUrl=n+i+this.$$url}}function au(n){return function(){return this[n]}}function ko(n,t){return function(i){return f(i)?this[n]:(this[n]=t(i),this.$$compose(),this)}}function ua(){var t="",n={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(n){return e(n)?(t=n,this):t};this.html5Mode=function(t){return sr(t)?(n.enabled=t,this):c(t)?(sr(t.enabled)&&(n.enabled=t.enabled),sr(t.requireBase)&&(n.requireBase=t.requireBase),sr(t.rewriteLinks)&&(n.rewriteLinks=t.rewriteLinks),this):n};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,r,u,e,o){function w(n,t,i){var u=h.url(),f=h.$$state;try{r.url(n,t,i);h.$$state=r.state()}catch(e){throw h.url(u),h.$$state=f,e;}}function b(n,t){i.$broadcast("$locationChangeSuccess",h.absUrl(),n,h.$$state,t)}var h,a,l,v,p,k,y;if(a=r.baseHref(),l=r.url(),n.enabled){if(!a&&n.requireBase)throw gu("nobase");v=l.substring(0,l.indexOf("/",l.indexOf("//")+2))+(a||"/");a=u.history?pf:bo}else v=si(l),a=wf;p=v.substr(0,si(v).lastIndexOf("/")+1);h=new a(v,p,"#"+t);h.$$parseLinkUrl(l,l);h.$$state=r.state();k=/^\s*(javascript|mailto):/i;e.on("click",function(t){var u,f,l;if(n.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(u=s(t.target);"a"!==bt(u[0]);)if(u[0]===e[0]||!(u=u.parent())[0])return;f=u.prop("href");l=u.attr("href")||u.attr("xlink:href");c(f)&&"[object SVGAnimatedString]"===f.toString()&&(f=ri(f.animVal).href);k.test(f)||!f||u.attr("target")||t.isDefaultPrevented()||!h.$$parseLinkUrl(f,l)||(t.preventDefault(),h.absUrl()!=r.url()&&(i.$apply(),o.angular["ff-684208-preventDefault"]=!0))}});lu(h.absUrl())!=lu(l)&&r.url(h.absUrl(),!0);y=!0;r.onUrlChange(function(n,t){f(yt(p,n))?o.location.href=n:(i.$evalAsync(function(){var r=h.absUrl(),u=h.$$state,f;h.$$parse(n);h.$$state=t;f=i.$broadcast("$locationChangeStart",n,r,t,u).defaultPrevented;h.absUrl()===n&&(f?(h.$$parse(r),h.$$state=u,w(r,!1,u)):(y=!1,b(r,u)))}),i.$$phase||i.$digest())});return i.$watch(function(){var t=lu(r.url()),e=lu(h.absUrl()),n=r.state(),o=h.$$replace,f=t!==e||h.$$html5&&u.history&&n!==h.$$state;(y||f)&&(y=!1,i.$evalAsync(function(){var r=h.absUrl(),u=i.$broadcast("$locationChangeStart",r,t,h.$$state,n).defaultPrevented;h.absUrl()===r&&(u?(h.$$parse(t),h.$$state=n):(f&&w(r,o,n===h.$$state?null:h.$$state),b(t,n)))}));h.$$replace=!1}),h}]}function fa(){var n=!0,t=this;this.debugEnabled=function(t){return e(t)?(n=t,this):n};this.$get=["$window",function(i){function f(n){return n instanceof Error&&(n.stack?n=n.message&&-1===n.stack.indexOf(n.message)?"Error: "+n.message+"\n"+n.stack:n.stack:n.sourceURL&&(n=n.message+"\n"+n.sourceURL+":"+n.line)),n}function u(n){var t=i.console||{},u=t[n]||t.log||o;n=!1;try{n=!!u.apply}catch(e){}return n?function(){var n=[];return r(arguments,function(t){n.push(f(t))}),u.apply(t,n)}:function(n,t){u(n,null==t?"":t)}}return{log:u("log"),info:u("info"),warn:u("warn"),error:u("error"),debug:function(){var i=u("debug");return function(){n&&i.apply(t,arguments)}}()}}]}function gi(n,t){if(n=c(n)&&n.toString?n.toString():n,"__defineGetter__"===n||"__defineSetter__"===n||"__lookupGetter__"===n||"__lookupSetter__"===n||"__proto__"===n)throw et("isecfld",t);return n}function ii(n,t){if(n){if(n.constructor===n)throw et("isecfn",t);if(n.window===n)throw et("isecwindow",t);if(n.children&&(n.nodeName||n.prop&&n.attr&&n.find))throw et("isecdom",t);if(n===Object)throw et("isecobj",t);}return n}function go(n,t){if(n){if(n.constructor===n)throw et("isecfn",t);if(n===ay||n===vy||n===yy)throw et("isecff",t);}}function ea(n,t){return"undefined"!=typeof n?n:t}function ns(n,t){return"undefined"==typeof n?t:"undefined"==typeof t?n:n+t}function d(n,t){var i,f;switch(n.type){case u.Program:i=!0;r(n.body,function(n){d(n.expression,t);i=i&&n.expression.constant});n.constant=i;break;case u.Literal:n.constant=!0;n.toWatch=[];break;case u.UnaryExpression:d(n.argument,t);n.constant=n.argument.constant;n.toWatch=n.argument.toWatch;break;case u.BinaryExpression:d(n.left,t);d(n.right,t);n.constant=n.left.constant&&n.right.constant;n.toWatch=n.left.toWatch.concat(n.right.toWatch);break;case u.LogicalExpression:d(n.left,t);d(n.right,t);n.constant=n.left.constant&&n.right.constant;n.toWatch=n.constant?[]:[n];break;case u.ConditionalExpression:d(n.test,t);d(n.alternate,t);d(n.consequent,t);n.constant=n.test.constant&&n.alternate.constant&&n.consequent.constant;n.toWatch=n.constant?[]:[n];break;case u.Identifier:n.constant=!1;n.toWatch=[n];break;case u.MemberExpression:d(n.object,t);n.computed&&d(n.property,t);n.constant=n.object.constant&&(!n.computed||n.property.constant);n.toWatch=[n];break;case u.CallExpression:i=n.filter?!t(n.callee.name).$stateful:!1;f=[];r(n.arguments,function(n){d(n,t);i=i&&n.constant;n.constant||f.push.apply(f,n.toWatch)});n.constant=i;n.toWatch=n.filter&&!t(n.callee.name).$stateful?f:[n];break;case u.AssignmentExpression:d(n.left,t);d(n.right,t);n.constant=n.left.constant&&n.right.constant;n.toWatch=[n];break;case u.ArrayExpression:i=!0;f=[];r(n.elements,function(n){d(n,t);i=i&&n.constant;n.constant||f.push.apply(f,n.toWatch)});n.constant=i;n.toWatch=f;break;case u.ObjectExpression:i=!0;f=[];r(n.properties,function(n){d(n.value,t);i=i&&n.value.constant;n.value.constant||f.push.apply(f,n.value.toWatch)});n.constant=i;n.toWatch=f;break;case u.ThisExpression:n.constant=!1;n.toWatch=[]}}function ts(n){if(1==n.length){n=n[0].expression;var t=n.toWatch;return 1!==t.length?t:t[0]!==n?t:i}}function is(n){return n.type===u.Identifier||n.type===u.MemberExpression}function rs(n){if(1===n.body.length&&is(n.body[0].expression))return{type:u.AssignmentExpression,left:n.body[0].expression,right:{type:u.NGValueParameter},operator:"="}}function us(n){return 0===n.body.length||1===n.body.length&&(n.body[0].expression.type===u.Literal||n.body[0].expression.type===u.ArrayExpression||n.body[0].expression.type===u.ObjectExpression)}function fs(n,t){this.astBuilder=n;this.$filter=t}function es(n,t){this.astBuilder=n;this.$filter=t}function vu(n){return"constructor"==n}function bf(n){return h(n.valueOf)?n.valueOf():py.call(n)}function oa(){var n=it(),t=it();this.$get=["$filter",function(u){function f(n,t){return null==n||null==t?n===t:"object"==typeof n&&(n=bf(n),"object"==typeof n)?!1:n===t||n!==n&&t!==t}function s(n,t,r,u,e){var o=u.inputs,s,c;if(1===o.length)return c=f,o=o[0],n.$watch(function(n){var t=o(n);return f(t,c)||(s=u(n,i,i,[t]),c=t&&bf(t)),s},t,r,e);for(var l=[],a=[],h=0,v=o.length;h<v;h++)l[h]=f,a[h]=null;return n.$watch(function(n){for(var r,e=!1,t=0,h=o.length;t<h;t++)r=o[t](n),(e||(e=!f(r,l[t])))&&(a[t]=r,l[t]=r&&bf(r));return e&&(s=u(n,i,i,a)),s},t,r,e)}function c(n,t,i,r){var u,f;return u=n.$watch(function(n){return r(n)},function(n,i,r){f=n;h(t)&&t.apply(this,arguments);e(n)&&r.$$postDigest(function(){e(f)&&u()})},i)}function l(n,t,i,u){function f(n){var t=!0;return r(n,function(n){e(n)||(t=!1)}),t}var o,s;return o=n.$watch(function(n){return u(n)},function(n,i,r){s=n;h(t)&&t.call(this,n,i,r);f(n)&&r.$$postDigest(function(){f(s)&&o()})},i)}function y(n,t,i,r){var u;return u=n.$watch(function(n){return r(n)},function(){h(t)&&t.apply(this,arguments);u()},i)}function a(n,t){if(!t)return n;var i=n.$$watchDelegate,i=i!==l&&i!==c?function(i,r,u,f){return u=n(i,r,u,f),t(u,i,r)}:function(i,r,u,f){return u=n(i,r,u,f),i=t(u,i,r),e(u)?i:u};return n.$$watchDelegate&&n.$$watchDelegate!==s?i.$$watchDelegate=n.$$watchDelegate:t.$stateful||(i.$$watchDelegate=s,i.inputs=n.inputs?n.inputs:[n]),i}var v=ai().noUnsafeEval,p={csp:v,expensiveChecks:!1},w={csp:v,expensiveChecks:!0};return function(i,r,f){var e,b,h,v;switch(typeof i){case"string":return h=i=i.trim(),v=f?t:n,e=v[h],e||(":"===i.charAt(0)&&":"===i.charAt(1)&&(b=!0,i=i.substring(2)),f=f?w:p,e=new tf(f),e=new rf(e,u,f).parse(i),e.constant?e.$$watchDelegate=y:b?e.$$watchDelegate=e.literal?l:c:e.inputs&&(e.$$watchDelegate=s),v[h]=e),a(e,r);case"function":return a(i,r);default:return o}}}]}function sa(){this.$get=["$rootScope","$exceptionHandler",function(n,t){return os(function(t){n.$evalAsync(t)},t)}]}function ha(){this.$get=["$browser","$exceptionHandler",function(n,t){return os(function(t){n.defer(t)},t)}]}function os(n,t){function g(n,t,i){function r(t){return function(i){u||(u=!0,t.call(n,i))}}var u=!1;return[r(t),r(i)]}function w(){this.$$state={status:0}}function s(n,t){return function(i){t.call(n,i)}}function l(r){!r.processScheduled&&r.pending&&(r.processScheduled=!0,n(function(){var e,n,f,u,o;for(f=r.pending,r.processScheduled=!1,r.pending=i,u=0,o=f.length;u<o;++u){n=f[u][0];e=f[u][r.status];try{h(e)?n.resolve(e(r.value)):1===r.status?n.resolve(r.value):n.reject(r.value)}catch(s){n.reject(s);t(s)}}}))}function u(){this.promise=new w;this.resolve=s(this,this.resolve);this.reject=s(this,this.reject);this.notify=s(this,this.notify)}var b=v("$q",TypeError);p(w.prototype,{then:function(n,t,i){if(f(n)&&f(t)&&f(i))return this;var r=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,n,t,i]),0<this.$$state.status&&l(this.$$state),r.promise},"catch":function(n){return this.then(null,n)},"finally":function(n,t){return this.then(function(t){return k(t,!0,n)},function(t){return k(t,!1,n)},t)}});p(u.prototype,{resolve:function(n){this.promise.$$state.status||(n===this.promise?this.$$reject(b("qcycle",n)):this.$$resolve(n))},$$resolve:function(n){var i,r=g(this,this.$$resolve,this.$$reject);try{(c(n)||h(n))&&(i=n&&n.then);h(i)?(this.promise.$$state.status=-1,i.call(n,r[0],r[1],this.notify)):(this.promise.$$state.value=n,this.promise.$$state.status=1,l(this.promise.$$state))}catch(u){r[1](u);t(u)}},reject:function(n){this.promise.$$state.status||this.$$reject(n)},$$reject:function(n){this.promise.$$state.value=n;this.promise.$$state.status=2;l(this.promise.$$state)},notify:function(i){var r=this.promise.$$state.pending;0>=this.promise.$$state.status&&r&&r.length&&n(function(){for(var u,f,n=0,e=r.length;n<e;n++){f=r[n][0];u=r[n][3];try{f.notify(h(u)?u(i):i)}catch(o){t(o)}}})}});var o=function(n,t){var i=new u;return t?i.resolve(n):i.reject(n),i.promise},k=function(n,t,i){var r=null;try{h(i)&&(r=i())}catch(u){return o(u,!1)}return r&&h(r.then)?r.then(function(){return o(n,t)},function(n){return o(n,!1)}):o(n,t)},y=function(n,t,i,r){var f=new u;return f.resolve(n),f.promise.then(t,i,r)},e=function d(n){if(!h(n))throw b("norslvr",n);if(!(this instanceof d))return new d(n);var t=new u;return n(function(n){t.resolve(n)},function(n){t.reject(n)}),t.promise};return e.defer=function(){return new u},e.reject=function(n){var t=new u;return t.reject(n),t.promise},e.when=y,e.resolve=y,e.all=function(n){var i=new u,f=0,t=a(n)?[]:{};return r(n,function(n,r){f++;y(n).then(function(n){t.hasOwnProperty(r)||(t[r]=n,--f||i.resolve(t))},function(n){t.hasOwnProperty(r)||i.reject(n)})}),0===f&&i.resolve(t),i.promise},e}function ca(){this.$get=["$window","$timeout",function(n,t){var i=n.requestAnimationFrame||n.webkitRequestAnimationFrame,f=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.webkitCancelRequestAnimationFrame,r=!!i,u=r?function(n){var t=i(n);return function(){f(t)}}:function(n){var i=t(n,16.66,!1);return function(){t.cancel(i)}};return u.supported=r,u}]}function la(){function e(n){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++ku;this.$$ChildScope=null}return t.prototype=n,t}var i=10,u=v("$rootScope"),n=null,t=null;this.digestTtl=function(n){return arguments.length&&(i=n),i};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(s,l,a,v){function rt(n){n.currentScope.$$destroyed=!0}function w(){this.$id=++ku;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function g(n){if(y.$$phase)throw u("inprog",y.$$phase);y.$$phase=n}function b(n,t){do n.$$watchersCount+=t;while(n=n.$parent)}function nt(n,t,i){do n.$$listenerCount[i]-=t,0===n.$$listenerCount[i]&&delete n.$$listenerCount[i];while(n=n.$parent)}function tt(){}function it(){for(;d.length;)try{d.shift()()}catch(n){l(n)}t=null}function ut(){null===t&&(t=v.defer(function(){y.$apply(it)}))}w.prototype={constructor:w,$new:function(n,t){var i;return t=t||this,n?(i=new w,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=t,i.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=i,t.$$childTail=i):t.$$childHead=t.$$childTail=i,(n||t!=this)&&i.$on("$destroy",rt),i},$watch:function(t,i,r,u){var f=a(t);if(f.$$watchDelegate)return f.$$watchDelegate(this,i,r,f,t);var s=this,e=s.$$watchers,c={fn:i,last:tt,get:f,exp:u||t,eq:!!r};return n=null,h(i)||(c.fn=o),e||(e=s.$$watchers=[]),e.unshift(c),b(this,1),function(){0<=hr(e,c)&&b(s,-1);n=null}},$watchGroup:function(n,t){function c(){o=!1;h?(h=!1,t(i,i,u)):t(i,f,u)}var f=Array(n.length),i=Array(n.length),e=[],u=this,o=!1,h=!0,s;return n.length?1===n.length?this.$watch(n[0],function(n,r,u){i[0]=n;f[0]=r;t(i,n===r?i:f,u)}):(r(n,function(n,t){var r=u.$watch(n,function(n,r){i[t]=n;f[t]=r;o||(o=!0,u.$evalAsync(c))});e.push(r)}),function(){for(;e.length;)e.shift()()}):(s=!0,u.$evalAsync(function(){s&&t(i,i,u)}),function(){s=!1})},$watchCollection:function(n,t){function s(n){i=n;var t,h,o,s;if(!f(i)){if(c(i))if(fi(i))for(r!==l&&(r=l,e=r.length=0,u++),n=i.length,e!==n&&(u++,r.length=e=n),t=0;t<n;t++)s=r[t],o=i[t],h=s!==s&&o!==o,h||s===o||(u++,r[t]=o);else{r!==v&&(r=v={},e=0,u++);n=0;for(t in i)gt.call(i,t)&&(n++,o=i[t],s=r[t],t in r?(h=s!==s&&o!==o,h||s===o||(u++,r[t]=o)):(e++,r[t]=o,u++));if(e>n)for(t in u++,r)gt.call(i,t)||(e--,delete r[t])}else r!==i&&(r=i,u++);return u}}s.$stateful=!0;var h=this,i,r,o,p=1<t.length,u=0,w=a(n,s),l=[],v={},y=!0,e=0;return this.$watch(w,function(){if(y?(y=!1,t(i,i,h)):t(i,o,h),p)if(c(i))if(fi(i)){o=Array(i.length);for(var n=0;n<i.length;n++)o[n]=i[n]}else for(n in o={},i)gt.call(i,n)&&(o[n]=i[n]);else o=i})},$digest:function(){var r,e,o,s,d,c,nt=i,f,a=[],w,b;g("$digest");v.$$checkUrlChange();this===y&&null!==t&&(v.defer.cancel(t),it());n=null;do{for(c=!1,f=this;p.length;){try{b=p.shift();b.scope.$eval(b.expression,b.locals)}catch(rt){l(rt)}n=null}n:do{if(s=f.$$watchers)for(d=s.length;d--;)try{if(r=s[d])if((e=r.get(f))===(o=r.last)||(r.eq?ot(e,o):"number"==typeof e&&"number"==typeof o&&isNaN(e)&&isNaN(o))){if(r===n){c=!1;break n}}else c=!0,n=r,r.last=r.eq?st(e,null):e,r.fn(e,o===tt?e:o,f),5>nt&&(w=4-nt,a[w]||(a[w]=[]),a[w].push({msg:h(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,newVal:e,oldVal:o}))}catch(ut){l(ut)}if(!(s=f.$$watchersCount&&f.$$childHead||f!==this&&f.$$nextSibling))for(;f!==this&&!(s=f.$$nextSibling);)f=f.$parent}while(f=s);if((c||p.length)&&!nt--)throw y.$$phase=null,u("infdig",i,a);}while(c||p.length);for(y.$$phase=null;k.length;)try{k.shift()()}catch(ft){l(ft)}},$destroy:function(){var n,t;if(!this.$$destroyed){n=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===y&&v.$$applicationDestroyed();b(this,-this.$$watchersCount);for(t in this.$$listenerCount)nt(this,this.$$listenerCount[t],t);n&&n.$$childHead==this&&(n.$$childHead=this.$$nextSibling);n&&n.$$childTail==this&&(n.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=o;this.$on=this.$watch=this.$watchGroup=function(){return o};this.$$listeners={};this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(n,t){return a(n)(this,t)},$evalAsync:function(n,t){y.$$phase||p.length||v.defer(function(){p.length&&y.$digest()});p.push({scope:this,expression:n,locals:t})},$$postDigest:function(n){k.push(n)},$apply:function(n){try{g("$apply");try{return this.$eval(n)}finally{y.$$phase=null}}catch(i){l(i)}finally{try{y.$digest()}catch(t){throw l(t),t;}}},$applyAsync:function(n){function t(){i.$eval(n)}var i=this;n&&d.push(t);ut()},$on:function(n,t){var r=this.$$listeners[n],i,u;r||(this.$$listeners[n]=r=[]);r.push(t);i=this;do i.$$listenerCount[n]||(i.$$listenerCount[n]=0),i.$$listenerCount[n]++;while(i=i.$parent);return u=this,function(){var i=r.indexOf(t);-1!==i&&(r[i]=null,nt(u,1,n))}},$emit:function(n){var o=[],u,r=this,e=!1,t={name:n,targetScope:r,stopPropagation:function(){e=!0},preventDefault:function(){t.defaultPrevented=!0},defaultPrevented:!1},s=cr([t],arguments,1),i,f;do{for(u=r.$$listeners[n]||o,t.currentScope=r,i=0,f=u.length;i<f;i++)if(u[i])try{u[i].apply(null,s)}catch(h){l(h)}else u.splice(i,1),i--,f--;if(e)return t.currentScope=null,t;r=r.$parent}while(r);return t.currentScope=null,t},$broadcast:function(n){var t=this,i=this,u={name:n,targetScope:this,preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},e,r,f;if(!this.$$listenerCount[n])return u;for(e=cr([u],arguments,1);t=i;){for(u.currentScope=t,i=t.$$listeners[n]||[],r=0,f=i.length;r<f;r++)if(i[r])try{i[r].apply(null,e)}catch(o){l(o)}else i.splice(r,1),r--,f--;if(!(i=t.$$listenerCount[n]&&t.$$childHead||t!==this&&t.$$nextSibling))for(;t!==this&&!(i=t.$$nextSibling);)t=t.$parent}return u.currentScope=null,u}};var y=new w,p=y.$$asyncQueue=[],k=y.$$postDigestQueue=[],d=y.$$applyAsyncQueue=[];return y}]}function aa(){var n=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return e(t)?(n=t,this):n};this.imgSrcSanitizationWhitelist=function(n){return e(n)?(t=n,this):t};this.$get=function(){return function(i,r){var f=r?t:n,u;return u=ri(i).href,""===u||u.match(f)?i:"unsafe:"+u}}}function va(n){if("self"===n)return n;if(l(n)){if(-1<n.indexOf("***"))throw ui("iwcard",n);return n=fh(n).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+n+"$")}if(wi(n))return new RegExp("^"+n.source+"$");throw ui("imatcher");}function ss(n){var t=[];return e(n)&&r(n,function(n){t.push(va(n))}),t}function ya(){this.SCE_CONTEXTS=at;var n=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(n=ss(t)),n};this.resourceUrlBlacklist=function(n){return arguments.length&&(t=ss(n)),t};this.$get=["$injector",function(i){function o(n,t){return"self"===n?hs(t):!!n.exec(t.href)}function u(n){var t=function(n){this.$$unwrapTrustedValue=function(){return n}};return n&&(t.prototype=new n),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var s=function(){throw ui("unsafe");},e,r;return i.has("$sanitize")&&(s=i.get("$sanitize")),e=u(),r={},r[at.HTML]=u(e),r[at.CSS]=u(e),r[at.URL]=u(e),r[at.JS]=u(e),r[at.RESOURCE_URL]=u(r[at.URL]),{trustAs:function(n,t){var i=r.hasOwnProperty(n)?r[n]:null;if(!i)throw ui("icontext",n,t);if(null===t||f(t)||""===t)return t;if("string"!=typeof t)throw ui("itype",n);return new i(t)},getTrusted:function(i,u){var h,e,l,c;if(null===u||f(u)||""===u)return u;if(h=r.hasOwnProperty(i)?r[i]:null,h&&u instanceof h)return u.$$unwrapTrustedValue();if(i===at.RESOURCE_URL){for(h=ri(u.toString()),c=!1,e=0,l=n.length;e<l;e++)if(o(n[e],h)){c=!0;break}if(c)for(e=0,l=t.length;e<l;e++)if(o(t[e],h)){c=!1;break}if(c)return u;throw ui("insecurl",u.toString());}if(i===at.HTML)return s(u);throw ui("unsafe");},valueOf:function(n){return n instanceof e?n.$$unwrapTrustedValue():n}}}]}function pa(){var n=!0;this.enabled=function(t){return arguments.length&&(n=!!t),n};this.$get=["$parse","$sceDelegate",function(t,i){var u;if(n&&8>nr)throw ui("iequirks");u=ht(at);u.isEnabled=function(){return n};u.trustAs=i.trustAs;u.getTrusted=i.getTrusted;u.valueOf=i.valueOf;n||(u.trustAs=u.getTrusted=function(n,t){return t},u.valueOf=fr);u.parseAs=function(n,i){var r=t(i);return r.literal&&r.constant?r:t(i,function(t){return u.getTrusted(n,t)})};var f=u.parseAs,e=u.getTrusted,o=u.trustAs;return r(at,function(n,t){var i=y(t);u[ar("parse_as_"+i)]=function(t){return f(n,t)};u[ar("get_trusted_"+i)]=function(t){return e(n,t)};u[ar("trust_as_"+i)]=function(t){return o(n,t)}}),u}]}function wa(){this.$get=["$window","$document",function(n,t){var o={},s=tt((/android (\d+)/.exec(y((n.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((n.navigator||{}).userAgent),h=t[0]||{},i,r=h.body&&h.body.style,u=!1,e=!1,c;if(r){for(c in r)if(u=/^(Moz|webkit|ms)(?=[A-Z])/.exec(c)){i=u[0];i=i.substr(0,1).toUpperCase()+i.substr(1);break}i||(i="WebkitOpacity"in r&&"webkit");u=!!("transition"in r||i+"Transition"in r);e=!!("animation"in r||i+"Animation"in r);!s||u&&e||(u=l(r.webkitTransition),e=l(r.webkitAnimation))}return{history:!(!n.history||!n.history.pushState||4>s||a),hasEvent:function(n){if("input"===n&&11>=nr)return!1;if(f(o[n])){var t=h.createElement("div");o[n]="on"+n in t}return o[n]},csp:ai(),vendorPrefix:i,transitions:u,animations:e,android:s}}]}function ba(){this.$get=["$templateCache","$http","$q","$sce",function(n,t,i,r){function u(f,e){u.totalPendingRequests++;l(f)&&n.get(f)||(f=r.getTrustedResourceUrl(f));var o=t.defaults&&t.defaults.transformResponse;return a(o)?o=o.filter(function(n){return n!==vf}):o===vf&&(o=null),t.get(f,{cache:n,transformResponse:o})["finally"](function(){u.totalPendingRequests--}).then(function(t){return n.put(f,t.data),t.data},function(n){if(!e)throw ut("tpload",f,n.status,n.statusText);return i.reject(n)})}return u.totalPendingRequests=0,u}]}function ka(){this.$get=["$rootScope","$browser","$location",function(n,t,i){return{findBindings:function(n,t,i){n=n.getElementsByClassName("ng-binding");var u=[];return r(n,function(n){var f=rt.element(n).data("$binding");f&&r(f,function(r){i?new RegExp("(^|\\s)"+fh(t)+"(\\s|\\||$)").test(r)&&u.push(n):-1!=r.indexOf(t)&&u.push(n)})}),u},findModels:function(n,t,i){for(var f,u=["ng-","data-ng-","ng\\:"],r=0;r<u.length;++r)if(f=n.querySelectorAll("["+u[r]+"model"+(i?"=":"*=")+'"'+t+'"]'),f.length)return f},getLocation:function(){return i.url()},setLocation:function(t){t!==i.url()&&(i.url(t),n.$digest())},whenStable:function(n){t.notifyWhenNoOutstandingRequests(n)}}}]}function da(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(n,t,i,r,u){function s(s,c,l){h(s)||(l=c,c=s,s=o);var w=ni.call(arguments,3),p=e(l)&&!l,a=(p?r:i).defer(),v=a.promise,y;return y=t.defer(function(){try{a.resolve(s.apply(null,w))}catch(t){a.reject(t);u(t)}finally{delete f[v.$$timeoutId]}p||n.$apply()},c),v.$$timeoutId=y,f[y]=a,v}var f={};return s.cancel=function(n){return n&&n.$$timeoutId in f?(f[n.$$timeoutId].reject("canceled"),delete f[n.$$timeoutId],t.defer.cancel(n.$$timeoutId)):!1},s}]}function ri(n){return nr&&(nt.setAttribute("href",n),n=nt.href),nt.setAttribute("href",n),{href:nt.href,protocol:nt.protocol?nt.protocol.replace(/:$/,""):"",host:nt.host,search:nt.search?nt.search.replace(/^\?/,""):"",hash:nt.hash?nt.hash.replace(/^#/,""):"",hostname:nt.hostname,port:nt.port,pathname:"/"===nt.pathname.charAt(0)?nt.pathname:"/"+nt.pathname}}function hs(n){return n=l(n)?ri(n):n,n.protocol===wh.protocol&&n.host===wh.host}function ga(){this.$get=vt(n)}function cs(n){function r(n){try{return decodeURIComponent(n)}catch(t){return n}}var u=n[0]||{},t={},i="";return function(){var n,e,o,s,h;if(n=u.cookie||"",n!==i)for(i=n,n=i.split("; "),t={},o=0;o<n.length;o++)e=n[o],s=e.indexOf("="),0<s&&(h=r(e.substring(0,s)),f(t[h])&&(t[h]=r(e.substring(s+1))));return t}}function nv(){this.$get=cs}function ls(n){function t(i,u){if(c(i)){var f={};return r(i,function(n,i){f[i]=t(i,n)}),f}return n.factory(i+"Filter",u)}this.register=t;this.$get=["$injector",function(n){return function(t){return n.get(t+"Filter")}}];t("currency",as);t("date",bs);t("filter",tv);t("json",rv);t("limitTo",uv);t("lowercase",kh);t("number",vs);t("orderBy",ks);t("uppercase",dh)}function tv(){return function(n,t,i){if(!fi(n)){if(null==n)return n;throw v("filter")("notarray",n);}var r;switch(kf(t)){case"function":break;case"boolean":case"null":case"number":case"string":r=!0;case"object":t=iv(t,i,r);break;default:return n}return Array.prototype.filter.call(n,t)}}function iv(n,t,i){var r=c(n)&&"$"in n;return!0===t?t=ot:h(t)||(t=function(n,t){return f(n)?!1:null===n||null===t?n===t:c(t)||c(n)&&!ae(n)?!1:(n=y(""+n),t=y(""+t),-1!==n.indexOf(t))}),function(u){return r&&!c(u)?hi(u,n.$,t,!1):hi(u,n,t,i)}}function hi(n,t,i,r,u){var o=kf(n),s=kf(t),e;if("string"===s&&"!"===t.charAt(0))return!hi(n,t.substring(1),i,r);if(a(n))return n.some(function(n){return hi(n,t,i,r)});switch(o){case"object":if(r){for(e in n)if("$"!==e.charAt(0)&&hi(n[e],t,i,!0))return!0;return u?!1:hi(n,t,i,!1)}if("object"===s){for(e in t)if(u=t[e],!h(u)&&!f(u)&&(o="$"===e,!hi(o?n:n[e],u,i,o,o)))return!1;return!0}return i(n,t);case"function":return!1;default:return i(n,t)}}function kf(n){return null===n?"null":typeof n}function as(n){var t=n.NUMBER_FORMATS;return function(n,i,r){return f(i)&&(i=t.CURRENCY_SYM),f(r)&&(r=t.PATTERNS[1].maxFrac),null==n?n:ys(n,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,i)}}function vs(n){var t=n.NUMBER_FORMATS;return function(n,i){return null==n?n:ys(n,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,i)}}function ys(n,t,i,r,u){var a,o,l;if(c(n)||(a=0>n,n=Math.abs(n),o=Infinity===n,!o&&!isFinite(n)))return"";var s=n+"",h="",e=!1,y=[];if(o&&(h=""),o||-1===s.indexOf("e")||(l=s.match(/([\d\.]+)e(-?)(\d+)/),l&&"-"==l[2]&&l[3]>u+1?n=0:(h=s,e=!0)),o||e)0<u&&1>n&&(h=n.toFixed(u),n=parseFloat(h));else{o=(s.split(bh)[1]||"").length;f(u)&&(u=Math.min(Math.max(t.minFrac,o),t.maxFrac));n=+(Math.round(+(n.toString()+"e"+u)).toString()+"e"+-u);var o=(""+n).split(bh),s=o[0],o=o[1]||"",l=0,v=t.lgSize,p=t.gSize;if(s.length>=v+p)for(l=s.length-v,e=0;e<l;e++)0==(l-e)%p&&0!==e&&(h+=i),h+=s.charAt(e);for(e=l;e<s.length;e++)0==(s.length-e)%v&&0!==e&&(h+=i),h+=s.charAt(e);for(;o.length<u;)o+="0";u&&"0"!==u&&(h+=r+o.substr(0,u))}return 0===n&&(a=!1),y.push(a?t.negPre:t.posPre,h,a?t.negSuf:t.posSuf),y.join("")}function yu(n,t,i){var r="";for(0>n&&(r="-",n=-n),n=""+n;n.length<t;)n="0"+n;return i&&(n=n.substr(n.length-t)),r+n}function g(n,t,i,r){return i=i||0,function(u){return u=u["get"+n](),(0<i||u>-i)&&(u+=i),0===u&&-12==i&&(u=12),yu(u,t,r)}}function pu(n,t){return function(i,r){var u=i["get"+n](),f=bu(t?"SHORT"+n:n);return r[f][u]}}function ps(n){var t=new Date(n,0,1).getDay();return new Date(n,0,(4>=t?5:12)-t)}function ws(n){return function(t){var i=ps(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+i,t=1+Math.round(t/6048e5),yu(t,n)}}function df(n,t){return 0>=n.getFullYear()?t.ERAS[0]:t.ERAS[1]}function bs(n){function t(n){var t;if(t=n.match(i)){n=new Date(0);var r=0,u=0,f=t[8]?n.setUTCFullYear:n.setFullYear,e=t[8]?n.setUTCHours:n.setHours;t[9]&&(r=tt(t[9]+t[10]),u=tt(t[9]+t[11]));f.call(n,tt(t[1]),tt(t[2])-1,tt(t[3]));r=tt(t[4]||0)-r;u=tt(t[5]||0)-u;f=tt(t[6]||0);t=Math.round(1e3*parseFloat("0."+(t[7]||0)));e.call(n,r,u,f,t)}return n}var i=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(i,u,f){var h="",e=[],o,c,s;if(u=u||"mediumDate",u=n.DATETIME_FORMATS[u]||u,l(i)&&(i=ky.test(i)?tt(i):t(i)),k(i)&&(i=new Date(i)),!ft(i)||!isFinite(i.getTime()))return i;for(;u;)(c=by.exec(u))?(e=cr(e,c,1),u=e.pop()):(e.push(u),u=null);return s=i.getTimezoneOffset(),f&&(s=be(f,i.getTimezoneOffset()),i=of(i,f,!0)),r(e,function(t){o=wy[t];h+=o?o(i,n.DATETIME_FORMATS,s):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}}function rv(){return function(n,t){return f(t)&&(t=2),lr(n,t)}}function uv(){return function(n,t,i){return(t=Infinity===Math.abs(Number(t))?Number(t):tt(t),isNaN(t))?n:(k(n)&&(n=n.toString()),!a(n)&&!l(n))?n:(i=!i||isNaN(i)?0:tt(i),i=0>i&&i>=-n.length?n.length+i:i,0<=t?n.slice(i,i+t):0===i?n.slice(t,n.length):n.slice(Math.max(0,i+t),i))}}function ks(n){function i(t,i){return i=i?-1:1,t.map(function(t){var u=1,r=fr,f;return h(t)?r=t:l(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(u="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=n(t),r.constant)&&(f=r(),r=function(n){return n[f]})),{get:r,descending:u*i}})}function t(n){switch(typeof n){case"number":case"boolean":case"string":return!0;default:return!1}}return function(n,r,u){if(!fi(n))return n;a(r)||(r=[r]);0===r.length&&(r=["+"]);var f=i(r,u);return f.push({get:function(){return{}},descending:u?-1:1}),n=Array.prototype.map.call(n,function(n,i){return{value:n,predicateValues:f.map(function(r){var u=r.get(n);if(r=typeof u,null===u)r="string",u="null";else if("string"===r)u=u.toLowerCase();else if("object"===r)n:{if("function"==typeof u.valueOf&&(u=u.valueOf(),t(u)))break n;if(ae(u)&&(u=u.toString(),t(u)))break n;u=i}return{value:u,type:r}})}}),n.sort(function(n,t){for(var i=0,r=0,o=f.length;r<o;++r){var i=n.predicateValues[r],u=t.predicateValues[r],e=0;if(i.type===u.type?i.value!==u.value&&(e=i.value<u.value?-1:1):e=i.type<u.type?-1:1,i=e*f[r].descending)break}return i}),n.map(function(n){return n.value})}}function ci(n){return h(n)&&(n={link:n}),n.restrict=n.restrict||"AC",vt(n)}function ds(n,t,u,f,e){var o=this,s=[];o.$error={};o.$$success={};o.$pending=i;o.$name=e(t.name||t.ngForm||"")(u);o.$dirty=!1;o.$pristine=!0;o.$valid=!0;o.$invalid=!1;o.$submitted=!1;o.$$parentForm=dr;o.$rollbackViewValue=function(){r(s,function(n){n.$rollbackViewValue()})};o.$commitViewValue=function(){r(s,function(n){n.$commitViewValue()})};o.$addControl=function(n){ki(n.$name,"input");s.push(n);n.$name&&(o[n.$name]=n);n.$$parentForm=o};o.$$renameControl=function(n,t){var i=n.$name;o[i]===n&&delete o[i];o[t]=n;n.$name=t};o.$removeControl=function(n){n.$name&&o[n.$name]===n&&delete o[n.$name];r(o.$pending,function(t,i){o.$setValidity(i,null,n)});r(o.$error,function(t,i){o.$setValidity(i,null,n)});r(o.$$success,function(t,i){o.$setValidity(i,null,n)});hr(s,n);n.$$parentForm=dr};th({ctrl:this,$element:n,set:function(n,t,i){var r=n[t];r?-1===r.indexOf(i)&&r.push(i):n[t]=[i]},unset:function(n,t,i){var r=n[t];r&&(hr(r,i),0===r.length&&delete n[t])},$animate:f});o.$setDirty=function(){f.removeClass(n,ur);f.addClass(n,uf);o.$dirty=!0;o.$pristine=!1;o.$$parentForm.$setDirty()};o.$setPristine=function(){f.setClass(n,ur,uf+" ng-submitted");o.$dirty=!1;o.$pristine=!0;o.$submitted=!1;r(s,function(n){n.$setPristine()})};o.$setUntouched=function(){r(s,function(n){n.$setUntouched()})};o.$setSubmitted=function(){f.addClass(n,"ng-submitted");o.$submitted=!0;o.$$parentForm.$setSubmitted()}}function gf(n){n.$formatters.push(function(t){return n.$isEmpty(t)?t:t.toString()})}function pr(n,t,i,r,u,f){var c=y(t[0].type),s,o,e,h;if(!u.android){s=!1;t.on("compositionstart",function(){s=!0});t.on("compositionend",function(){s=!1;o()})}if(o=function(n){if(e&&(f.defer.cancel(e),e=null),!s){var u=t.val();n=n&&n.type;"password"===c||i.ngTrim&&"false"===i.ngTrim||(u=w(u));(r.$viewValue!==u||""===u&&r.$$hasNativeValidators)&&r.$setViewValue(u,n)}},u.hasEvent("input"))t.on("input",o);else{h=function(n,t,i){e||(e=f.defer(function(){e=null;t&&t.value===i||o(n)}))};t.on("keydown",function(n){var t=n.keyCode;91===t||15<t&&19>t||37<=t&&40>=t||h(n,this,this.value)});if(u.hasEvent("paste"))t.on("paste cut",h)}t.on("change",o);r.$render=function(){var n=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==n&&t.val(n)}}function wu(n,t){return function(i,u){var e,f;if(ft(i))return i;if(l(i)){if('"'==i.charAt(0)&&'"'==i.charAt(i.length-1)&&(i=i.substring(1,i.length-1)),np.test(i))return new Date(i);if(n.lastIndex=0,e=n.exec(i))return e.shift(),f=u?{yyyy:u.getFullYear(),MM:u.getMonth()+1,dd:u.getDate(),HH:u.getHours(),mm:u.getMinutes(),ss:u.getSeconds(),sss:u.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(n,i){i<t.length&&(f[t[i]]=+n)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1e3*f.sss||0)}return NaN}}function wr(n,t,r,u){return function(o,s,h,c,l,a,v){function w(n){return n&&!(n.getTime&&n.getTime()!==n.getTime())}function d(n){return e(n)&&!ft(n)?r(n)||i:n}var y,p,b,k;gs(o,s,h,c);pr(o,s,h,c,l,a);y=c&&c.$options&&c.$options.timezone;c.$$parserName=n;c.$parsers.push(function(n){return c.$isEmpty(n)?null:t.test(n)?(n=r(n,p),y&&(n=of(n,y)),n):i});c.$formatters.push(function(n){if(n&&!ft(n))throw nu("datefmt",n);return w(n)?((p=n)&&y&&(p=of(p,y,!0)),v("date")(n,u,y)):(p=null,"")});(e(h.min)||h.ngMin)&&(c.$validators.min=function(n){return!w(n)||f(b)||r(n)>=b},h.$observe("min",function(n){b=d(n);c.$validate()}));(e(h.max)||h.ngMax)&&(c.$validators.max=function(n){return!w(n)||f(k)||r(n)<=k},h.$observe("max",function(n){k=d(n);c.$validate()}))}}function gs(n,t,r,u){(u.$$hasNativeValidators=c(t[0].validity))&&u.$parsers.push(function(n){var r=t.prop("validity")||{};return r.badInput&&!r.typeMismatch?i:n})}function nh(n,t,i,r,u){if(e(r)){if(n=n(r),!n.constant)throw nu("constexpr",i,r);return n(t)}return u}function ne(n,t){return n="ngClass"+n,["$animate",function(i){function f(n,t){var f=[],r=0,u,i;n:for(;r<n.length;r++){for(u=n[r],i=0;i<t.length;i++)if(u==t[i])continue n;f.push(u)}return f}function u(n){var t=[];return a(n)?(r(n,function(n){t=t.concat(u(n))}),t):l(n)?n.split(" "):c(n)?(r(n,function(n,i){n&&(t=t.concat(i.split(" ")))}),t):n}return{restrict:"AC",link:function(e,o,s){function h(n,t){var i=o.data("$classCounts")||it(),u=[];return r(n,function(n){(0<t||i[n])&&(i[n]=(i[n]||0)+t,i[n]===+(0<t)&&u.push(n))}),o.data("$classCounts",i),u.join(" ")}function l(n){var r,l;if(!0===t||e.$index%2===t)if(r=u(n||[]),c){if(!ot(n,c)){var a=u(c),l=f(r,a),r=f(a,r),l=h(l,1),r=h(r,-1);l&&l.length&&i.addClass(o,l);r&&r.length&&i.removeClass(o,r)}}else l=h(r,1),s.$addClass(l);c=ht(n)}var c;e.$watch(s[n],l,!0);s.$observe("class",function(){l(e.$eval(s[n]))});"ngClass"!==n&&e.$watch("$index",function(i,r){var f=i&1,o;f!==(r&1)&&(o=u(e.$eval(s[n])),f===t?(f=h(o,1),s.$addClass(f)):(f=h(o,-1),s.$removeClass(f)))})}}}]}function th(n){function e(n,t){t&&!r[n]?(c.addClass(s,n),r[n]=!0):!t&&r[n]&&(c.removeClass(s,n),r[n]=!1)}function o(n,t){n=n?"-"+no(n,"-"):"";e(gr+n,!0===t);e(sc+n,!1===t)}var t=n.ctrl,s=n.$element,r={},h=n.set,u=n.unset,c=n.$animate;r[sc]=!(r[gr]=s.hasClass(gr));t.$setValidity=function(n,r,s){f(r)?(t.$pending||(t.$pending={}),h(t.$pending,n,s)):(t.$pending&&u(t.$pending,n,s),ih(t.$pending)&&(t.$pending=i));sr(r)?r?(u(t.$error,n,s),h(t.$$success,n,s)):(h(t.$error,n,s),u(t.$$success,n,s)):(u(t.$error,n,s),u(t.$$success,n,s));t.$pending?(e(hc,!0),t.$valid=t.$invalid=i,o("",null)):(e(hc,!1),t.$valid=ih(t.$error),t.$invalid=!t.$valid,o("",t.$valid));r=t.$pending&&t.$pending[n]?i:t.$error[n]?!1:t.$$success[n]?!0:null;o(n,r);t.$$parentForm.$setValidity(n,r,t)}}function ih(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}var fv=/^\/(.+)\/([a-z]*)$/,y=function(n){return l(n)?n.toLowerCase():n},gt=Object.prototype.hasOwnProperty,bu=function(n){return l(n)?n.toUpperCase():n},nr,s,pt,ni=[].slice,ev=[].splice,ov=[].push,ti=Object.prototype.toString,rh=Object.getPrototypeOf,li=v("ng"),rt=n.angular||(n.angular={}),te,ku=0,rr,oh,vi,br,fe,ee,ph,tf,u,rf,kh,dh,gh,kr,dr;nr=t.documentMode;o.$inject=[];fr.$inject=[];var a=Array.isArray,uh=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,w=function(n){return l(n)?n.trim():n},fh=function(n){return n.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ai=function(){var i,n;if(!e(ai.rules))if(i=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]"),i)n=i.getAttribute("ng-csp")||i.getAttribute("data-ng-csp"),ai.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")};else{i=ai;try{new Function("");n=!1}catch(r){n=!0}i.rules={noUnsafeEval:n,noInlineStyle:!1}}return ai.rules},du=function(){if(e(du.name_))return du.name_;for(var r,f=tr.length,i,u,n=0;n<f;++n)if(i=tr[n],r=t.querySelector("["+i.replace(":","\\:")+"jq]")){u=r.getAttribute(i+"jq");break}return du.name_=u},tr=["ng-","data-ng-","ng:","x-ng-"],sv=/[A-Z]/g,eh=!1,ie,wt=1,ir=3,hv={full:"1.4.6",major:1,minor:4,dot:6,codeName:"multiplicative-elevation"};b.expando="ng339";rr=b.cache={};oh=1;b._data=function(n){return this.cache[n[this.expando]]||{}};var cv=/([\:\-\_]+(.))/g,lv=/^moz([A-Z])/,av={mouseleave:"mouseout",mouseenter:"mouseover"},re=v("jqLite"),vv=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ue=/<|&#?\w+;/,yv=/<([\w:]+)/,pv=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,lt={option:[1,'<select multiple="multiple">',"<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};lt.optgroup=lt.option;lt.tbody=lt.tfoot=lt.colgroup=lt.caption=lt.thead;lt.th=lt.td;vi=b.prototype={ready:function(i){function r(){u||(u=!0,i())}var u=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),b(n).on("load",r))},toString:function(){var n=[];return r(this,function(t){n.push(""+t)}),"["+n.join(", ")+"]"},eq:function(n){return 0<=n?s(this[n]):s(this[this.length+n])},length:0,push:ov,sort:[].sort,splice:[].splice};br={};r("multiple selected checked disabled readOnly required open".split(" "),function(n){br[y(n)]=n});fe={};r("input select option textarea button form details".split(" "),function(n){fe[n]=!0});ee={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:cf,removeData:fu,hasData:function(n){for(var t in rr[n.ng339])return!0;return!1}},function(n,t){b[t]=n});r({data:cf,inheritedData:cu,scope:function(n){return s.data(n,"$scope")||cu(n.parentNode||n,["$isolateScope","$scope"])},isolateScope:function(n){return s.data(n,"$isolateScope")||s.data(n,"$isolateScopeNoTemplate")},controller:eo,injector:function(n){return cu(n,"$injector")},removeAttr:function(n,t){n.removeAttribute(t)},hasClass:ou,css:function(n,t,i){if(t=ar(t),e(i))n.style[t]=i;else return n.style[t]},attr:function(n,t,r){var u=n.nodeType;if(u!==ir&&2!==u&&8!==u)if(u=y(t),br[u])if(e(r))r?(n[t]=!0,n.setAttribute(t,u)):(n[t]=!1,n.removeAttribute(u));else return n[t]||(n.attributes.getNamedItem(t)||o).specified?u:i;else if(e(r))n.setAttribute(t,r);else if(n.getAttribute)return n=n.getAttribute(t,2),null===n?i:n},prop:function(n,t,i){if(e(i))n[t]=i;else return n[t]},text:function(){function n(n,t){if(f(t)){var i=n.nodeType;return i===wt||i===ir?n.textContent:""}n.textContent=t}return n.$dv="",n}(),val:function(n,t){if(f(t)){if(n.multiple&&"select"===bt(n)){var i=[];return r(n.options,function(n){n.selected&&i.push(n.value||n.text)}),0===i.length?null:i}return n.value}n.value=t},html:function(n,t){if(f(t))return n.innerHTML;uu(n,!0);n.innerHTML=t},empty:oo},function(n,t){b.prototype[t]=function(t,i){var r,u,e=this.length,o;if(n!==oo&&f(2==n.length&&n!==ou&&n!==eo?t:i)){if(c(t)){for(r=0;r<e;r++)if(n===cf)n(this[r],t);else for(u in t)n(this[r],u,t[u]);return this}for(r=n.$dv,e=f(r)?Math.min(e,1):e,u=0;u<e;u++)o=n(this[u],t,i),r=r?r+o:o;return r}for(r=0;r<e;r++)n(this[r],t,i);return this}});r({removeData:fu,on:function wv(n,t,i,r){var f,u,s,o;if(e(r))throw re("onargs");if(io(n))for(u=eu(n,!0),r=u.events,f=u.handle,f||(f=u.handle=fl(n,r)),u=0<=t.indexOf(" ")?t.split(" "):[t],s=u.length;s--;)t=u[s],o=r[t],o||(r[t]=[],"mouseenter"===t||"mouseleave"===t?wv(n,av[t],function(n){var i=n.relatedTarget;i&&(i===this||this.contains(i))||f(n,t)}):"$destroy"!==t&&n.addEventListener(t,f,!1),o=r[t]),o.push(i)},off:uo,one:function(n,t,i){n=s(n);n.on(t,function r(){n.off(t,i);n.off(t,r)});n.on(t,i)},replaceWith:function(n,t){var i,u=n.parentNode;uu(n);r(new b(t),function(t){i?u.insertBefore(t,i.nextSibling):u.replaceChild(t,n);i=t})},children:function(n){var t=[];return r(n.childNodes,function(n){n.nodeType===wt&&t.push(n)}),t},contents:function(n){return n.contentDocument||n.childNodes||[]},append:function(n,t){var i=n.nodeType,r;if(i===wt||11===i)for(t=new b(t),i=0,r=t.length;i<r;i++)n.appendChild(t[i])},prepend:function(n,t){if(n.nodeType===wt){var i=n.firstChild;r(new b(t),function(t){n.insertBefore(t,i)})}},wrap:function(n,t){t=s(t).eq(0).clone()[0];var i=n.parentNode;i&&i.replaceChild(t,n);t.appendChild(n)},remove:lf,detach:function(n){lf(n,!0)},after:function(n,t){var u=n,e=n.parentNode,i,f,r;for(t=new b(t),i=0,f=t.length;i<f;i++)r=t[i],e.insertBefore(r,u.nextSibling),u=r},addClass:hu,removeClass:su,toggleClass:function(n,t,i){t&&r(t.split(" "),function(t){var r=i;f(r)&&(r=!ou(n,t));(r?hu:su)(n,t)})},parent:function(n){return(n=n.parentNode)&&11!==n.nodeType?n:null},next:function(n){return n.nextElementSibling},find:function(n,t){return n.getElementsByTagName?n.getElementsByTagName(t):[]},clone:hf,triggerHandler:function(n,t,i){var u,e,s=t.type||t,f=eu(n);(f=(f=f&&f.events)&&f[s])&&(u={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:o,type:s,target:n},t.type&&(u=p(u,t)),t=ht(f),e=i?[u].concat(i):[u],r(t,function(t){u.isImmediatePropagationStopped()||t.apply(n,e)}))}},function(n,t){b.prototype[t]=function(t,i,r){for(var u,o=0,h=this.length;o<h;o++)f(u)?(u=n(this[o],t,i,r),e(u)&&(u=s(u))):fo(u,n(this[o],t,i,r));return e(u)?u:this};b.prototype.bind=b.prototype.on;b.prototype.unbind=b.prototype.off});di.prototype={put:function(n,t){this[ei(n,this.nextUid)]=t},get:function(n){return this[ei(n,this.nextUid)]},remove:function(n){var t=this[n=ei(n,this.nextUid)];return delete this[n],t}};var bv=[function(){this.$get=[function(){return di}]}],sh=/^[^\(]*\(\s*([^\)]*)\)/m,kv=/,/,dv=/^\s*(_?)(\S+?)\1\s*$/,hh=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,yi=v("$injector");vr.$$annotate=function(n,t,i){var u;if("function"==typeof n){if(!(u=n.$inject)){if(u=[],n.length){if(t)throw l(i)&&i||(i=n.name||ol(n)),yi("strictdi",i);t=n.toString().replace(hh,"");t=t.match(sh);r(t[1].split(kv),function(n){n.replace(dv,function(n,t,i){u.push(i)})})}n.$inject=u}}else a(n)?(t=n.length-1,bi(n[t],"fn"),u=n.slice(0,t)):bi(n,"fn",!0);return u};var ch=v("$animate"),gv=function(){this.$get=["$q","$$rAF",function(n,t){function i(){}return i.all=o,i.chain=o,i.prototype={end:o,cancel:o,resume:o,pause:o,complete:o,then:function(i,r){return n(function(n){t(function(){n()})}).then(i,r)}},i}]},ny=function(){var n=new di,t=[];this.$get=["$$AnimateRunner","$rootScope",function(i,u){function f(n,t,i){var u=!1;return t&&(t=l(t)?t.split(" "):a(t)?t:[],r(t,function(t){t&&(u=!0,n[t]=i)})),u}function e(){r(t,function(t){var f=n.get(t);if(f){var e=hl(t.attr("class")),i="",u="";r(f,function(n,t){n!==!!e[t]&&(n?i+=(i.length?" ":"")+t:u+=(u.length?" ":"")+t)});r(t,function(n){i&&hu(n,i);u&&su(n,u)});n.remove(t)}});t.length=0}return{enabled:o,on:o,off:o,pin:o,push:function(r,o,s,h){return h&&h(),s=s||{},s.from&&r.css(s.from),s.to&&r.css(s.to),(s.addClass||s.removeClass)&&(o=s.addClass,h=s.removeClass,s=n.get(r)||{},o=f(s,o,!0),h=f(s,h,!1),o||h)&&(n.put(r,s),t.push(r),1===t.length&&u.$$postDigest(e)),new i}}}]},ty=["$provide",function(n){var t=this;this.$$registeredAnimations=Object.create(null);this.register=function(i,r){if(i&&"."!==i.charAt(0))throw ch("notcsel",i);var u=i+"-animation";t.$$registeredAnimations[i.substr(1)]=u;n.factory(u,r)};this.classNameFilter=function(n){if(1===arguments.length&&(this.$$classNameFilter=n instanceof RegExp?n:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw ch("nongcls","ng-animate");return this.$$classNameFilter};this.$get=["$$animateQueue",function(n){function t(n,t,i){var r,u;if(i){n:{for(r=0;r<i.length;r++)if(u=i[r],1===u.nodeType){r=u;break n}r=void 0}!r||r.parentNode||r.previousElementSibling||(i=null)}i?i.after(n):t.prepend(n)}return{on:n.on,off:n.off,pin:n.pin,enabled:n.enabled,cancel:function(n){n.end&&n.end()},enter:function(i,r,u,f){return r=r&&s(r),u=u&&s(u),r=r||u.parent(),t(i,r,u),n.push(i,"enter",oi(f))},move:function(i,r,u,f){return r=r&&s(r),u=u&&s(u),r=r||u.parent(),t(i,r,u),n.push(i,"move",oi(f))},leave:function(t,i){return n.push(t,"leave",oi(i),function(){t.remove()})},addClass:function(t,i,r){return r=oi(r),r.addClass=yr(r.addclass,i),n.push(t,"addClass",r)},removeClass:function(t,i,r){return r=oi(r),r.removeClass=yr(r.removeClass,i),n.push(t,"removeClass",r)},setClass:function(t,i,r,u){return u=oi(u),u.addClass=yr(u.addClass,i),u.removeClass=yr(u.removeClass,r),n.push(t,"setClass",u)},animate:function(t,i,r,u,f){return f=oi(f),f.from=f.from?p(f.from,i):i,f.to=f.to?p(f.to,r):r,f.tempClasses=yr(f.tempClasses,u||"ng-inline-animate"),n.push(t,"animate",f)}}}]}],iy=function(){this.$get=["$$rAF","$q",function(n,t){var i=function(){};return i.prototype={done:function(n){this.defer&&this.defer[!0===n?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=t.defer()),this.defer.promise},then:function(n,t){return this.getPromise().then(n,t)},"catch":function(n){return this.getPromise()["catch"](n)},"finally":function(n){return this.getPromise()["finally"](n)}},function(t,r){function u(){return n(function(){r.addClass&&(t.addClass(r.addClass),r.addClass=null);r.removeClass&&(t.removeClass(r.removeClass),r.removeClass=null);r.to&&(t.css(r.to),r.to=null);f||e.done();f=!0}),e}r.from&&(t.css(r.from),r.from=null);var f,e=new i;return{start:u,end:u}}}]},ut=v("$compile");ho.$inject=["$provide","$$sanitizeUriProvider"];var lh=/^((?:x|data)[\:\-_])/i,ry=v("$controller"),ah=/^(\S+)(\s+as\s+(\w+))?$/,uy=function(){this.$get=["$document",function(n){return function(t){return t?!t.nodeType&&t instanceof s&&(t=t[0]):t=n[0].body,t.offsetWidth+1}}]},vh="application/json",oe={"Content-Type":vh+";charset=utf-8"},fy=/^\[|^\{(?!\{)/,ey={"[":/]$/,"{":/}$/},oy=/^\)\]\}',?\n/,sy=v("$http"),yh=function(n){return function(){throw sy("legacy",n);}},pi=rt.$interpolateMinErr=v("$interpolate");pi.throwNoconcat=function(n){throw pi("noconcat",n);};pi.interr=function(n,t){return pi("interr",n,t.toString())};var hy=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,cy={http:80,https:443,ftp:21},gu=v("$location"),ly={$$html5:!1,$$replace:!1,absUrl:au("$$absUrl"),url:function(n){if(f(n))return this.$$url;var t=hy.exec(n);return(t[1]||""===n)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===n)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:au("$$protocol"),host:au("$$host"),port:au("$$port"),path:ko("$$path",function(n){return n=null!==n?n.toString():"","/"==n.charAt(0)?n:"/"+n}),search:function(n,t){switch(arguments.length){case 0:return this.$$search;case 1:if(l(n)||k(n))n=n.toString(),this.$$search=de(n);else if(c(n))n=st(n,{}),r(n,function(t,i){null==t&&delete n[i]}),this.$$search=n;else throw gu("isrcharg");break;default:f(t)||null===t?delete this.$$search[n]:this.$$search[n]=t}return this.$$compose(),this},hash:ko("$$hash",function(n){return null!==n?n.toString():""}),replace:function(){return this.$$replace=!0,this}};r([bo,wf,pf],function(n){n.prototype=Object.create(ly);n.prototype.state=function(t){if(!arguments.length)return this.$$state;if(n!==pf||!this.$$html5)throw gu("nostate");return this.$$state=f(t)?null:t,this}});var et=v("$parse"),ay=Function.prototype.call,vy=Function.prototype.apply,yy=Function.prototype.bind,nf=it();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(n){nf[n]=!0});ph={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'};tf=function(n){this.options=n};tf.prototype={constructor:tf,lex:function(n){for(this.text=n,this.index=0,this.tokens=[];this.index<this.text.length;)if(n=this.text.charAt(this.index),'"'===n||"'"===n)this.readString(n);else if(this.isNumber(n)||"."===n&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(n))this.readIdent();else if(this.is(n,"(){}[].,;:?"))this.tokens.push({index:this.index,text:n}),this.index++;else if(this.isWhitespace(n))this.index++;else{var t=n+this.peek(),i=t+this.peek(2),r=nf[t],u=nf[i];nf[n]||r||u?(n=u?i:r?t:n,this.tokens.push({index:this.index,text:n,operator:!0}),this.index+=n.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(n,t){return-1!==t.indexOf(n)},peek:function(n){return n=n||1,this.index+n<this.text.length?this.text.charAt(this.index+n):!1},isNumber:function(n){return"0"<=n&&"9">=n&&"string"==typeof n},isWhitespace:function(n){return" "===n||"\r"===n||"\t"===n||"\n"===n||"\v"===n||""===n},isIdent:function(n){return"a"<=n&&"z">=n||"A"<=n&&"Z">=n||"_"===n||"$"===n},isExpOperator:function(n){return"-"===n||"+"===n||this.isNumber(n)},throwError:function(n,t,i){i=i||this.index;t=e(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,i)+"]":" "+i;throw et("lexerr",n,t,this.text);},readNumber:function(){for(var t,i,n="",r=this.index;this.index<this.text.length;){if(t=y(this.text.charAt(this.index)),"."==t||this.isNumber(t))n+=t;else if(i=this.peek(),"e"==t&&this.isExpOperator(i))n+=t;else if(this.isExpOperator(t)&&i&&this.isNumber(i)&&"e"==n.charAt(n.length-1))n+=t;else if(!this.isExpOperator(t)||i&&this.isNumber(i)||"e"!=n.charAt(n.length-1))break;else this.throwError("Invalid exponent");this.index++}this.tokens.push({index:r,text:n,constant:!0,value:Number(n)})},readIdent:function(){for(var t,n=this.index;this.index<this.text.length;){if(t=this.text.charAt(this.index),!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:n,text:this.text.slice(n,this.index),identifier:!0})},readString:function(n){var f=this.index,t,u;this.index++;for(var r="",u=n,i=!1;this.index<this.text.length;){if(t=this.text.charAt(this.index),u=u+t,i)"u"===t?(i=this.text.substring(this.index+1,this.index+5),i.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,r+=String.fromCharCode(parseInt(i,16))):r+=ph[t]||t,i=!1;else if("\\"===t)i=!0;else{if(t===n){this.index++;this.tokens.push({index:f,text:u,constant:!0,value:r});return}r+=t}this.index++}this.throwError("Unterminated quote",f)}};u=function(n,t){this.lexer=n;this.options=t};u.Program="Program";u.ExpressionStatement="ExpressionStatement";u.AssignmentExpression="AssignmentExpression";u.ConditionalExpression="ConditionalExpression";u.LogicalExpression="LogicalExpression";u.BinaryExpression="BinaryExpression";u.UnaryExpression="UnaryExpression";u.CallExpression="CallExpression";u.MemberExpression="MemberExpression";u.Identifier="Identifier";u.Literal="Literal";u.ArrayExpression="ArrayExpression";u.Property="Property";u.ObjectExpression="ObjectExpression";u.ThisExpression="ThisExpression";u.NGValueParameter="NGValueParameter";u.prototype={ast:function(n){return this.text=n,this.tokens=this.lexer.lex(n),n=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),n},program:function(){for(var n=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&n.push(this.expressionStatement()),!this.expect(";"))return{type:u.Program,body:n}},expressionStatement:function(){return{type:u.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var n=this.expression();this.expect("|");)n=this.filter(n);return n},expression:function(){return this.assignment()},assignment:function(){var n=this.ternary();return this.expect("=")&&(n={type:u.AssignmentExpression,left:n,right:this.assignment(),operator:"="}),n},ternary:function(){var n=this.logicalOR(),t,i;return this.expect("?")&&(t=this.expression(),this.consume(":"))?(i=this.expression(),{type:u.ConditionalExpression,test:n,alternate:t,consequent:i}):n},logicalOR:function(){for(var n=this.logicalAND();this.expect("||");)n={type:u.LogicalExpression,operator:"||",left:n,right:this.logicalAND()};return n},logicalAND:function(){for(var n=this.equality();this.expect("&&");)n={type:u.LogicalExpression,operator:"&&",left:n,right:this.equality()};return n},equality:function(){for(var n=this.relational(),t;t=this.expect("==","!=","===","!==");)n={type:u.BinaryExpression,operator:t.text,left:n,right:this.relational()};return n},relational:function(){for(var n=this.additive(),t;t=this.expect("<",">","<=",">=");)n={type:u.BinaryExpression,operator:t.text,left:n,right:this.additive()};return n},additive:function(){for(var n=this.multiplicative(),t;t=this.expect("+","-");)n={type:u.BinaryExpression,operator:t.text,left:n,right:this.multiplicative()};return n},multiplicative:function(){for(var n=this.unary(),t;t=this.expect("*","/","%");)n={type:u.BinaryExpression,operator:t.text,left:n,right:this.unary()};return n},unary:function(){var n;return(n=this.expect("+","-","!"))?{type:u.UnaryExpression,operator:n.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var n,t;for(this.expect("(")?(n=this.filterChain(),this.consume(")")):this.expect("[")?n=this.arrayDeclaration():this.expect("{")?n=this.object():this.constants.hasOwnProperty(this.peek().text)?n=st(this.constants[this.consume().text]):this.peek().identifier?n=this.identifier():this.peek().constant?n=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(n={type:u.CallExpression,callee:n,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(n={type:u.MemberExpression,object:n,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?n={type:u.MemberExpression,object:n,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return n},filter:function(n){n=[n];for(var t={type:u.CallExpression,callee:this.identifier(),arguments:n,filter:!0};this.expect(":");)n.push(this.expression());return t},parseArguments:function(){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));return n},identifier:function(){var n=this.consume();return n.identifier||this.throwError("is not a valid identifier",n),{type:u.Identifier,name:n.text}},constant:function(){return{type:u.Literal,value:this.consume().value}},arrayDeclaration:function(){var n=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;n.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:u.ArrayExpression,elements:n}},object:function(){var t=[],n;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;n={type:u.Property,kind:"init"};this.peek().constant?n.key=this.constant():this.peek().identifier?n.key=this.identifier():this.throwError("invalid key",this.peek());this.consume(":");n.value=this.expression();t.push(n)}while(this.expect(","));return this.consume("}"),{type:u.ObjectExpression,properties:t}},throwError:function(n,t){throw et("syntax",t.text,n,t.index+1,this.text,this.text.substring(t.index));},consume:function(n){if(0===this.tokens.length)throw et("ueoe",this.text);var t=this.expect(n);return t||this.throwError("is unexpected, expecting ["+n+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw et("ueoe",this.text);return this.tokens[0]},peek:function(n,t,i,r){return this.peekAhead(0,n,t,i,r)},peekAhead:function(n,t,i,r,u){if(this.tokens.length>n){n=this.tokens[n];var f=n.text;if(f===t||f===i||f===r||f===u||!(t||i||r||u))return n}return!1},expect:function(n,t,i,r){return(n=this.peek(n,t,i,r))?(this.tokens.shift(),n):!1},constants:{"true":{type:u.Literal,value:!0},"false":{type:u.Literal,value:!1},"null":{type:u.Literal,value:null},undefined:{type:u.Literal,value:i},"this":{type:u.ThisExpression}}};fs.prototype={compile:function(n,t){var f=this,e=this.astBuilder.ast(n),u,o;return this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},d(e,f.$filter),u="",this.stage="assign",(o=rs(e))&&(this.state.computing="assign",u=this.nextId(),this.recurse(o,u),this.return_(u),u="fn.assign="+this.generateFunction("assign","s,v,l")),o=ts(e.body),f.stage="inputs",r(o,function(n,t){var i="fn"+t,r;f.state[i]={vars:[],body:[],own:{}};f.state.computing=i;r=f.nextId();f.recurse(n,r);f.return_(r);f.state.inputs.push(i);n.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(e),u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+u+this.watchFns()+"return fn;",u=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",u)(this.$filter,gi,ii,go,ea,ns,n),this.state=this.stage=i,u.literal=us(e),u.constant=e.constant,u},USE:"use",STRICT:"strict",watchFns:function(){var n=[],t=this.state.inputs,i=this;return r(t,function(t){n.push("var "+t+"="+i.generateFunction(t,"s"))}),t.length&&n.push("fn.inputs=["+t.join(",")+"];"),n.join("")},generateFunction:function(n,t){return"function("+t+"){"+this.varsPrefix(n)+this.body(n)+"};"},filterPrefix:function(){var n=[],t=this;return r(this.state.filters,function(i,r){n.push(i+"=$filter("+t.escape(r)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(n){return this.state[n].vars.length?"var "+this.state[n].vars.join(",")+";":""},body:function(n){return this.state[n].body.join("")},recurse:function(n,t,f,s,h,c){var v,y,l=this,p,a;if(s=s||o,!c&&e(n.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",n.watchId)),this.lazyRecurse(n,t,f,s,h,!0));else switch(n.type){case u.Program:r(n.body,function(t,r){l.recurse(t.expression,i,i,function(n){y=n});r!==n.body.length-1?l.current().body.push(y,";"):l.return_(y)});break;case u.Literal:a=this.escape(n.value);this.assign(t,a);s(a);break;case u.UnaryExpression:this.recurse(n.argument,i,i,function(n){y=n});a=n.operator+"("+this.ifDefined(y,0)+")";this.assign(t,a);s(a);break;case u.BinaryExpression:this.recurse(n.left,i,i,function(n){v=n});this.recurse(n.right,i,i,function(n){y=n});a="+"===n.operator?this.plus(v,y):"-"===n.operator?this.ifDefined(v,0)+n.operator+this.ifDefined(y,0):"("+v+")"+n.operator+"("+y+")";this.assign(t,a);s(a);break;case u.LogicalExpression:t=t||this.nextId();l.recurse(n.left,t);l.if_("&&"===n.operator?t:l.not(t),l.lazyRecurse(n.right,t));s(t);break;case u.ConditionalExpression:t=t||this.nextId();l.recurse(n.test,t);l.if_(t,l.lazyRecurse(n.alternate,t),l.lazyRecurse(n.consequent,t));s(t);break;case u.Identifier:t=t||this.nextId();f&&(f.context="inputs"===l.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),f.computed=!1,f.name=n.name);gi(n.name);l.if_("inputs"===l.stage||l.not(l.getHasOwnProperty("l",n.name)),function(){l.if_("inputs"===l.stage||"s",function(){h&&1!==h&&l.if_(l.not(l.nonComputedMember("s",n.name)),l.lazyAssign(l.nonComputedMember("s",n.name),"{}"));l.assign(t,l.nonComputedMember("s",n.name))})},t&&l.lazyAssign(t,l.nonComputedMember("l",n.name)));(l.state.expensiveChecks||vu(n.name))&&l.addEnsureSafeObject(t);s(t);break;case u.MemberExpression:v=f&&(f.context=this.nextId())||this.nextId();t=t||this.nextId();l.recurse(n.object,v,i,function(){l.if_(l.notNull(v),function(){n.computed?(y=l.nextId(),l.recurse(n.property,y),l.addEnsureSafeMemberName(y),h&&1!==h&&l.if_(l.not(l.computedMember(v,y)),l.lazyAssign(l.computedMember(v,y),"{}")),a=l.ensureSafeObject(l.computedMember(v,y)),l.assign(t,a),f&&(f.computed=!0,f.name=y)):(gi(n.property.name),h&&1!==h&&l.if_(l.not(l.nonComputedMember(v,n.property.name)),l.lazyAssign(l.nonComputedMember(v,n.property.name),"{}")),a=l.nonComputedMember(v,n.property.name),(l.state.expensiveChecks||vu(n.property.name))&&(a=l.ensureSafeObject(a)),l.assign(t,a),f&&(f.computed=!1,f.name=n.property.name))},function(){l.assign(t,"undefined")});s(t)},!!h);break;case u.CallExpression:t=t||this.nextId();n.filter?(y=l.filter(n.callee.name),p=[],r(n.arguments,function(n){var t=l.nextId();l.recurse(n,t);p.push(t)}),a=y+"("+p.join(",")+")",l.assign(t,a),s(t)):(y=l.nextId(),v={},p=[],l.recurse(n.callee,y,v,function(){l.if_(l.notNull(y),function(){l.addEnsureSafeFunction(y);r(n.arguments,function(n){l.recurse(n,l.nextId(),i,function(n){p.push(l.ensureSafeObject(n))})});v.name?(l.state.expensiveChecks||l.addEnsureSafeObject(v.context),a=l.member(v.context,v.name,v.computed)+"("+p.join(",")+")"):a=y+"("+p.join(",")+")";a=l.ensureSafeObject(a);l.assign(t,a)},function(){l.assign(t,"undefined")});s(t)}));break;case u.AssignmentExpression:if(y=this.nextId(),v={},!is(n.left))throw et("lval");this.recurse(n.left,i,v,function(){l.if_(l.notNull(v.context),function(){l.recurse(n.right,y);l.addEnsureSafeObject(l.member(v.context,v.name,v.computed));a=l.member(v.context,v.name,v.computed)+n.operator+y;l.assign(t,a);s(t||a)})},1);break;case u.ArrayExpression:p=[];r(n.elements,function(n){l.recurse(n,l.nextId(),i,function(n){p.push(n)})});a="["+p.join(",")+"]";this.assign(t,a);s(a);break;case u.ObjectExpression:p=[];r(n.properties,function(n){l.recurse(n.value,l.nextId(),i,function(t){p.push(l.escape(n.key.type===u.Identifier?n.key.name:""+n.key.value)+":"+t)})});a="{"+p.join(",")+"}";this.assign(t,a);s(a);break;case u.ThisExpression:this.assign(t,"s");s("s");break;case u.NGValueParameter:this.assign(t,"v");s("v")}},getHasOwnProperty:function(n,t){var i=n+"."+t,r=this.current().own;return r.hasOwnProperty(i)||(r[i]=this.nextId(!1,n+"&&("+this.escape(t)+" in "+n+")")),r[i]},assign:function(n,t){if(n)return this.current().body.push(n,"=",t,";"),n},filter:function(n){return this.state.filters.hasOwnProperty(n)||(this.state.filters[n]=this.nextId(!0)),this.state.filters[n]},ifDefined:function(n,t){return"ifDefined("+n+","+this.escape(t)+")"},plus:function(n,t){return"plus("+n+","+t+")"},return_:function(n){this.current().body.push("return ",n,";")},if_:function(n,t,i){if(!0===n)t();else{var r=this.current().body;r.push("if(",n,"){");t();r.push("}");i&&(r.push("else{"),i(),r.push("}"))}},not:function(n){return"!("+n+")"},notNull:function(n){return n+"!=null"},nonComputedMember:function(n,t){return n+"."+t},computedMember:function(n,t){return n+"["+t+"]"},member:function(n,t,i){return i?this.computedMember(n,t):this.nonComputedMember(n,t)},addEnsureSafeObject:function(n){this.current().body.push(this.ensureSafeObject(n),";")},addEnsureSafeMemberName:function(n){this.current().body.push(this.ensureSafeMemberName(n),";")},addEnsureSafeFunction:function(n){this.current().body.push(this.ensureSafeFunction(n),";")},ensureSafeObject:function(n){return"ensureSafeObject("+n+",text)"},ensureSafeMemberName:function(n){return"ensureSafeMemberName("+n+",text)"},ensureSafeFunction:function(n){return"ensureSafeFunction("+n+",text)"},lazyRecurse:function(n,t,i,r,u,f){var e=this;return function(){e.recurse(n,t,i,r,u,f)}},lazyAssign:function(n,t){var i=this;return function(){i.assign(n,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)},escape:function(n){if(l(n))return"'"+n.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(k(n))return n.toString();if(!0===n)return"true";if(!1===n)return"false";if(null===n)return"null";if("undefined"==typeof n)return"undefined";throw et("esc");},nextId:function(n,t){var i="v"+this.state.nextId++;return n||this.current().vars.push(i+(t?"="+t:"")),i},current:function(){return this.state[this.state.computing]}};es.prototype={compile:function(n,t){var o=this,u=this.astBuilder.ast(n),i,s,f,e;return this.expression=n,this.expensiveChecks=t,d(u,o.$filter),(i=rs(u))&&(s=this.recurse(i)),i=ts(u.body),i&&(f=[],r(i,function(n,t){var i=o.recurse(n);n.input=i;f.push(i);n.watchId=t})),e=[],r(u.body,function(n){e.push(o.recurse(n.expression))}),i=0===u.body.length?function(){}:1===u.body.length?e[0]:function(n,t){var i;return r(e,function(r){i=r(n,t)}),i},s&&(i.assign=function(n,t,i){return s(n,i,t)}),f&&(i.inputs=f),i.literal=us(u),i.constant=u.constant,i},recurse:function(n,t,f){var h,e,o=this,s;if(n.input)return this.inputs(n.input,n.watchId);switch(n.type){case u.Literal:return this.value(n.value,t);case u.UnaryExpression:return e=this.recurse(n.argument),this["unary"+n.operator](e,t);case u.BinaryExpression:return h=this.recurse(n.left),e=this.recurse(n.right),this["binary"+n.operator](h,e,t);case u.LogicalExpression:return h=this.recurse(n.left),e=this.recurse(n.right),this["binary"+n.operator](h,e,t);case u.ConditionalExpression:return this["ternary?:"](this.recurse(n.test),this.recurse(n.alternate),this.recurse(n.consequent),t);case u.Identifier:return gi(n.name,o.expression),o.identifier(n.name,o.expensiveChecks||vu(n.name),t,f,o.expression);case u.MemberExpression:return h=this.recurse(n.object,!1,!!f),n.computed||(gi(n.property.name,o.expression),e=n.property.name),n.computed&&(e=this.recurse(n.property)),n.computed?this.computedMember(h,e,t,f,o.expression):this.nonComputedMember(h,e,o.expensiveChecks,t,f,o.expression);case u.CallExpression:return s=[],r(n.arguments,function(n){s.push(o.recurse(n))}),n.filter&&(e=this.$filter(n.callee.name)),n.filter||(e=this.recurse(n.callee,!0)),n.filter?function(n,r,u,f){for(var h=[],o=0;o<s.length;++o)h.push(s[o](n,r,u,f));return n=e.apply(i,h,f),t?{context:i,name:i,value:n}:n}:function(n,i,r,u){var h=e(n,i,r,u),f,c;if(null!=h.value){for(ii(h.context,o.expression),go(h.value,o.expression),f=[],c=0;c<s.length;++c)f.push(ii(s[c](n,i,r,u),o.expression));f=ii(h.value.apply(h.context,f),o.expression)}return t?{value:f}:f};case u.AssignmentExpression:return h=this.recurse(n.left,!0,1),e=this.recurse(n.right),function(n,i,r,u){var f=h(n,i,r,u);return n=e(n,i,r,u),ii(f.value,o.expression),f.context[f.name]=n,t?{value:n}:n};case u.ArrayExpression:return s=[],r(n.elements,function(n){s.push(o.recurse(n))}),function(n,i,r,u){for(var f=[],e=0;e<s.length;++e)f.push(s[e](n,i,r,u));return t?{value:f}:f};case u.ObjectExpression:return s=[],r(n.properties,function(n){s.push({key:n.key.type===u.Identifier?n.key.name:""+n.key.value,value:o.recurse(n.value)})}),function(n,i,r,u){for(var e={},f=0;f<s.length;++f)e[s[f].key]=s[f].value(n,i,r,u);return t?{value:e}:e};case u.ThisExpression:return function(n){return t?{value:n}:n};case u.NGValueParameter:return function(n,i,r){return t?{value:r}:r}}},"unary+":function(n,t){return function(i,r,u,f){return i=n(i,r,u,f),i=e(i)?+i:0,t?{value:i}:i}},"unary-":function(n,t){return function(i,r,u,f){return i=n(i,r,u,f),i=e(i)?-i:0,t?{value:i}:i}},"unary!":function(n,t){return function(i,r,u,f){return i=!n(i,r,u,f),t?{value:i}:i}},"binary+":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e);return r=t(r,u,f,e),o=ns(o,r),i?{value:o}:o}},"binary-":function(n,t,i){return function(r,u,f,o){var s=n(r,u,f,o);return r=t(r,u,f,o),s=(e(s)?s:0)-(e(r)?r:0),i?{value:s}:s}},"binary*":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)*t(r,u,f,e),i?{value:r}:r}},"binary/":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)/t(r,u,f,e),i?{value:r}:r}},"binary%":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)%t(r,u,f,e),i?{value:r}:r}},"binary===":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)===t(r,u,f,e),i?{value:r}:r}},"binary!==":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)!==t(r,u,f,e),i?{value:r}:r}},"binary==":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)==t(r,u,f,e),i?{value:r}:r}},"binary!=":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)!=t(r,u,f,e),i?{value:r}:r}},"binary<":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)<t(r,u,f,e),i?{value:r}:r}},"binary>":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)>t(r,u,f,e),i?{value:r}:r}},"binary<=":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)<=t(r,u,f,e),i?{value:r}:r}},"binary>=":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)>=t(r,u,f,e),i?{value:r}:r}},"binary&&":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)&&t(r,u,f,e),i?{value:r}:r}},"binary||":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)||t(r,u,f,e),i?{value:r}:r}},"ternary?:":function(n,t,i,r){return function(u,f,e,o){return u=n(u,f,e,o)?t(u,f,e,o):i(u,f,e,o),r?{value:u}:u}},value:function(n,t){return function(){return t?{context:i,name:i,value:n}:n}},identifier:function(n,t,r,u,f){return function(e,o){return e=o&&n in o?o:e,u&&1!==u&&e&&!e[n]&&(e[n]={}),o=e?e[n]:i,t&&ii(o,f),r?{context:e,name:n,value:o}:o}},computedMember:function(n,t,i,r,u){return function(f,e,o,s){var h=n(f,e,o,s),c,l;return null!=h&&(c=t(f,e,o,s),gi(c,u),r&&1!==r&&h&&!h[c]&&(h[c]={}),l=h[c],ii(l,u)),i?{context:h,name:c,value:l}:l}},nonComputedMember:function(n,t,r,u,f,e){return function(o,s,h,c){return o=n(o,s,h,c),f&&1!==f&&o&&!o[t]&&(o[t]={}),s=null!=o?o[t]:i,(r||vu(t))&&ii(s,e),u?{context:o,name:t,value:s}:s}},inputs:function(n,t){return function(i,r,u,f){return f?f[t]:n(i,r,u)}}};rf=function(n,t,i){this.lexer=n;this.$filter=t;this.options=i;this.ast=new u(this.lexer);this.astCompiler=i.csp?new es(this.ast,t):new fs(this.ast,t)};rf.prototype={constructor:rf,parse:function(n){return this.astCompiler.compile(n,this.options.expensiveChecks)}};it();it();var py=Object.prototype.valueOf,ui=v("$sce"),at={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ut=v("$compile"),nt=t.createElement("a"),wh=ri(n.location.href);cs.$inject=["$document"];ls.$inject=["$provide"];as.$inject=["$locale"];vs.$inject=["$locale"];var bh=".",wy={yyyy:g("FullYear",4),yy:g("FullYear",2,0,!0),y:g("FullYear",1),MMMM:pu("Month"),MMM:pu("Month",!0),MM:g("Month",2,1),M:g("Month",1,1),dd:g("Date",2),d:g("Date",1),HH:g("Hours",2),H:g("Hours",1),hh:g("Hours",2,-12),h:g("Hours",1,-12),mm:g("Minutes",2),m:g("Minutes",1),ss:g("Seconds",2),s:g("Seconds",1),sss:g("Milliseconds",3),EEEE:pu("Day"),EEE:pu("Day",!0),a:function(n,t){return 12>n.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(n,t,i){return n=-1*i,(0<=n?"+":"")+(yu(Math[0<n?"floor":"ceil"](n/60),2)+yu(Math.abs(n%60),2))},ww:ws(2),w:ws(1),G:df,GG:df,GGG:df,GGGG:function(n,t){return 0>=n.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},by=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ky=/^\-?\d+$/;bs.$inject=["$locale"];kh=vt(y);dh=vt(bu);ks.$inject=["$parse"];gh=vt({restrict:"E",compile:function(n,t){if(!t.href&&!t.xlinkHref)return function(n,t){if("a"===t[0].nodeName.toLowerCase()){var i="[object SVGAnimatedString]"===ti.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(n){t.attr(i)||n.preventDefault()})}}}});kr={};r(br,function(n,t){function r(n,r,u){n.$watch(u[i],function(n){u.$set(t,!!n)})}if("multiple"!=n){var i=dt("ng-"+t),u=r;"checked"===n&&(u=function(n,t,u){u.ngModel!==u[i]&&r(n,t,u)});kr[i]=function(){return{restrict:"A",priority:100,link:u}}}});r(ee,function(n,t){kr[t]=function(){return{priority:100,link:function(n,i,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)&&(i=r.ngPattern.match(fv))){r.$set("ngPattern",new RegExp(i[1],i[2]));return}n.$watch(r[t],function(n){r.$set(t,n)})}}}});r(["src","srcset","href"],function(n){var t=dt("ng-"+n);kr[t]=function(){return{priority:99,link:function(i,r,u){var e=n,f=n;"href"===n&&"[object SVGAnimatedString]"===ti.call(r.prop("href"))&&(f="xlinkHref",u.$attr[f]="xlink:href",e=null);u.$observe(t,function(t){t?(u.$set(f,t),nr&&e&&r.prop(e,u[f])):"href"===n&&u.$set(f,null)})}}}});dr={$addControl:o,$$renameControl:function(n,t){n.$name=t},$removeControl:o,$setValidity:o,$setDirty:o,$setPristine:o,$setSubmitted:o};ds.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var nc=function(n){return["$timeout","$parse",function(t,r){function u(n){return""===n?r('this[""]').assign:r(n).assign||o}return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:ds,compile:function(r,f){r.addClass(ur).addClass(gr);var e=f.name?"name":n&&f.ngForm?"ngForm":!1;return{pre:function(n,r,f,s){var h=s[0],l,c;if(!("action"in f)){l=function(t){n.$apply(function(){h.$commitViewValue();h.$setSubmitted()});t.preventDefault()};r[0].addEventListener("submit",l,!1);r.on("$destroy",function(){t(function(){r[0].removeEventListener("submit",l,!1)},0,!1)})}(s[1]||h.$$parentForm).$addControl(h);c=e?u(h.$name):o;e&&(c(n,h),f.$observe(e,function(t){h.$name!==t&&(c(n,i),h.$$parentForm.$$renameControl(h,t),c=u(h.$name),c(n,h))}));r.on("$destroy",function(){h.$$parentForm.$removeControl(h);c(n,i);p(h,dr)})}}}}}]},dy=nc(),gy=nc(!0),np=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,tp=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,ip=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,rp=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,tc=/^(\d{4})-(\d{2})-(\d{2})$/,ic=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,se=/^(\d{4})-W(\d\d)$/,rc=/^(\d{4})-(\d\d)$/,uc=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,fc={text:function(n,t,i,r,u,f){pr(n,t,i,r,u,f);gf(r)},date:wr("date",tc,wu(tc,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":wr("datetimelocal",ic,wu(ic,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:wr("time",uc,wu(uc,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:wr("week",se,function(n,t){var i;if(ft(n))return n;if(l(n)&&(se.lastIndex=0,i=se.exec(n),i)){var r=+i[1],u=+i[2],f=i=0,e=0,o=0,s=ps(r),u=7*(u-1);return t&&(i=t.getHours(),f=t.getMinutes(),e=t.getSeconds(),o=t.getMilliseconds()),new Date(r,0,s.getDate()+u,i,f,e,o)}return NaN},"yyyy-Www"),month:wr("month",rc,wu(rc,["yyyy","MM"]),"yyyy-MM"),number:function(n,t,r,u,o,s){var h,c;gs(n,t,r,u);pr(n,t,r,u,o,s);u.$$parserName="number";u.$parsers.push(function(n){return u.$isEmpty(n)?null:rp.test(n)?parseFloat(n):i});u.$formatters.push(function(n){if(!u.$isEmpty(n)){if(!k(n))throw nu("numfmt",n);n=n.toString()}return n});(e(r.min)||r.ngMin)&&(u.$validators.min=function(n){return u.$isEmpty(n)||f(h)||n>=h},r.$observe("min",function(n){e(n)&&!k(n)&&(n=parseFloat(n,10));h=k(n)&&!isNaN(n)?n:i;u.$validate()}));(e(r.max)||r.ngMax)&&(u.$validators.max=function(n){return u.$isEmpty(n)||f(c)||n<=c},r.$observe("max",function(n){e(n)&&!k(n)&&(n=parseFloat(n,10));c=k(n)&&!isNaN(n)?n:i;u.$validate()}))},url:function(n,t,i,r,u,f){pr(n,t,i,r,u,f);gf(r);r.$$parserName="url";r.$validators.url=function(n,t){var i=n||t;return r.$isEmpty(i)||tp.test(i)}},email:function(n,t,i,r,u,f){pr(n,t,i,r,u,f);gf(r);r.$$parserName="email";r.$validators.email=function(n,t){var i=n||t;return r.$isEmpty(i)||ip.test(i)}},radio:function(n,t,i,r){f(i.name)&&t.attr("name",++ku);t.on("click",function(n){t[0].checked&&r.$setViewValue(i.value,n&&n.type)});r.$render=function(){t[0].checked=i.value==r.$viewValue};i.$observe("value",r.$render)},checkbox:function(n,t,i,r,u,f,e,o){var s=nh(o,n,"ngTrueValue",i.ngTrueValue,!0),h=nh(o,n,"ngFalseValue",i.ngFalseValue,!1);t.on("click",function(n){r.$setViewValue(t[0].checked,n&&n.type)});r.$render=function(){t[0].checked=r.$viewValue};r.$isEmpty=function(n){return!1===n};r.$formatters.push(function(n){return ot(n,s)});r.$parsers.push(function(n){return n?s:h})},hidden:o,button:o,submit:o,reset:o,file:o},ec=["$browser","$sniffer","$filter","$parse",function(n,t,i,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(u,f,e,o){o[0]&&(fc[y(e.type)]||fc.text)(u,f,e,o[0],t,n,i,r)}}}}],up=/^(true|false|\d+)$/,fp=function(){return{restrict:"A",priority:100,compile:function(n,t){return up.test(t.ngValue)?function(n,t,i){i.$set("value",n.$eval(i.ngValue))}:function(n,t,i){n.$watch(i.ngValue,function(n){i.$set("value",n)})}}}},ep=["$compile",function(n){return{restrict:"AC",compile:function(t){return n.$$addBindingClass(t),function(t,i,r){n.$$addBindingInfo(i,r.ngBind);i=i[0];t.$watch(r.ngBind,function(n){i.textContent=f(n)?"":n})}}}}],op=["$interpolate","$compile",function(n,t){return{compile:function(i){return t.$$addBindingClass(i),function(i,r,u){i=n(r.attr(u.$attr.ngBindTemplate));t.$$addBindingInfo(r,i.expressions);r=r[0];u.$observe("ngBindTemplate",function(n){r.textContent=f(n)?"":n})}}}}],sp=["$sce","$parse","$compile",function(n,t,i){return{restrict:"A",compile:function(r,u){var f=t(u.ngBindHtml),e=t(u.ngBindHtml,function(n){return(n||"").toString()});return i.$$addBindingClass(r),function(t,r,u){i.$$addBindingInfo(r,u.ngBindHtml);t.$watch(e,function(){r.html(n.getTrustedHtml(f(t))||"")})}}}}],hp=vt({restrict:"A",require:"ngModel",link:function(n,t,i,r){r.$viewChangeListeners.push(function(){n.$eval(i.ngChange)})}}),cp=ne("",!0),lp=ne("Odd",0),ap=ne("Even",1),vp=ci({compile:function(n,t){t.$set("ngCloak",i);n.removeClass("ng-cloak")}}),yp=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],oc={},pp={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(n){var t=dt("ng-"+n);oc[t]=["$parse","$rootScope",function(i,r){return{restrict:"A",compile:function(u,f){var e=i(f[t],null,!0);return function(t,i){i.on(n,function(i){var u=function(){e(t,{$event:i})};pp[n]&&r.$$phase?t.$evalAsync(u):t.$apply(u)})}}}}]});var wp=["$animate",function(n){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(i,r,u,f,e){var h,s,o;i.$watch(u.ngIf,function(i){i?s||e(function(i,f){s=f;i[i.length++]=t.createComment(" end ngIf: "+u.ngIf+" ");h={clone:i};n.enter(i,r.parent(),r)}):(o&&(o.remove(),o=null),s&&(s.$destroy(),s=null),h&&(o=ru(h.clone),n.leave(o).then(function(){o=null}),h=null))})}}}],bp=["$templateRequest","$anchorScroll","$animate",function(n,t,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:rt.noop,compile:function(r,u){var o=u.ngInclude||u.src,s=u.onload||"",f=u.autoscroll;return function(r,u,h,c,l){var p=0,a,v,y,w=function(){v&&(v.remove(),v=null);a&&(a.$destroy(),a=null);y&&(i.leave(y).then(function(){v=null}),v=y,y=null)};r.$watch(o,function(o){var v=function(){e(f)&&(!f||r.$eval(f))&&t()},h=++p;o?(n(o,!0).then(function(n){if(h===p){var t=r.$new();c.template=n;n=l(t,function(n){w();i.enter(n,null,u).then(v)});a=t;y=n;a.$emit("$includeContentLoaded",o);r.$eval(s)}},function(){h===p&&(w(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(w(),c.template=null)})}}}}],kp=["$compile",function(n){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,r,u,f){/SVG/.test(r[0].toString())?(r.empty(),n(ro(f.template,t).childNodes)(i,function(n){r.append(n)},{futureParentElement:r})):(r.html(f.template),n(r.contents())(i))}}}],dp=ci({priority:450,compile:function(){return{pre:function(n,t,i){n.$eval(i.ngInit)}}}}),gp=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(n,t,u,e){var o=t.attr(u.$attr.ngList)||", ",s="false"!==u.ngTrim,h=s?w(o):o;e.$parsers.push(function(n){if(!f(n)){var t=[];return n&&r(n.split(h),function(n){n&&t.push(s?w(n):n)}),t}});e.$formatters.push(function(n){return a(n)?n.join(o):i});e.$isEmpty=function(n){return!n||!n.length}}}},gr="ng-valid",sc="ng-invalid",ur="ng-pristine",uf="ng-dirty",hc="ng-pending",nu=v("ngModel"),nw=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(n,t,u,s,c,l,a,v,y,p){var g;this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=i;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=i;this.$name=p(u.name||"",!1)(n);this.$$parentForm=dr;var d=c(u.ngModel),it=d.assign,tt=d,rt=it,nt=null,b,w=this;this.$$setOptions=function(n){if((w.$options=n)&&n.getterSetter){var t=c(u.ngModel+"()"),i=c(u.ngModel+"($$$p)");tt=function(n){var i=d(n);return h(i)&&(i=t(n)),i};rt=function(n){h(d(n))?i(n,{$$$p:w.$modelValue}):it(n,w.$modelValue)}}else if(!d.assign)throw nu("nonassign",u.ngModel,kt(s));};this.$render=o;this.$isEmpty=function(n){return f(n)||""===n||null===n||n!==n};g=0;th({ctrl:this,$element:s,set:function(n,t){n[t]=!0},unset:function(n,t){delete n[t]},$animate:l});this.$setPristine=function(){w.$dirty=!1;w.$pristine=!0;l.removeClass(s,uf);l.addClass(s,ur)};this.$setDirty=function(){w.$dirty=!0;w.$pristine=!1;l.removeClass(s,ur);l.addClass(s,uf);w.$$parentForm.$setDirty()};this.$setUntouched=function(){w.$touched=!1;w.$untouched=!0;l.setClass(s,"ng-untouched","ng-touched")};this.$setTouched=function(){w.$touched=!0;w.$untouched=!1;l.setClass(s,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){a.cancel(nt);w.$viewValue=w.$$lastCommittedViewValue;w.$render()};this.$validate=function(){if(!k(w.$modelValue)||!isNaN(w.$modelValue)){var n=w.$$rawModelValue,t=w.$valid,r=w.$modelValue,u=w.$options&&w.$options.allowInvalid;w.$$runValidators(n,w.$$lastCommittedViewValue,function(f){u||t===f||(w.$modelValue=f?n:i,w.$modelValue!==r&&w.$$writeModelToScope())})}};this.$$runValidators=function(n,t,u){function l(){var i=!0;return r(w.$validators,function(r,u){var f=r(n,t);i=i&&f;e(u,f)}),i?!0:(r(w.$asyncValidators,function(n,t){e(t,null)}),!1)}function a(){var u=[],f=!0;r(w.$asyncValidators,function(r,o){var s=r(n,t);if(!s||!h(s.then))throw nu("$asyncValidators",s);e(o,i);u.push(s.then(function(){e(o,!0)},function(){f=!1;e(o,!1)}))});u.length?y.all(u).then(function(){s(f)},o):s(!0)}function e(n,t){c===g&&w.$setValidity(n,t)}function s(n){c===g&&u(n)}g++;var c=g;(function(){var n=w.$$parserName||"parse";if(f(b))e(n,null);else return b||(r(w.$validators,function(n,t){e(t,null)}),r(w.$asyncValidators,function(n,t){e(t,null)})),e(n,b),b;return!0})()?l()?a():s(!1):s(!1)};this.$commitViewValue=function(){var n=w.$viewValue;a.cancel(nt);(w.$$lastCommittedViewValue!==n||""===n&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=n,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())};this.$$parseAndValidate=function(){var t=w.$$lastCommittedViewValue,r,u,e;if(b=f(t)?i:!0)for(r=0;r<w.$parsers.length;r++)if(t=w.$parsers[r](t),f(t)){b=!1;break}k(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=tt(n));u=w.$modelValue;e=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=t;e&&(w.$modelValue=t,w.$modelValue!==u&&w.$$writeModelToScope());w.$$runValidators(t,w.$$lastCommittedViewValue,function(n){e||(w.$modelValue=n?t:i,w.$modelValue!==u&&w.$$writeModelToScope())})};this.$$writeModelToScope=function(){rt(n,w.$modelValue);r(w.$viewChangeListeners,function(n){try{n()}catch(i){t(i)}})};this.$setViewValue=function(n,t){w.$viewValue=n;w.$options&&!w.$options.updateOnDefault||w.$$debounceViewValueCommit(t)};this.$$debounceViewValueCommit=function(t){var r=0,i=w.$options;i&&e(i.debounce)&&(i=i.debounce,k(i)?r=i:k(i[t])?r=i[t]:k(i["default"])&&(r=i["default"]));a.cancel(nt);r?nt=a(function(){w.$commitViewValue()},r):v.$$phase?w.$commitViewValue():n.$apply(function(){w.$commitViewValue()})};n.$watch(function(){var t=tt(n);if(t!==w.$modelValue&&(w.$modelValue===w.$modelValue||t===t)){w.$modelValue=w.$$rawModelValue=t;b=i;for(var u=w.$formatters,f=u.length,r=t;f--;)r=u[f](r);w.$viewValue!==r&&(w.$viewValue=w.$$lastCommittedViewValue=r,w.$render(),w.$$runValidators(t,r,o))}return t})}],tw=["$rootScope",function(n){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:nw,priority:1,compile:function(t){return t.addClass(ur).addClass("ng-untouched").addClass(gr),{pre:function(n,t,i,r){var u=r[0];t=r[1]||u.$$parentForm;u.$$setOptions(r[2]&&r[2].$options);t.$addControl(u);i.$observe("name",function(n){u.$name!==n&&u.$$parentForm.$$renameControl(u,n)});n.$on("$destroy",function(){u.$$parentForm.$removeControl(u)})},post:function(t,i,r,u){var f=u[0];if(f.$options&&f.$options.updateOn)i.on(f.$options.updateOn,function(n){f.$$debounceViewValueCommit(n&&n.type)});i.on("blur",function(){f.$touched||(n.$$phase?t.$evalAsync(f.$setTouched):t.$apply(f.$setTouched))})}}}}}],iw=/(\s+|^)default(\s+|$)/,rw=function(){return{restrict:"A",controller:["$scope","$attrs",function(n,t){var i=this;this.$options=st(n.$eval(t.ngModelOptions));e(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=w(this.$options.updateOn.replace(iw,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},uw=ci({terminal:!0,priority:1e3}),fw=v("ngOptions"),ew=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ow=["$compile","$parse",function(n,i){function f(n,t,r){function w(n,t,i,r,u){this.selectValue=n;this.viewValue=t;this.label=i;this.group=r;this.disabled=u}function l(n){var t,i;if(!s&&fi(n))t=n;else{t=[];for(i in n)n.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t.push(i)}return t}var u=n.match(ew),o,s,f;if(!u)throw fw("iexp",n,kt(t));o=u[5]||u[7];s=u[6];n=/ as /.test(u[0])&&u[1];f=u[9];t=i(u[2]?u[1]:o);var b=n&&i(n)||t,k=f&&i(f),h=f?function(n,t){return k(r,t)}:function(n){return ei(n)},a=function(n,t){return h(n,c(n,t))},v=i(u[2]||u[1]),d=i(u[3]||""),y=i(u[4]||""),p=i(u[8]),e={},c=s?function(n,t){return e[s]=t,e[o]=n,e}:function(n){return e[o]=n,e};return{trackBy:f,getTrackByValue:a,getWatchables:i(p,function(n){var f=[];n=n||[];for(var o=l(n),s=o.length,e=0;e<s;e++){var t=n===o?e:o[e],i=c(n[t],t),t=h(n[t],i);f.push(t);(u[2]||u[1])&&(t=v(r,i),f.push(t));u[4]&&(i=y(r,i),f.push(i))}return f}),getOptions:function(){for(var k=[],e={},o=p(r)||[],s=l(o),g=s.length,t=0;t<g;t++){var i=o===s?t:s[t],n=c(o[i],i),u=b(r,n),i=h(u,n),nt=v(r,n),tt=d(r,n),n=y(r,n),u=new w(i,u,nt,tt,n);k.push(u);e[i]=u}return{items:k,selectValueMap:e,getOptionFromViewValue:function(n){return e[a(n)]},getViewValueFromOption:function(n){return f?rt.copy(n.viewValue):n.viewValue}}}}}var u=t.createElement("option"),e=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(t,i,o,h){function tt(n,t){n.element=t;t.disabled=n.disabled;n.value!==t.value&&(t.value=n.selectValue);n.label!==t.label&&(t.label=n.label,t.textContent=n.label)}function g(n,t,i,r){return t&&y(t.nodeName)===i?i=t:(i=r.cloneNode(!1),t?n.insertBefore(i,t):n.appendChild(i)),i}function it(n){for(var t;n;)t=n.nextSibling,lf(n),n=t}function ut(n){var t=c&&c[0],i=v&&v[0];if(t||i)for(;n&&(n===t||n===i);)n=n.nextSibling;return n}function rt(){var f=p&&k.readValue(),t,n,r;p=b.getOptions();t={};n=i[0].firstChild;w&&i.prepend(c);n=ut(n);p.items.forEach(function(r){var f,o;r.group?(f=t[r.group],f||(f=g(i[0],n,"optgroup",e),n=f.nextSibling,f.label=r.group,f=t[r.group]={groupElement:f,currentOptionElement:f.firstChild}),o=g(f.groupElement,f.currentOptionElement,"option",u),tt(r,o),f.currentOptionElement=o.nextSibling):(o=g(i[0],n,"option",u),tt(r,o),n=o.nextSibling)});Object.keys(t).forEach(function(n){it(t[n].currentOptionElement)});it(n);l.$render();l.$isEmpty(f)||(r=k.readValue(),(b.trackBy?ot(f,r):f===r)||(l.$setViewValue(r),l.$render()))}var l=h[1],k,w,v,p,b;if(l){k=h[0];h=o.multiple;for(var c,d=0,nt=i.children(),ft=nt.length;d<ft;d++)if(""===nt[d].value){c=nt.eq(d);break}w=!!c;v=s(u.cloneNode(!1));v.val("?");b=f(o.ngOptions,i,t);h?(l.$isEmpty=function(n){return!n||0===n.length},k.writeValue=function(n){p.items.forEach(function(n){n.element.selected=!1});n&&n.forEach(function(n){(n=p.getOptionFromViewValue(n))&&!n.disabled&&(n.element.selected=!0)})},k.readValue=function(){var t=i.val()||[],n=[];return r(t,function(t){(t=p.selectValueMap[t])&&!t.disabled&&n.push(p.getViewValueFromOption(t))}),n},b.trackBy&&t.$watchCollection(function(){if(a(l.$viewValue))return l.$viewValue.map(function(n){return b.getTrackByValue(n)})},function(){l.$render()})):(k.writeValue=function(n){var t=p.getOptionFromViewValue(n);t&&!t.disabled?i[0].value!==t.selectValue&&(v.remove(),w||c.remove(),i[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===n||w?(v.remove(),w||i.prepend(c),i.val(""),c.prop("selected",!0),c.attr("selected",!0)):(w||c.remove(),i.prepend(v),i.val("?"),v.prop("selected",!0),v.attr("selected",!0))},k.readValue=function(){var n=p.selectValueMap[i.val()];return n&&!n.disabled?(w||c.remove(),v.remove(),p.getViewValueFromOption(n)):null},b.trackBy&&t.$watch(function(){return b.getTrackByValue(l.$viewValue)},function(){l.$render()}));w?(c.remove(),n(c)(t),c.removeClass("ng-scope")):c=s(u.cloneNode(!1));rt();t.$watchCollection(b.getWatchables,rt)}}}}],sw=["$locale","$interpolate","$log",function(n,t,i){var u=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(s,h,c){function p(n){h.text(n||"")}var w=c.count,b=c.$attr.when&&h.attr(c.$attr.when),d=c.offset||0,a=s.$eval(b)||{},g={},nt=t.startSymbol(),tt=t.endSymbol(),it=nt+w+"-"+d+tt,v=rt.noop,l;r(c,function(n,t){var i=e.exec(t);i&&(i=(i[1]?"-":"")+y(i[2]),a[i]=h.attr(c.$attr[t]))});r(a,function(n,i){g[i]=t(n.replace(u,it))});s.$watch(w,function(t){var r=parseFloat(t),u=isNaN(r);u||r in a||(r=n.pluralCat(r-d));r===l||u&&k(l)&&isNaN(l)||(v(),u=g[r],f(u)?(null!=t&&i.debug("ngPluralize: no rule defined for '"+r+"' in "+b),v=o,p()):v=s.$watch(u,p),l=r)})}}}],hw=["$parse","$animate",function(n,u){var f=v("ngRepeat"),e=function(n,t,i,r,u,f,e){n[i]=r;u&&(n[u]=f);n.$index=t;n.$first=0===t;n.$last=t===e-1;n.$middle=!(n.$first||n.$last);n.$odd=!(n.$even=0==(t&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(o,h){var y=h.ngRepeat,tt=t.createComment(" end ngRepeat: "+y+" "),c=y.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),p,a,w,b,g,nt,v;if(!c)throw f("iexp",y);var k=c[1],rt=c[2],l=c[3],d=c[4],c=k.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!c)throw f("iidexp",k);if(p=c[3]||c[1],a=c[2],l&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(l)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(l)))throw f("badident",l);return v={$id:ei},d?w=n(d):(g=function(n,t){return ei(t)},nt=function(n){return n}),function(n,t,o,h,c){w&&(b=function(t,i,r){return a&&(v[a]=t),v[p]=i,v.$index=r,w(n,v)});var k=it();n.$watchCollection(rt,function(o){var h,st,ht=t[0],rt,ct=it(),et,ft,ot,w,ut,v,d;if(l&&(n[l]=o),fi(o))ut=o,st=b||g;else for(d in st=b||nt,ut=[],o)gt.call(o,d)&&"$"!==d.charAt(0)&&ut.push(d);for(et=ut.length,d=Array(et),h=0;h<et;h++)if(ft=o===ut?h:ut[h],ot=o[ft],w=st(ft,ot,h),k[w])v=k[w],delete k[w],ct[w]=v,d[h]=v;else{if(ct[w])throw r(d,function(n){n&&n.scope&&(k[n.id]=n)}),f("dupes",y,w,ot);d[h]={id:w,scope:i,clone:i};ct[w]=!0}for(rt in k){if(v=k[rt],w=ru(v.clone),u.leave(w),w[0].parentNode)for(h=0,st=w.length;h<st;h++)w[h].$$NG_REMOVED=!0;v.scope.$destroy()}for(h=0;h<et;h++)if(ft=o===ut?h:ut[h],ot=o[ft],v=d[h],v.scope){rt=ht;do rt=rt.nextSibling;while(rt&&rt.$$NG_REMOVED);v.clone[0]!=rt&&u.move(ru(v.clone),null,s(ht));ht=v.clone[v.clone.length-1];e(v.scope,h,p,ot,a,ft,et)}else c(function(n,t){v.scope=t;var i=tt.cloneNode(!1);n[n.length++]=i;u.enter(n,null,s(ht));ht=i;v.clone=n;ct[v.id]=v;e(v.scope,h,p,ot,a,ft,et)});k=ct})}}}}],cw=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(t,i,r){t.$watch(r.ngShow,function(t){n[t?"removeClass":"addClass"](i,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],lw=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(t,i,r){t.$watch(r.ngHide,function(t){n[t?"addClass":"removeClass"](i,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],aw=ci(function(n,t,i){n.$watch(i.ngStyle,function(n,i){i&&n!==i&&r(i,function(n,i){t.css(i,"")});n&&t.css(n)},!0)}),vw=["$animate",function(n){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(i,u,f,e){var c=[],h=[],o=[],s=[],l=function(n,t){return function(){n.splice(t,1)}};i.$watch(f.ngSwitch||f.on,function(i){for(var a,u=0,f=o.length;u<f;++u)n.cancel(o[u]);for(u=o.length=0,f=s.length;u<f;++u)a=ru(h[u].clone),s[u].$destroy(),(o[u]=n.leave(a)).then(l(o,u));h.length=0;s.length=0;(c=e.cases["!"+i]||e.cases["?"])&&r(c,function(i){i.transclude(function(r,u){s.push(u);var f=i.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");h.push({clone:r});n.enter(r,f.parent(),f)})})})}}}],yw=ci({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(n,t,i,r,u){r.cases["!"+i.ngSwitchWhen]=r.cases["!"+i.ngSwitchWhen]||[];r.cases["!"+i.ngSwitchWhen].push({transclude:u,element:t})}}),pw=ci({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(n,t,i,r,u){r.cases["?"]=r.cases["?"]||[];r.cases["?"].push({transclude:u,element:t})}}),ww=ci({restrict:"EAC",link:function(n,t,i,r,u){if(!u)throw v("ngTransclude")("orphan",kt(t));u(function(n){t.empty();t.append(n)})}}),bw=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(t,i){"text/ng-template"==i.type&&n.put(i.id,t[0].text)}}}],kw={$setViewValue:o,$render:o},dw=["$element","$scope","$attrs",function(n,r){var u=this,f=new di;u.ngModelCtrl=kw;u.unknownOption=s(t.createElement("option"));u.renderUnknownOption=function(t){t="? "+ei(t)+" ?";u.unknownOption.val(t);n.prepend(u.unknownOption);n.val(t)};r.$on("$destroy",function(){u.renderUnknownOption=o});u.removeUnknownOption=function(){u.unknownOption.parent()&&u.unknownOption.remove()};u.readValue=function(){return u.removeUnknownOption(),n.val()};u.writeValue=function(t){u.hasOption(t)?(u.removeUnknownOption(),n.val(t),""===t&&u.emptyOption.prop("selected",!0)):null==t&&u.emptyOption?(u.removeUnknownOption(),n.val("")):u.renderUnknownOption(t)};u.addOption=function(n,t){ki(n,'"option value"');""===n&&(u.emptyOption=t);var i=f.get(n)||0;f.put(n,i+1)};u.removeOption=function(n){var t=f.get(n);t&&(1===t?(f.remove(n),""===n&&(u.emptyOption=i)):f.put(n,t-1))};u.hasOption=function(n){return!!f.get(n)}}],gw=function(){return{restrict:"E",require:["select","?ngModel"],controller:dw,link:function(n,t,i,u){var f=u[1],o,h,s;if(f){o=u[0];o.ngModelCtrl=f;f.$render=function(){o.writeValue(f.$viewValue)};t.on("change",function(){n.$apply(function(){f.$setViewValue(o.readValue())})});i.multiple&&(o.readValue=function(){var n=[];return r(t.find("option"),function(t){t.selected&&n.push(t.value)}),n},o.writeValue=function(n){var i=new di(n);r(t.find("option"),function(n){n.selected=e(i.get(n.value))})},s=NaN,n.$watch(function(){s!==f.$viewValue||ot(h,f.$viewValue)||(h=ht(f.$viewValue),f.$render());s=f.$viewValue}),f.$isEmpty=function(n){return!n||0===n.length})}}}},nb=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(t,i){var u,r;return e(i.value)?u=n(i.value,!0):(r=n(t.text(),!0),r||i.$set("value",t.text())),function(n,t,i){function o(n){f.addOption(n,t);f.ngModelCtrl.$render();t[0].hasAttribute("selected")&&(t[0].selected=!0)}var h=t.parent(),f=h.data("$selectController")||h.parent().data("$selectController"),s;if(f&&f.ngModelCtrl){u?i.$observe("value",function(n){e(s)&&f.removeOption(s);s=n;o(n)}):r?n.$watch(r,function(n,t){i.$set("value",n);t!==n&&f.removeOption(t);o(n)}):o(i.value);t.on("$destroy",function(){f.removeOption(i.value);f.ngModelCtrl.$render()})}}}}}],tb=vt({restrict:"E",terminal:!1}),cc=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){r&&(i.required=!0,r.$validators.required=function(n,t){return!i.required||!r.$isEmpty(t)},i.$observe("required",function(){r.$validate()}))}}},lc=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,r,u){if(u){var e,o=r.ngPattern||r.pattern;r.$observe("pattern",function(n){if(l(n)&&0<n.length&&(n=new RegExp("^"+n+"$")),n&&!n.test)throw v("ngPattern")("noregexp",o,n,kt(t));e=n||i;u.$validate()});u.$validators.pattern=function(n,t){return u.$isEmpty(t)||f(e)||e.test(t)}}}}},ac=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){if(r){var u=-1;i.$observe("maxlength",function(n){n=tt(n);u=isNaN(n)?-1:n;r.$validate()});r.$validators.maxlength=function(n,t){return 0>u||r.$isEmpty(t)||t.length<=u}}}}},vc=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){if(r){var u=0;i.$observe("minlength",function(n){u=tt(n)||0;r.$validate()});r.$validators.minlength=function(n,t){return r.$isEmpty(t)||t.length>=u}}}}};n.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(tl(),rl(rt),rt.module("ngLocale",[],["$provide",function(n){function t(n){n+="";var t=n.indexOf(".");return-1==t?0:n.length-t-1}n.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",pluralCat:function(n,r){var f=n|0,u=r;return i===u&&(u=Math.min(t(n),3)),Math.pow(10,u),1==f&&0==u?"one":"other"}})}]),s(t).ready(function(){dc(t,ge)}))})(window,document);window.angular.$$csp().noInlineStyle||window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}<\/style>'),function(){"use strict";(function(){var n;n=angular.module("ng.ueditor",[]);n.directive("ueditor",[function(){return{restrict:"C",require:"ngModel",scope:{config:"=",ready:"=",focus:"=",blur:"="},link:function(n,t,i,r){var f,u;u=!1;f=function(){function f(){this.bindRender();this.initEditor();return}return f.prototype.initEditor=function(){var o,e,f;if(f=this,typeof UE=="undefined"){console.error("Please import the local resources of ueditor!");return}return o=n.config?n.config:{},e=i.id?i.id:"_editor"+Date.now(),t[0].id=e,this.editor=new UE.getEditor(e,o),this.editor.ready(function(){f.editorReady=!0;f.editor.addListener("contentChange",function(){r.$setViewValue(f.editor.getContent());u||n.$$phase||n.$apply();u=!1});f.modelContent&&f.modelContent.length>0&&f.setEditorContent();typeof n.ready=="function"&&n.ready(f.editor);typeof n.focus=="function"&&f.editor.addListener("focus",function(){n.focus(f.editor);u||n.$$phase||n.$apply();u=!1});typeof n.blur=="function"&&f.editor.addListener("blur",function(){console.log("blured");n.blur(f.editor);u||n.$$phase||n.$apply();u=!1})})},f.prototype.setEditorContent=function(n){n==null&&(n=this.modelContent);this.editor&&this.editorReady&&this.editor.setContent(n)},f.prototype.bindRender=function(){var n;n=this;r.$render=function(){n.modelContent=r.$isEmpty(r.$viewValue)?"":r.$viewValue;u=!0;n.setEditorContent()}},f}();new f}}}])})()}.call(this);!function(n,t){return"function"==typeof define&&define.amd?(define("angular-file-upload",["angular"],function(n){return t(n)}),void 0):t(n)}("undefined"==typeof angular?null:angular,function(n){var t=n.module("angularFileUpload",[]);return t.value("fileUploaderOptions",{url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1}).factory("FileUploader",["fileUploaderOptions","$rootScope","$http","$window","$compile",function(t,i,r,u,f){function e(i){var r=n.copy(t);n.extend(this,r,i,{isUploading:!1,_nextIndex:0,_failFilterIndex:-1,_directives:{select:[],drop:[],over:[]}});this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter});this.filters.unshift({name:"folder",fn:this._folderFilter})}function a(t){var r=n.isElement(t),i=r?t.value:t,u=n.isString(i)?"FakePath":"Object",f="_createFrom"+u;this[f](i)}function o(t,i,r){var f=n.isElement(i),u=f?n.element(i):null,o=f?null:i;n.extend(this,{url:t.url,alias:t.alias,headers:n.copy(t.headers),formData:n.copy(t.formData),removeAfterUpload:t.removeAfterUpload,withCredentials:t.withCredentials,method:t.method},r,{uploader:t,file:new e.FileLikeObject(i),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:o,_input:u});u&&this._replaceNode(u)}function h(t){n.extend(this,t);this.uploader._directives[this.prop].push(this);this._saveLinks();this.bind()}function c(){c.super_.apply(this,arguments);this.uploader.isHTML5||this.element.removeAttr("multiple");this.element.prop("value",null)}function s(){s.super_.apply(this,arguments)}function l(){l.super_.apply(this,arguments)}return e.prototype.isHTML5=!(!u.File||!u.FormData),e.prototype.addToQueue=function(t,i,r){var f=this.isArrayLikeObject(t)?t:[t],o=this._getFilters(r),s=this.queue.length,u=[];n.forEach(f,function(n){var r=new e.FileLikeObject(n),t,f;this._isValidFile(r,o,i)?(t=new e.FileItem(this,n,i),u.push(t),this.queue.push(t),this._onAfterAddingFile(t)):(f=this.filters[this._failFilterIndex],this._onWhenAddingFileFailed(r,f,i))},this);this.queue.length!==s&&(this._onAfterAddingAll(u),this.progress=this._getTotalProgress());this._render();this.autoUpload&&this.uploadAll()},e.prototype.removeFromQueue=function(n){var i=this.getIndexOfItem(n),t=this.queue[i];t.isUploading&&t.cancel();this.queue.splice(i,1);t._destroy();this.progress=this._getTotalProgress()},e.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},e.prototype.uploadItem=function(n){var i=this.getIndexOfItem(n),t=this.queue[i],r=this.isHTML5?"_xhrTransport":"_iframeTransport";t._prepareToUploading();this.isUploading||(this.isUploading=!0,this[r](t))},e.prototype.cancelItem=function(n){var i=this.getIndexOfItem(n),t=this.queue[i],r=this.isHTML5?"_xhr":"_form";t&&t.isUploading&&t[r].abort()},e.prototype.uploadAll=function(){var t=this.getNotUploadedItems().filter(function(n){return!n.isUploading});t.length&&(n.forEach(t,function(n){n._prepareToUploading()}),t[0].upload())},e.prototype.cancelAll=function(){var t=this.getNotUploadedItems();n.forEach(t,function(n){n.cancel()})},e.prototype.isFile=function(n){var t=u.File;return t&&n instanceof t},e.prototype.isFileLikeObject=function(n){return n instanceof e.FileLikeObject},e.prototype.isArrayLikeObject=function(t){return n.isObject(t)&&"length"in t},e.prototype.getIndexOfItem=function(t){return n.isNumber(t)?t:this.queue.indexOf(t)},e.prototype.getNotUploadedItems=function(){return this.queue.filter(function(n){return!n.isUploaded})},e.prototype.getReadyItems=function(){return this.queue.filter(function(n){return n.isReady&&!n.isUploading}).sort(function(n,t){return n.index-t.index})},e.prototype.destroy=function(){n.forEach(this._directives,function(t){n.forEach(this._directives[t],function(n){n.destroy()},this)},this)},e.prototype.onAfterAddingAll=function(){},e.prototype.onAfterAddingFile=function(){},e.prototype.onWhenAddingFileFailed=function(){},e.prototype.onBeforeUploadItem=function(){},e.prototype.onProgressItem=function(){},e.prototype.onProgressAll=function(){},e.prototype.onSuccessItem=function(){},e.prototype.onErrorItem=function(){},e.prototype.onCancelItem=function(){},e.prototype.onCompleteItem=function(){},e.prototype.onCompleteAll=function(){},e.prototype._getTotalProgress=function(n){if(this.removeAfterUpload)return n||0;var t=this.getNotUploadedItems().length,r=t?this.queue.length-t:this.queue.length,i=100/this.queue.length,u=(n||0)*i/100;return Math.round(r*i+u)},e.prototype._getFilters=function(t){if(n.isUndefined(t))return this.filters;if(n.isArray(t))return t;var i=t.match(/[^\s,]+/g);return this.filters.filter(function(n){return-1!==i.indexOf(n.name)},this)},e.prototype._render=function(){i.$$phase||i.$apply()},e.prototype._folderFilter=function(n){return!(!n.size&&!n.type)},e.prototype._queueLimitFilter=function(){return this.queue.length<this.queueLimit},e.prototype._isValidFile=function(n,t,i){return this._failFilterIndex=-1,t.length?t.every(function(t){return this._failFilterIndex++,t.fn.call(this,n,i)},this):!0},e.prototype._isSuccessCode=function(n){return n>=200&&300>n||304===n},e.prototype._transformResponse=function(t,i){var u=this._headersGetter(i);return n.forEach(r.defaults.transformResponse,function(n){t=n(t,u)}),t},e.prototype._parseHeaders=function(t){var i,u,f,r={};return t?(n.forEach(t.split("\n"),function(n){f=n.indexOf(":");i=n.slice(0,f).trim().toLowerCase();u=n.slice(f+1).trim();i&&(r[i]=r[i]?r[i]+", "+u:u)}),r):r},e.prototype._headersGetter=function(n){return function(t){return t?n[t.toLowerCase()]||null:n}},e.prototype._xhrTransport=function(t){var i=t._xhr=new XMLHttpRequest,u=new FormData,r=this;r._onBeforeUploadItem(t);n.forEach(t.formData,function(t){n.forEach(t,function(n,t){u.append(t,n)})});u.append(t.alias,t._file,t.file.name);i.upload.onprogress=function(n){var i=Math.round(n.lengthComputable?100*n.loaded/n.total:0);r._onProgressItem(t,i)};i.onload=function(){var n=r._parseHeaders(i.getAllResponseHeaders()),u=r._transformResponse(i.response,n),f=r._isSuccessCode(i.status)?"Success":"Error",e="_on"+f+"Item";r[e](t,u,i.status,n);r._onCompleteItem(t,u,i.status,n)};i.onerror=function(){var n=r._parseHeaders(i.getAllResponseHeaders()),u=r._transformResponse(i.response,n);r._onErrorItem(t,u,i.status,n);r._onCompleteItem(t,u,i.status,n)};i.onabort=function(){var n=r._parseHeaders(i.getAllResponseHeaders()),u=r._transformResponse(i.response,n);r._onCancelItem(t,u,i.status,n);r._onCompleteItem(t,u,i.status,n)};i.open(t.method,t.url,!0);i.withCredentials=t.withCredentials;n.forEach(t.headers,function(n,t){i.setRequestHeader(t,n)});i.send(u);this._render()},e.prototype._iframeTransport=function(t){var i=n.element('<form style="display: none;" />'),u=n.element('<iframe name="iframeTransport'+Date.now()+'">'),f=t._input,r=this;t._form&&t._form.replaceWith(f);t._form=i;r._onBeforeUploadItem(t);f.prop("name",t.alias);n.forEach(t.formData,function(t){n.forEach(t,function(t,r){var u=n.element('<input type="hidden" name="'+r+'" />');u.val(t);i.append(u)})});i.prop({action:t.url,method:"POST",target:u.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"});u.bind("load",function(){var f;try{f=u[0].contentDocument.body.innerHTML}catch(o){}var n={response:f,status:200,dummy:!0},i={},e=r._transformResponse(n.response,i);r._onSuccessItem(t,e,n.status,i);r._onCompleteItem(t,e,n.status,i)});i.abort=function(){var n,e={status:0,dummy:!0},o={};u.unbind("load").prop("src","javascript:false;");i.replaceWith(f);r._onCancelItem(t,n,e.status,o);r._onCompleteItem(t,n,e.status,o)};f.after(i);i.append(f).append(u);i[0].submit();this._render()},e.prototype._onWhenAddingFileFailed=function(n,t,i){this.onWhenAddingFileFailed(n,t,i)},e.prototype._onAfterAddingFile=function(n){this.onAfterAddingFile(n)},e.prototype._onAfterAddingAll=function(n){this.onAfterAddingAll(n)},e.prototype._onBeforeUploadItem=function(n){n._onBeforeUpload();this.onBeforeUploadItem(n)},e.prototype._onProgressItem=function(n,t){var i=this._getTotalProgress(t);this.progress=i;n._onProgress(t);this.onProgressItem(n,t);this.onProgressAll(i);this._render()},e.prototype._onSuccessItem=function(n,t,i,r){n._onSuccess(t,i,r);this.onSuccessItem(n,t,i,r)},e.prototype._onErrorItem=function(n,t,i,r){n._onError(t,i,r);this.onErrorItem(n,t,i,r)},e.prototype._onCancelItem=function(n,t,i,r){n._onCancel(t,i,r);this.onCancelItem(n,t,i,r)},e.prototype._onCompleteItem=function(t,i,r,u){t._onComplete(i,r,u);this.onCompleteItem(t,i,r,u);var f=this.getReadyItems()[0];return this.isUploading=!1,n.isDefined(f)?(f.upload(),void 0):(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render(),void 0)},e.isFile=e.prototype.isFile,e.isFileLikeObject=e.prototype.isFileLikeObject,e.isArrayLikeObject=e.prototype.isArrayLikeObject,e.isHTML5=e.prototype.isHTML5,e.inherit=function(n,t){n.prototype=Object.create(t.prototype);n.prototype.constructor=n;n.super_=t},e.FileLikeObject=a,e.FileItem=o,e.FileDirective=h,e.FileSelect=c,e.FileDrop=s,e.FileOver=l,a.prototype._createFromFakePath=function(n){this.lastModifiedDate=null;this.size=null;this.type="like/"+n.slice(n.lastIndexOf(".")+1).toLowerCase();this.name=n.slice(n.lastIndexOf("/")+n.lastIndexOf("\\")+2)},a.prototype._createFromObject=function(t){this.lastModifiedDate=n.copy(t.lastModifiedDate);this.size=t.size;this.type=t.type;this.name=t.name},o.prototype.upload=function(){this.uploader.uploadItem(this)},o.prototype.cancel=function(){this.uploader.cancelItem(this)},o.prototype.remove=function(){this.uploader.removeFromQueue(this)},o.prototype.onBeforeUpload=function(){},o.prototype.onProgress=function(){},o.prototype.onSuccess=function(){},o.prototype.onError=function(){},o.prototype.onCancel=function(){},o.prototype.onComplete=function(){},o.prototype._onBeforeUpload=function(){this.isReady=!0;this.isUploading=!0;this.isUploaded=!1;this.isSuccess=!1;this.isCancel=!1;this.isError=!1;this.progress=0;this.onBeforeUpload()},o.prototype._onProgress=function(n){this.progress=n;this.onProgress(n)},o.prototype._onSuccess=function(n,t,i){this.isReady=!1;this.isUploading=!1;this.isUploaded=!0;this.isSuccess=!0;this.isCancel=!1;this.isError=!1;this.progress=100;this.index=null;this.onSuccess(n,t,i)},o.prototype._onError=function(n,t,i){this.isReady=!1;this.isUploading=!1;this.isUploaded=!0;this.isSuccess=!1;this.isCancel=!1;this.isError=!0;this.progress=0;this.index=null;this.onError(n,t,i)},o.prototype._onCancel=function(n,t,i){this.isReady=!1;this.isUploading=!1;this.isUploaded=!1;this.isSuccess=!1;this.isCancel=!0;this.isError=!1;this.progress=0;this.index=null;this.onCancel(n,t,i)},o.prototype._onComplete=function(n,t,i){this.onComplete(n,t,i);this.removeAfterUpload&&this.remove()},o.prototype._destroy=function(){this._input&&this._input.remove();this._form&&this._form.remove();delete this._form;delete this._input},o.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex;this.isReady=!0},o.prototype._replaceNode=function(n){var t=f(n.clone())(n.scope());t.prop("value",null);n.css("display","none");n.after(t)},h.prototype.events={},h.prototype.bind=function(){var n,t;for(n in this.events)t=this.events[n],this.element.bind(n,this[t])},h.prototype.unbind=function(){for(var n in this.events)this.element.unbind(n,this.events[n])},h.prototype.destroy=function(){var n=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(n,1);this.unbind()},h.prototype._saveLinks=function(){var t,n;for(t in this.events)n=this.events[t],this[n]=this[n].bind(this)},e.inherit(c,h),c.prototype.events={$destroy:"destroy",change:"onChange"},c.prototype.prop="select",c.prototype.getOptions=function(){},c.prototype.getFilters=function(){},c.prototype.isEmptyAfterSelection=function(){return!!this.element.attr("multiple")},c.prototype.onChange=function(){var n=this.uploader.isHTML5?this.element[0].files:this.element[0],t=this.getOptions(),i=this.getFilters();this.uploader.isHTML5||this.destroy();this.uploader.addToQueue(n,t,i);this.isEmptyAfterSelection()&&this.element.prop("value",null)},e.inherit(s,h),s.prototype.events={$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},s.prototype.prop="drop",s.prototype.getOptions=function(){},s.prototype.getFilters=function(){},s.prototype.onDrop=function(t){var i=this._getTransfer(t),r,u;i&&(r=this.getOptions(),u=this.getFilters(),this._preventAndStop(t),n.forEach(this.uploader._directives.over,this._removeOverClass,this),this.uploader.addToQueue(i.files,r,u))},s.prototype.onDragOver=function(t){var i=this._getTransfer(t);this._haveFiles(i.types)&&(i.dropEffect="copy",this._preventAndStop(t),n.forEach(this.uploader._directives.over,this._addOverClass,this))},s.prototype.onDragLeave=function(t){t.currentTarget===this.element[0]&&(this._preventAndStop(t),n.forEach(this.uploader._directives.over,this._removeOverClass,this))},s.prototype._getTransfer=function(n){return n.dataTransfer?n.dataTransfer:n.originalEvent.dataTransfer},s.prototype._preventAndStop=function(n){n.preventDefault();n.stopPropagation()},s.prototype._haveFiles=function(n){return n?n.indexOf?-1!==n.indexOf("Files"):n.contains?n.contains("Files"):!1:!1},s.prototype._addOverClass=function(n){n.addOverClass()},s.prototype._removeOverClass=function(n){n.removeOverClass()},e.inherit(l,h),l.prototype.events={$destroy:"destroy"},l.prototype.prop="over",l.prototype.overClass="nv-file-over",l.prototype.addOverClass=function(){this.element.addClass(this.getOverClass())},l.prototype.removeOverClass=function(){this.element.removeClass(this.getOverClass())},l.prototype.getOverClass=function(){return this.overClass},e}]).directive("nvFileSelect",["$parse","FileUploader",function(n,t){return{link:function(i,r,u){var e=i.$eval(u.uploader),f;if(!(e instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');f=new t.FileSelect({uploader:e,element:r});f.getOptions=n(u.options).bind(f,i);f.getFilters=function(){return u.filters}}}}]).directive("nvFileDrop",["$parse","FileUploader",function(n,t){return{link:function(i,r,u){var e=i.$eval(u.uploader),f;if(!(e instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');e.isHTML5&&(f=new t.FileDrop({uploader:e,element:r}),f.getOptions=n(u.options).bind(f,i),f.getFilters=function(){return u.filters})}}}]).directive("nvFileOver",["FileUploader",function(n){return{link:function(t,i,r){var u=t.$eval(r.uploader),f;if(!(u instanceof n))throw new TypeError('"Uploader" must be an instance of FileUploader');f=new n.FileOver({uploader:u,element:i});f.getOverClass=function(){return r.overClass||this.overClass}}}}]),t}),function(n,t,i){"use strict";function k(n){var i=[];return o(i,t.noop).chars(n),i.join("")}function r(n){var i={},t;for(n=n.split(","),t=0;t<n.length;t++)i[n[t]]=!0;return i}function d(n,i){function b(n,r,e,s){if(r=t.lowercase(r),v[r])for(;u.last()&&y[u.last()];)o("",u.last());a[r]&&u.last()==r&&o("",r);(s=l[r]||!!s)||u.push(r);var h={};e.replace(nt,function(n,t,i,r,u){h[t]=f(i||r||u||"")});i.start&&i.start(r,h,s)}function o(n,r){var f=0,e;if(r=t.lowercase(r))for(f=u.length-1;0<=f&&u[f]!=r;f--);if(0<=f){for(e=u.length-1;e>=f;e--)i.end&&i.end(u[e]);u.length=f}}var r,e,u=[],w=n;for(u.last=function(){return u[u.length-1]};n;){if(e=!0,u.last()&&p[u.last()]?(n=n.replace(RegExp("(.*)<\\s*\\/\\s*"+u.last()+"[^>]*>","i"),function(n,t){return t=t.replace(rt,"$1").replace(ut,"$1"),i.chars&&i.chars(f(t)),""}),o("",u.last())):(0===n.indexOf("<!--")?(r=n.indexOf("--",4),0<=r&&n.lastIndexOf("-->",r)===r&&(i.comment&&i.comment(n.substring(4,r)),n=n.substring(r+3),e=!1)):c.test(n)?(r=n.match(c))&&(n=n.replace(r[0],""),e=!1):it.test(n)?(r=n.match(h))&&(n=n.substring(r[0].length),r[0].replace(h,o),e=!1):tt.test(n)&&(r=n.match(s))&&(n=n.substring(r[0].length),r[0].replace(s,b),e=!1),e&&(r=n.indexOf("<"),e=0>r?n:n.substring(0,r),n=0>r?"":n.substring(r),i.chars&&i.chars(f(e)))),n==w)throw g("badparse",n);w=n}o()}function f(n){var t,i;return n?(t=st.exec(n),n=t[1],i=t[3],(t=t[2])&&(u.innerHTML=t.replace(/</g,"&lt;"),t="textContent"in u?u.textContent:u.innerText),n+t+i):""}function e(n){return n.replace(/&/g,"&amp;").replace(ft,function(n){var t=n.charCodeAt(0);return n=n.charCodeAt(1),"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(et,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(n,i){var u=!1,r=t.bind(n,n.push);return{start:function(n,f,o){n=t.lowercase(n);!u&&p[n]&&(u=n);u||!0!==w[n]||(r("<"),r(n),t.forEach(f,function(u,f){var o=t.lowercase(f),s="img"===n&&"src"===o||"background"===o;!0===ot[o]&&(!0!==b[o]||i(u,s))&&(r(" "),r(f),r('="'),r(e(u)),r('"'))}),r(o?"/>":">"))},end:function(n){n=t.lowercase(n);u||!0!==w[n]||(r("<\/"),r(n),r(">"));n==u&&(u=!1)},chars:function(n){u||r(e(n))}}}var g=t.$$minErr("$sanitize"),s=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,h=/^<\s*\/\s*([\w:-]+)[^>]*>/,nt=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,tt=/^</,it=/^<\s*\//,rt=/\x3c!--(.*?)--\x3e/g,c=/<!DOCTYPE([^>]*?)>/i,ut=/<!\[CDATA\[(.*?)]]\x3e/g,ft=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,et=/([^\#-~| |!])/g,l=r("area,br,col,hr,img,wbr");n=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr");i=r("rp,rt");var a=t.extend({},i,n),v=t.extend({},n,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),y=t.extend({},i,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),p=r("script,style"),w=t.extend({},l,v,y,a),b=r("background,cite,href,longdesc,src,usemap"),ot=t.extend({},b,r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),u=document.createElement("pre"),st=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(n){return function(t){var i=[];return d(t,o(i,function(t,i){return!/^unsafe/.test(n(t,i))})),i.join("")}}]});t.module("ngSanitize").filter("linky",["$sanitize",function(n){var i=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,r=/^mailto:/;return function(u,f){function c(n){n&&e.push(k(n))}function a(n,i){e.push("<a ");t.isDefined(f)&&(e.push('target="'),e.push(f),e.push('" '));e.push('href="');e.push(n);e.push('">');c(i);e.push("<\/a>")}if(!u)return u;for(var o,s=u,e=[],h,l;o=s.match(i);)h=o[0],o[2]==o[3]&&(h="mailto:"+h),l=o.index,c(s.substr(0,l)),a(h,o[0].replace(r,"")),s=s.substring(l+o[0].length);return c(s),n(e.join(""))}}])}(window,window.angular);
/*! jQuery UI - v1.10.4 - 2014-01-17
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(n,t){function i(t,i){var u,f,e,o=t.nodeName.toLowerCase();return"area"===o?(u=t.parentNode,f=u.name,t.href&&f&&"map"===u.nodeName.toLowerCase()?(e=n("img[usemap=#"+f+"]")[0],!!e&&r(e)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&r(t)}function r(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return"hidden"===n.css(this,"visibility")}).length}var u=0,f=/^ui-id-\d+$/;n.ui=n.ui||{};n.extend(n.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});n.fn.extend({focus:function(t){return function(i,r){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){n(t).focus();r&&r.call(t)},i)}):t.apply(this,arguments)}}(n.fn.focus),scrollParent:function(){var t;return t=n.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(n.css(this,"position"))&&/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?n(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var u,f,r=n(this[0]);r.length&&r[0]!==document;){if(u=r.css("position"),("absolute"===u||"relative"===u||"fixed"===u)&&(f=parseInt(r.css("zIndex"),10),!isNaN(f)&&0!==f))return f;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++u)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&n(this).removeAttr("id")})}});n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return i(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var r=n.attr(t,"tabindex"),u=isNaN(r);return(u||r>=0)&&i(t,!u)}});n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(i,r){function u(t,i,r,u){return n.each(o,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var o="Width"===r?["Left","Right"]:["Top","Bottom"],f=r.toLowerCase(),e={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+r]=function(i){return i===t?e["inner"+r].call(this):this.each(function(){n(this).css(f,u(this,i)+"px")})};n.fn["outer"+r]=function(t,i){return"number"!=typeof t?e["outer"+r].call(this,t):this.each(function(){n(this).css(f,u(this,t,!0,i)+"px")})}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData));n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());n.support.selectstart="onselectstart"in document.createElement("div");n.fn.extend({disableSelection:function(){return this.bind((n.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(n){n.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});n.extend(n.ui,{plugin:{add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i){var r,u=n.plugins[t];if(u&&n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType)for(r=0;u.length>r;r++)n.options[u[r][0]]&&u[r][1].apply(n.element,i)}},hasScroll:function(t,i){if("hidden"===n(t).css("overflow"))return!1;var r=i&&"left"===i?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)}})})(jQuery),function(n,t){var r=0,i=Array.prototype.slice,u=n.cleanData;n.cleanData=function(t){for(var i,r=0;null!=(i=t[r]);r++)try{n(i).triggerHandler("remove")}catch(f){}u(t)};n.widget=function(i,r,u){var h,e,f,s,c={},o=i.split(".")[0];i=i.split(".")[1];h=o+"-"+i;u||(u=r,r=n.Widget);n.expr[":"][h.toLowerCase()]=function(t){return!!n.data(t,h)};n[o]=n[o]||{};e=n[o][i];f=n[o][i]=function(n,i){return this._createWidget?(arguments.length&&this._createWidget(n,i),t):new f(n,i)};n.extend(f,e,{version:u.version,_proto:n.extend({},u),_childConstructors:[]});s=new r;s.options=n.widget.extend({},s.options);n.each(u,function(i,u){return n.isFunction(u)?(c[i]=function(){var n=function(){return r.prototype[i].apply(this,arguments)},t=function(n){return r.prototype[i].apply(this,n)};return function(){var i,r=this._super,f=this._superApply;return this._super=n,this._superApply=t,i=u.apply(this,arguments),this._super=r,this._superApply=f,i}}(),t):(c[i]=u,t)});f.prototype=n.widget.extend(s,{widgetEventPrefix:e?s.widgetEventPrefix||i:i},c,{constructor:f,namespace:o,widgetName:i,widgetFullName:h});e?(n.each(e._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,f,i._proto)}),delete e._childConstructors):r._childConstructors.push(f);n.widget.bridge(i,f)};n.widget.extend=function(r){for(var u,f,o=i.call(arguments,1),e=0,s=o.length;s>e;e++)for(u in o[e])f=o[e][u],o[e].hasOwnProperty(u)&&f!==t&&(r[u]=n.isPlainObject(f)?n.isPlainObject(r[u])?n.widget.extend({},r[u],f):n.widget.extend({},f):f);return r};n.widget.bridge=function(r,u){var f=u.prototype.widgetFullName||r;n.fn[r]=function(e){var h="string"==typeof e,o=i.call(arguments,1),s=this;return e=!h&&o.length?n.widget.extend.apply(null,[e].concat(o)):e,h?this.each(function(){var i,u=n.data(this,f);return u?n.isFunction(u[e])&&"_"!==e.charAt(0)?(i=u[e].apply(u,o),i!==u&&i!==t?(s=i&&i.jquery?s.pushStack(i.get()):i,!1):t):n.error("no such method '"+e+"' for "+r+" widget instance"):n.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+e+"'")}):this.each(function(){var t=n.data(this,f);t?t.option(e||{})._init():n.data(this,f,new u(e,this))}),s}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=r++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this.bindings=n();this.hoverable=n();this.focusable=n();i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(i,r){var u,f,e,o=i;if(0===arguments.length)return n.widget.extend({},this.options);if("string"==typeof i)if(o={},u=i.split("."),i=u.shift(),u.length){for(f=o[i]=n.widget.extend({},this.options[i]),e=0;u.length-1>e;e++)f[u[e]]=f[u[e]]||{},f=f[u[e]];if(i=u.pop(),1===arguments.length)return f[i]===t?null:f[i];f[i]=r}else{if(1===arguments.length)return this.options[i]===t?null:this.options[i];o[i]=r}return this._setOptions(o),this},_setOptions:function(n){for(var t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,"disabled"===n&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,r,u){var e,f=this;"boolean"!=typeof i&&(u=r,r=i,i=!1);u?(r=e=n(r),this.bindings=this.bindings.add(r)):(u=r,r=this.element,e=this.widget());n.each(u,function(u,o){function s(){return i||f.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled")?("string"==typeof o?f[o]:o).apply(f,arguments):t}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||n.guid++);var h=u.match(/^(\w+)\s*(.*)$/),c=h[1]+f.eventNamespace,l=h[2];l?e.delegate(l,c,s):r.bind(c,s)})},_off:function(n,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;n.unbind(t).undelegate(t)},_delay:function(n,t){function r(){return("string"==typeof n?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){"string"==typeof u&&(u={effect:u});var o,e=u?u===!0||"number"==typeof u?i:u.effect||i:t;u=u||{};"number"==typeof u&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}})}(jQuery),function(n){var t=!1;n(document).mouseup(function(){t=!1});n.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).bind("click."+this.widgetName,function(i){return!0===n.data(i.target,t.widgetName+".preventClickEvent")?(n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i);this._mouseDownEvent=i;var r=this,u=1===i.which,f="string"==typeof this.options.cancel&&i.target.nodeName?n(i.target).closest(this.options.cancel).length:!1;return u&&!f&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===n.data(i.target,this.widgetName+".preventClickEvent")&&n.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return r._mouseMove(n)},this._mouseUpDelegate=function(n){return r._mouseUp(n)},n(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return n.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(n){n.widget("ui.draggable",n.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||n(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(n(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){n("<div class='ui-draggable-iframeFix' style='background: #fff;'><\/div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(n(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var r=this,i=!1;return n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"original"!==this.options.helper||n.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return n("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!n(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t])):"clone"===r.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===r.appendTo?this.element[0].parentNode:r.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var n=this.element.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var u,t,i,r=this.options;return r.containment?"window"===r.containment?(this.containment=[n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,n(window).scrollLeft()+n(window).width()-this.helperProportions.width-this.margins.left,n(window).scrollTop()+(n(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===r.containment?(this.containment=[0,0,n(document).width()-this.helperProportions.width-this.margins.left,(n(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):r.containment.constructor===Array?(this.containment=r.containment,undefined):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),t=n(r.containment),i=t[0],i&&(u="hidden"!==t.css("overflow"),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(u?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(u?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=t),undefined):(this.containment=null,undefined)},_convertPositionTo:function(t,i){i||(i=this.position);var r="absolute"===t?1:-1,u="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:u.scrollTop(),left:u.scrollLeft()}),{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*r}},_generatePosition:function(t){var i,e,u,f,r=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=t.pageX,s=t.pageY;return this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(e=this.relative_container.offset(),i=[this.containment[0]+e.left,this.containment[1]+e.top,this.containment[2]+e.left,this.containment[3]+e.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(o=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(s=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(o=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(s=i[3]+this.offset.click.top)),r.grid&&(u=r.grid[1]?this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,s=i?u-this.offset.click.top>=i[1]||u-this.offset.click.top>i[3]?u:u-this.offset.click.top>=i[1]?u-r.grid[1]:u+r.grid[1]:u,f=r.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,o=i?f-this.offset.click.left>=i[0]||f-this.offset.click.left>i[2]?f:f-this.offset.click.left>=i[0]?f-r.grid[0]:f+r.grid[0]:f)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var r=n(this).data("ui-draggable"),u=r.options,f=n.extend({},i,{item:r.element});r.sortables=[];n(u.connectToSortable).each(function(){var i=n.data(this,"ui-sortable");i&&!i.options.disabled&&(r.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,f))})},stop:function(t,i){var r=n(this).data("ui-draggable"),u=n.extend({},i,{item:r.element});n.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===r.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,u))})},drag:function(t,i){var r=n(this).data("ui-draggable"),u=this;n.each(r.sortables,function(){var f=!1,e=this;this.instance.positionAbs=r.positionAbs;this.instance.helperProportions=r.helperProportions;this.instance.offset.click=r.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,n.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!==e&&this.instance._intersectsWith(this.instance.containerCache)&&n.contains(e.instance.element[0],this.instance.element[0])&&(f=!1),f}));f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=n(u).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}});n.ui.plugin.add("draggable","cursor",{start:function(){var t=n("body"),i=n(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor"));t.css("cursor",i.cursor)},stop:function(){var t=n(this).data("ui-draggable").options;t._cursor&&n("body").css("cursor",t._cursor)}});n.ui.plugin.add("draggable","opacity",{start:function(t,i){var r=n(i.helper),u=n(this).data("ui-draggable").options;r.css("opacity")&&(u._opacity=r.css("opacity"));r.css("opacity",u.opacity)},stop:function(t,i){var r=n(this).data("ui-draggable").options;r._opacity&&n(i.helper).css("opacity",r._opacity)}});n.ui.plugin.add("draggable","scroll",{start:function(){var t=n(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var r=n(this).data("ui-draggable"),i=r.options,u=!1;r.scrollParent[0]!==document&&"HTML"!==r.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-n(document).scrollTop()<i.scrollSensitivity?u=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(u=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-n(document).scrollLeft()<i.scrollSensitivity?u=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(u=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))));u!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}});n.ui.plugin.add("draggable","snap",{start:function(){var t=n(this).data("ui-draggable"),i=t.options;t.snapElements=[];n(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=n(this),r=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:r.top,left:r.left})})},drag:function(t,i){for(var e,o,s,h,c,a,l,v,w,r=n(this).data("ui-draggable"),b=r.options,f=b.snapTolerance,y=i.offset.left,k=y+r.helperProportions.width,p=i.offset.top,d=p+r.helperProportions.height,u=r.snapElements.length-1;u>=0;u--)c=r.snapElements[u].left,a=c+r.snapElements[u].width,l=r.snapElements[u].top,v=l+r.snapElements[u].height,c-f>k||y>a+f||l-f>d||p>v+f||!n.contains(r.snapElements[u].item.ownerDocument,r.snapElements[u].item)?(r.snapElements[u].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=!1):("inner"!==b.snapMode&&(e=f>=Math.abs(l-d),o=f>=Math.abs(v-p),s=f>=Math.abs(c-k),h=f>=Math.abs(a-y),e&&(i.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top-r.margins.top),o&&(i.position.top=r._convertPositionTo("relative",{top:v,left:0}).top-r.margins.top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left-r.margins.left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a}).left-r.margins.left)),w=e||o||s||h,"outer"!==b.snapMode&&(e=f>=Math.abs(l-p),o=f>=Math.abs(v-d),s=f>=Math.abs(c-y),h=f>=Math.abs(a-k),e&&(i.position.top=r._convertPositionTo("relative",{top:l,left:0}).top-r.margins.top),o&&(i.position.top=r._convertPositionTo("relative",{top:v-r.helperProportions.height,left:0}).top-r.margins.top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c}).left-r.margins.left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left-r.margins.left)),!r.snapElements[u].snapping&&(e||o||s||h||w)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=e||o||s||h||w)}});n.ui.plugin.add("draggable","stack",{start:function(){var i,r=this.data("ui-draggable").options,t=n.makeArray(n(r.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)});t.length&&(i=parseInt(n(t[0]).css("zIndex"),10)||0,n(t).each(function(t){n(this).css("zIndex",i+t)}),this.css("zIndex",i+t.length))}});n.ui.plugin.add("draggable","zIndex",{start:function(t,i){var r=n(i.helper),u=n(this).data("ui-draggable").options;r.css("zIndex")&&(u._zIndex=r.css("zIndex"));r.css("zIndex",u.zIndex)},stop:function(t,i){var r=n(this).data("ui-draggable").options;r._zIndex&&n(i.helper).css("zIndex",r._zIndex)}})}(jQuery),function(n){function t(n,t,i){return n>t&&t+i>n}n.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var i,t=this.options,r=t.accept;this.isover=!1;this.isout=!0;this.accept=n.isFunction(r)?r:function(n){return n.is(r)};this.proportions=function(){return arguments.length?(i=arguments[0],undefined):i?i:i={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};n.ui.ddmanager.droppables[t.scope]=n.ui.ddmanager.droppables[t.scope]||[];n.ui.ddmanager.droppables[t.scope].push(this);t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=n.ui.ddmanager.droppables[this.options.scope];i.length>t;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"===t&&(this.accept=n.isFunction(i)?i:function(n){return n.is(i)});n.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u=!1;return r&&(r.currentItem||r.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=n.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&n.ui.intersect(r,n.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(u=!0,!1):undefined}),u?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1):!1},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}}});n.ui.intersect=function(n,i,r){if(!i.offset)return!1;var a,v,e=(n.positionAbs||n.position.absolute).left,o=(n.positionAbs||n.position.absolute).top,s=e+n.helperProportions.width,h=o+n.helperProportions.height,u=i.offset.left,f=i.offset.top,c=u+i.proportions().width,l=f+i.proportions().height;switch(r){case"fit":return e>=u&&c>=s&&o>=f&&l>=h;case"intersect":return e+n.helperProportions.width/2>u&&c>s-n.helperProportions.width/2&&o+n.helperProportions.height/2>f&&l>h-n.helperProportions.height/2;case"pointer":return a=(n.positionAbs||n.position.absolute).left+(n.clickOffset||n.offset.click).left,v=(n.positionAbs||n.position.absolute).top+(n.clickOffset||n.offset.click).top,t(v,f,i.proportions().height)&&t(a,u,i.proportions().width);case"touch":return(o>=f&&l>=o||h>=f&&l>=h||f>o&&h>l)&&(e>=u&&c>=e||s>=u&&c>=s||u>e&&s>c);default:return!1}};n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var r,f,u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();n:for(r=0;u.length>r;r++)if(!(u[r].options.disabled||t&&!u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;e.length>f;f++)if(e[f]===u[r].element[0]){u[r].proportions().height=0;continue n}u[r].visible="none"!==u[r].element.css("display");u[r].visible&&("mousedown"===o&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions({width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight}))}},drop:function(t,i){var r=!1;return n.each((n.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i);n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,e,f,o=n.ui.intersect(t,this,this.options.tolerance),u=!o&&this.isover?"isout":o&&!this.isover?"isover":null;u&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return n.data(this,"ui-droppable").options.scope===e}),f.length&&(r=n.data(f[0],"ui-droppable"),r.greedyChild="isover"===u)),r&&"isover"===u&&(r.isover=!1,r.isout=!0,r._out.call(r,i)),this[u]=!0,this["isout"===u?"isover":"isout"]=!1,this["isover"===u?"_over":"_out"].call(this,i),r&&"isout"===u&&(r.isout=!1,r.isover=!0,r._over.call(r,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable");t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),function(n){function i(n){return parseInt(n,10)||0}function t(n){return!isNaN(parseInt(n,10))}n.widget("ui.resizable",n.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,f,r,i,o,u=this,t=this.options;if(this.element.addClass("ui-resizable"),n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},f=0;e.length>f;f++)r=n.trim(e[f]),o="ui-resizable-"+r,i=n("<div class='ui-resizable-handle "+o+"'><\/div>"),i.css({zIndex:t.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var i,r,u,f;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=n(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=n(this.handles[i],this.element),f=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),u=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(u,f),this._proportionallyResize()),n(this.handles[i]).length};this._renderAxis(this.element);this._handles=n(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){u.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),u.axis=i&&i[1]?i[1]:"se")});t.autoHide&&(this._handles.hide(),n(this.element).addClass("ui-resizable-autohide").mouseenter(function(){t.disabled||(n(this).removeClass("ui-resizable-autohide"),u._handles.show())}).mouseleave(function(){t.disabled||u.resizing||(n(this).addClass("ui-resizable-autohide"),u._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var r,i,u=!1;for(r in this.handles)i=n(this.handles[r])[0],(i===t.target||n.contains(i,t.target))&&(u=!0);return!this.options.disabled&&u},_mouseStart:function(t){var f,e,o,u=this.options,s=this.element.position(),r=this.element;return this.resizing=!0,/absolute/.test(r.css("position"))?r.css({position:"absolute",top:r.css("top"),left:r.css("left")}):r.is(".ui-draggable")&&r.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),f=i(this.helper.css("left")),e=i(this.helper.css("top")),u.containment&&(f+=n(u.containment).scrollLeft()||0,e+=n(u.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:e},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalPosition={left:f,top:e},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof u.aspectRatio?u.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor","auto"===o?this.axis+"-resize":o),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,e=this.helper,r={},u=this.originalMousePosition,o=this.axis,s=this.position.top,h=this.position.left,c=this.size.width,l=this.size.height,a=t.pageX-u.left||0,v=t.pageY-u.top||0,f=this._change[o];return f?(i=f.apply(this,[t,a,v]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==s&&(r.top=this.position.top+"px"),this.position.left!==h&&(r.left=this.position.left+"px"),this.size.width!==c&&(r.width=this.size.width+"px"),this.size.height!==l&&(r.height=this.size.height+"px"),e.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),n.isEmptyObject(r)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var r,u,f,e,o,s,h,c=this.options,i=this;return this._helper&&(r=this._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),f=u&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,e=u?0:i.sizeDiff.width,o={width:i.helper.width()-e,height:i.helper.height()-f},s=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null,c.animate||this.element.css(n.extend(o,{top:h,left:s})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!c.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(n){var u,f,e,o,i,r=this.options;i={minWidth:t(r.minWidth)?r.minWidth:0,maxWidth:t(r.maxWidth)?r.maxWidth:1/0,minHeight:t(r.minHeight)?r.minHeight:0,maxHeight:t(r.maxHeight)?r.maxHeight:1/0};(this._aspectRatio||n)&&(u=i.minHeight*this.aspectRatio,e=i.minWidth/this.aspectRatio,f=i.maxHeight*this.aspectRatio,o=i.maxWidth/this.aspectRatio,u>i.minWidth&&(i.minWidth=u),e>i.minHeight&&(i.minHeight=e),i.maxWidth>f&&(i.maxWidth=f),i.maxHeight>o&&(i.maxHeight=o));this._vBoundaries=i},_updateCache:function(n){this.offset=this.helper.offset();t(n.left)&&(this.position.left=n.left);t(n.top)&&(this.position.top=n.top);t(n.height)&&(this.size.height=n.height);t(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var i=this.position,r=this.size,u=this.axis;return t(n.height)?n.width=n.height*this.aspectRatio:t(n.width)&&(n.height=n.width/this.aspectRatio),"sw"===u&&(n.left=i.left+(r.width-n.width),n.top=null),"nw"===u&&(n.top=i.top+(r.height-n.height),n.left=i.left+(r.width-n.width)),n},_respectSize:function(n){var i=this._vBoundaries,r=this.axis,u=t(n.width)&&i.maxWidth&&i.maxWidth<n.width,f=t(n.height)&&i.maxHeight&&i.maxHeight<n.height,e=t(n.width)&&i.minWidth&&i.minWidth>n.width,o=t(n.height)&&i.minHeight&&i.minHeight>n.height,s=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,c=/sw|nw|w/.test(r),l=/nw|ne|n/.test(r);return e&&(n.width=i.minWidth),o&&(n.height=i.minHeight),u&&(n.width=i.maxWidth),f&&(n.height=i.maxHeight),e&&c&&(n.left=s-i.minWidth),u&&c&&(n.left=s-i.maxWidth),o&&l&&(n.top=h-i.minHeight),f&&l&&(n.top=h-i.maxHeight),n.width||n.height||n.left||!n.top?n.width||n.height||n.top||!n.left||(n.left=null):n.top=null,n},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,r,u,n,f=this.helper||this.element,i=0;this._proportionallyResizeElements.length>i;i++){if(n=this._proportionallyResizeElements[i],!this.borderDif)for(this.borderDif=[],r=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],u=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],t=0;r.length>t;t++)this.borderDif[t]=(parseInt(r[t],10)||0)+(parseInt(u[t],10)||0);n.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset();this._helper?(this.helper=this.helper||n("<div style='overflow:hidden;'><\/div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){var i=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:i.width-t}},n:function(n,t,i){var r=this.originalSize,u=this.originalPosition;return{top:u.top+i,height:r.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]);"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).data("ui-resizable"),u=i.options,r=i._proportionallyResizeElements,f=r.length&&/textarea/i.test(r[0].nodeName),s=f&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,h=f?0:i.sizeDiff.width,c={width:i.size.width-h,height:i.size.height-s},e=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,o=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(c,o&&e?{top:o,left:e}:{}),{duration:u.animateDuration,easing:u.animateEasing,step:function(){var u={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&n(r[0]).css({width:u.width,height:u.height});i._updateCache(u);i._propagate("resize",t)}})}});n.ui.plugin.add("resizable","containment",{start:function(){var u,e,o,s,h,c,l,t=n(this).data("ui-resizable"),a=t.options,v=t.element,f=a.containment,r=f instanceof n?f.get(0):/parent/.test(f)?v.parent().get(0):f;r&&(t.containerElement=n(r),/document/.test(f)||f===document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(u=n(r),e=[],n(["Top","Right","Left","Bottom"]).each(function(n,t){e[n]=i(u.css("padding"+t))}),t.containerOffset=u.offset(),t.containerPosition=u.position(),t.containerSize={height:u.innerHeight()-e[3],width:u.innerWidth()-e[1]},o=t.containerOffset,s=t.containerSize.height,h=t.containerSize.width,c=n.ui.hasScroll(r,"left")?r.scrollWidth:h,l=n.ui.hasScroll(r)?r.scrollHeight:s,t.parentData={element:r,left:o.left,top:o.top,width:c,height:l}))},resize:function(t){var f,o,s,h,i=n(this).data("ui-resizable"),a=i.options,r=i.containerOffset,c=i.position,e=i._aspectRatio||t.shiftKey,u={top:0,left:0},l=i.containerElement;l[0]!==document&&/static/.test(l.css("position"))&&(u=r);c.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-u.left),e&&(i.size.height=i.size.width/i.aspectRatio),i.position.left=a.helper?r.left:0);c.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),e&&(i.size.width=i.size.height*i.aspectRatio),i.position.top=i._helper?r.top:0);i.offset.left=i.parentData.left+i.position.left;i.offset.top=i.parentData.top+i.position.top;f=Math.abs((i._helper?i.offset.left-u.left:i.offset.left-u.left)+i.sizeDiff.width);o=Math.abs((i._helper?i.offset.top-u.top:i.offset.top-r.top)+i.sizeDiff.height);s=i.containerElement.get(0)===i.element.parent().get(0);h=/relative|absolute/.test(i.containerElement.css("position"));s&&h&&(f-=Math.abs(i.parentData.left));f+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-f,e&&(i.size.height=i.size.width/i.aspectRatio));o+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-o,e&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var t=n(this).data("ui-resizable"),r=t.options,u=t.containerOffset,f=t.containerPosition,e=t.containerElement,i=n(t.helper),o=i.offset(),s=i.outerWidth()-t.sizeDiff.width,h=i.outerHeight()-t.sizeDiff.height;t._helper&&!r.animate&&/relative/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h});t._helper&&!r.animate&&/static/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h})}});n.ui.plugin.add("resizable","alsoResize",{start:function(){var r=n(this).data("ui-resizable"),t=r.options,i=function(t){n(t).each(function(){var t=n(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof t.alsoResize||t.alsoResize.parentNode?i(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],i(t.alsoResize)):n.each(t.alsoResize,function(n){i(n)})},resize:function(t,i){var r=n(this).data("ui-resizable"),u=r.options,f=r.originalSize,e=r.originalPosition,s={height:r.size.height-f.height||0,width:r.size.width-f.width||0,top:r.position.top-e.top||0,left:r.position.left-e.left||0},o=function(t,r){n(t).each(function(){var t=n(this),f=n(this).data("ui-resizable-alsoresize"),u={},e=r&&r.length?r:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(e,function(n,t){var i=(f[t]||0)+(s[t]||0);i&&i>=0&&(u[t]=i||null)});t.css(u)})};"object"!=typeof u.alsoResize||u.alsoResize.nodeType?o(u.alsoResize):n.each(u.alsoResize,function(n,t){o(n,t)})},stop:function(){n(this).removeData("resizable-alsoresize")}});n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).data("ui-resizable"),i=t.options,r=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:"");t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});n.ui.plugin.add("resizable","grid",{resize:function(){var t=n(this).data("ui-resizable"),i=t.options,v=t.size,o=t.originalSize,s=t.originalPosition,h=t.axis,c="number"==typeof i.grid?[i.grid,i.grid]:i.grid,f=c[0]||1,e=c[1]||1,l=Math.round((v.width-o.width)/f)*f,a=Math.round((v.height-o.height)/e)*e,r=o.width+l,u=o.height+a,y=i.maxWidth&&r>i.maxWidth,p=i.maxHeight&&u>i.maxHeight,w=i.minWidth&&i.minWidth>r,b=i.minHeight&&i.minHeight>u;i.grid=c;w&&(r+=f);b&&(u+=e);y&&(r-=f);p&&(u-=e);/^(se|s|e)$/.test(h)?(t.size.width=r,t.size.height=u):/^(ne)$/.test(h)?(t.size.width=r,t.size.height=u,t.position.top=s.top-a):/^(sw)$/.test(h)?(t.size.width=r,t.size.height=u,t.position.left=s.left-l):(u-e>0?(t.size.height=u,t.position.top=s.top-a):(t.size.height=e,t.position.top=s.top+o.height-e),r-f>0?(t.size.width=r,t.position.left=s.left-l):(t.size.width=f,t.position.left=s.left+o.width-f))}})}(jQuery),function(n){n.widget("ui.selectable",n.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){t=n(i.options.filter,i.element[0]);t.addClass("ui-selectee");t.each(function(){var t=n(this),i=t.offset();n.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})};this.refresh();this.selectees=t.addClass("ui-selectee");this._mouseInit();this.helper=n("<div class='ui-selectable-helper'><\/div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(t){var i=this,r=this.options;this.opos=[t.pageX,t.pageY];this.options.disabled||(this.selectees=n(r.filter,this.element[0]),this._trigger("start",t),n(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=n.data(this,"selectable-item");r.startselected=!0;t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",t,{unselecting:r.element}))}),n(t.target).parents().addBack().each(function(){var u,r=n.data(this,"selectable-item");return r?(u=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(u?"ui-unselecting":"ui-selected").addClass(u?"ui-selecting":"ui-unselecting"),r.unselecting=!u,r.selecting=u,r.selected=u,u?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1):undefined}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var e,o=this,s=this.options,i=this.opos[0],r=this.opos[1],u=t.pageX,f=t.pageY;return i>u&&(e=u,u=i,i=e),r>f&&(e=f,f=r,r=e),this.helper.css({left:i,top:r,width:u-i,height:f-r}),this.selectees.each(function(){var e=n.data(this,"selectable-item"),h=!1;e&&e.element!==o.element[0]&&("touch"===s.tolerance?h=!(e.left>u||i>e.right||e.top>f||r>e.bottom):"fit"===s.tolerance&&(h=e.left>i&&u>e.right&&e.top>r&&f>e.bottom),h?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,o._trigger("selecting",t,{selecting:e.element}))):(e.selecting&&((t.metaKey||t.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),o._trigger("unselecting",t,{unselecting:e.element}))),e.selected&&(t.metaKey||t.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,o._trigger("unselecting",t,{unselecting:e.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-unselecting");r.unselecting=!1;r.startselected=!1;i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected");r.selecting=!1;r.selected=!0;r.startselected=!0;i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(n){function t(n,t,i){return n>t&&t+i>n}function i(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))}n.widget("ui.sortable",n.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var n=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===n.axis||i(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):n.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var r=null,f=!1,u=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),n(t.target).parents().each(function(){return n.data(this,u.widgetName+"-item")===u?(r=n(this),!1):undefined}),n.data(t.target,u.widgetName+"-item")===u&&(r=n(t.target)),r?!this.options.handle||i||(n(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(f=!0)}),f)?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,r){var f,e,u=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),u.containment&&this._setContainment(),u.cursor&&"auto"!==u.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",u.cursor),this.storedStylesheet=n("<style>*{ cursor: "+u.cursor+" !important; }<\/style>").appendTo(e)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",t,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,u,f,o,i=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-n(document).scrollTop()<i.scrollSensitivity?r=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(r=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed)),t.pageX-n(document).scrollLeft()<i.scrollSensitivity?r=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(r=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;e>=0;e--)if(u=this.items[e],f=u.item[0],o=this._intersectsWithPointer(u),o&&u.instance===this.currentContainer&&f!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==f&&!n.contains(this.placeholder[0],f)&&("semi-dynamic"===this.options.type?!n.contains(this.element[0],f):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(u))break;this._rearrange(t,u);this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var e=this,f=this.placeholder.offset(),r=this.options.axis,u={};r&&"x"!==r||(u.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));r&&"y"!==r||(u.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;n(this.helper).animate(u,parseInt(this.options.revert,10)||500,function(){e._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,r=n.left,f=r+n.width,u=n.top,e=u+n.height,o=this.offset.click.top,s=this.offset.click.left,l="x"===this.options.axis||i+o>u&&e>i+o,a="y"===this.options.axis||t+s>r&&f>t+s,v=l&&a;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?v:t+this.helperProportions.width/2>r&&f>h-this.helperProportions.width/2&&i+this.helperProportions.height/2>u&&e>c-this.helperProportions.height/2},_intersectsWithPointer:function(n){var u="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,n.top,n.height),f="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,n.left,n.width),e=u&&f,i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return e?this.floating?r&&"right"===r||"down"===i?2:1:i&&("down"===i?2:1):!1},_intersectsWithSides:function(n){var u=t(this.positionAbs.top+this.offset.click.top,n.top+n.height/2,n.height),f=t(this.positionAbs.left+this.offset.click.left,n.left+n.width/2,n.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&f||"left"===r&&!f:i&&("down"===i&&u||"up"===i&&!u)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return 0!==n&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return 0!==n&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor===String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){function h(){s.push(this)}var r,u,e,i,s=[],f=[],o=this._connectWith();if(o&&t)for(r=o.length-1;r>=0;r--)for(e=n(o[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&f.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(f.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=f.length-1;r>=0;r--)f[r][0].each(h);return n(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(n){for(var i=0;t.length>i;i++)if(t[i]===n.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[];this.containers=[this];var r,u,e,i,o,s,h,l,a=this.items,f=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(r=c.length-1;r>=0;r--)for(e=n(c[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&(f.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;r>=0;r--)for(o=f[r][1],s=f[r][0],u=0,l=s.length;l>u;u++)h=n(s[u]),h.data(this.widgetName+"-item",o),a.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var r,f,u,i=this.items.length-1;i>=0;i--)r=this.items[i],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(f=this.options.toleranceElement?n(this.options.toleranceElement,r.item):r.item,t||(r.width=f.outerWidth(),r.height=f.outerHeight()),u=f.offset(),r.left=u.left,r.top=u.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)u=this.containers[i].element.offset(),this.containers[i].containerCache.left=u.left,this.containers[i].containerCache.top=u.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var r,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(r=i.placeholder,i.placeholder={element:function(){var u=t.currentItem[0].nodeName.toLowerCase(),i=n("<"+u+">",t.document[0]).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===u?t.currentItem.children().each(function(){n("<td>&#160;<\/td>",t.document[0]).attr("colspan",n(this).attr("colspan")||1).appendTo(i)}):"img"===u&&i.attr("src",t.currentItem.attr("src")),r||i.css("visibility","hidden"),i},update:function(n,u){(!r||i.forcePlaceholderSize)&&(u.height()||u.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),u.width()||u.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}});t.placeholder=n(i.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);i.placeholder.update(t,t.placeholder)},_contactContainers:function(r){for(var f,v,s,l,y,h,o,p,a,c=null,e=null,u=this.containers.length-1;u>=0;u--)if(!n.contains(this.currentItem[0],this.containers[u].element[0]))if(this._intersectsWith(this.containers[u].containerCache)){if(c&&n.contains(this.containers[u].element[0],c.element[0]))continue;c=this.containers[u];e=u}else this.containers[u].containerCache.over&&(this.containers[u]._trigger("out",r,this._uiHash(this)),this.containers[u].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[e].containerCache.over||(this.containers[e]._trigger("over",r,this._uiHash(this)),this.containers[e].containerCache.over=1);else{for(v=1e4,s=null,a=c.floating||i(this.currentItem),l=a?"left":"top",y=a?"width":"height",h=this.positionAbs[l]+this.offset.click[l],f=this.items.length-1;f>=0;f--)n.contains(this.containers[e].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&(!a||t(this.positionAbs.top+this.offset.click.top,this.items[f].top,this.items[f].height))&&(o=this.items[f].item.offset()[l],p=!1,Math.abs(o-h)>Math.abs(o+this.items[f][y]-h)&&(p=!0,o+=this.items[f][y]),v>Math.abs(o-h)&&(v=Math.abs(o-h),s=this.items[f],this.direction=p?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[e])return;s?this._rearrange(r,s,null,!0):this._rearrange(r,null,this.containers[e].element,!0);this._trigger("change",r,this._uiHash());this.containers[e]._trigger("change",r,this._uiHash(this));this.currentContainer=this.containers[e];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[e]._trigger("over",r,this._uiHash(this));this.containers[e].containerCache.over=1}},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t,this.currentItem])):"clone"===r.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||n("parent"!==r.appendTo?r.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||r.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||r.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,r,u,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode);("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n("document"===i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(n("document"===i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],r=n(i.containment).offset(),u="hidden"!==n(t).css("overflow"),this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r="absolute"===t?1:-1,u="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var r,u,i=this.options,f=t.pageX,e=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((e-this.originalPageY)/i.grid[1])*i.grid[1],e=this.containment?r-this.offset.click.top>=this.containment[1]&&r-this.offset.click.top<=this.containment[3]?r:r-this.offset.click.top>=this.containment[1]?r-i.grid[1]:r+i.grid[1]:r,u=this.originalPageX+Math.round((f-this.originalPageX)/i.grid[0])*i.grid[0],f=this.containment?u-this.offset.click.left>=this.containment[0]&&u-this.offset.click.left<=this.containment[2]?u:u-this.offset.click.left>=this.containment[0]?u-i.grid[0]:u+i.grid[0]:u)),{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u===this.counter&&this.refreshPositions(!r)})},_clear:function(n,t){function u(n,t,i){return function(r){i._trigger(n,r,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(n){this._trigger("remove",n,this._uiHash())}),r.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(u("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(u("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",n,this._uiHash()),i=0;r.length>i;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",n,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;r.length>i;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(n,t){var i="ui-effects-";n.effects={effect:{}},function(n,t){function f(n,t,i){var r=h[t.type]||{};return null==n?i||!t.def?null:t.def:(n=r.floor?~~n:parseFloat(n),isNaN(n)?t.def:r.mod?(n+r.mod)%r.mod:0>n?0:n>r.max?r.max:n)}function s(f){var o=i(),s=o._rgba=[];return f=f.toLowerCase(),r(v,function(n,i){var r,h=i.re.exec(f),c=h&&i.parse(h),e=i.space||"rgba";return c?(r=o[e](c),o[u[e].cache]=r[u[e].cache],s=o._rgba=r._rgba,!1):t}),s.length?("0,0,0,0"===s.join()&&n.extend(s,e.transparent),o):e[f]}function o(n,t,i){return i=(i+1)%1,1>6*i?n+6*(t-n)*i:1>2*i?t:2>3*i?n+6*(t-n)*(2/3-i):n}var e,a=/^([\-+])=\s*(\d+\.?\d*)/,v=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1],n[2],n[3],n[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[2.55*n[1],2.55*n[2],2.55*n[3],n[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(n){return[n[1],n[2]/100,n[3]/100,n[4]]}}],i=n.Color=function(t,i,r,u){return new n.Color.fn.parse(t,i,r,u)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=i.support={},l=n("<p>")[0],r=n.each;l.style.cssText="background-color:rgba(1,1,1,.5)";c.rgba=l.style.backgroundColor.indexOf("rgba")>-1;r(u,function(n,t){t.cache="_"+n;t.props.alpha={idx:3,type:"percent",def:1}});i.fn=n.extend(i.prototype,{parse:function(o,h,c,l){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=n(o).css(h),h=t);var a=this,v=n.type(o),y=this._rgba=[];return h!==t&&(o=[o,h,c,l],v="array"),"string"===v?this.parse(s(o)||e._default):"array"===v?(r(u.rgba.props,function(n,t){y[t.idx]=f(o[t.idx],t)}),this):"object"===v?(o instanceof i?r(u,function(n,t){o[t.cache]&&(a[t.cache]=o[t.cache].slice())}):r(u,function(t,i){var u=i.cache;r(i.props,function(n,t){if(!a[u]&&i.to){if("alpha"===n||null==o[n])return;a[u]=i.to(a._rgba)}a[u][t.idx]=f(o[n],t,!0)});a[u]&&0>n.inArray(null,a[u].slice(0,3))&&(a[u][3]=1,i.from&&(a._rgba=i.from(a[u])))}),this):t},is:function(n){var o=i(n),f=!0,e=this;return r(u,function(n,i){var s,u=o[i.cache];return u&&(s=e[i.cache]||i.to&&i.to(e._rgba)||[],r(i.props,function(n,i){return null!=u[i.idx]?f=u[i.idx]===s[i.idx]:t})),f}),f},_space:function(){var n=[],t=this;return r(u,function(i,r){t[r.cache]&&n.push(i)}),n.pop()},transition:function(n,t){var e=i(n),c=e._space(),o=u[c],l=0===this.alpha()?i("transparent"):this,a=l[o.cache]||o.to(l._rgba),s=a.slice();return e=e[o.cache],r(o.props,function(n,i){var c=i.idx,r=a[c],u=e[c],o=h[i.type]||{};null!==u&&(null===r?s[c]=u:(o.mod&&(u-r>o.mod/2?r+=o.mod:r-u>o.mod/2&&(r-=o.mod)),s[c]=f((u-r)*t+r,i)))}),this[c](s)},blend:function(t){if(1===this._rgba[3])return this;var r=this._rgba.slice(),u=r.pop(),f=i(t)._rgba;return i(n.map(r,function(n,t){return(1-u)*f[t]+u*n}))},toRgbaString:function(){var i="rgba(",t=n.map(this._rgba,function(n,t){return null==n?t>2?1:0:n});return 1===t[3]&&(t.pop(),i="rgb("),i+t.join()+")"},toHslaString:function(){var i="hsla(",t=n.map(this.hsla(),function(n,t){return null==n&&(n=t>2?1:0),t&&3>t&&(n=Math.round(100*n)+"%"),n});return 1===t[3]&&(t.pop(),i="hsl("),i+t.join()+")"},toHexString:function(t){var i=this._rgba.slice(),r=i.pop();return t&&i.push(~~(255*r)),"#"+n.map(i,function(n){return n=(n||0).toString(16),1===n.length?"0"+n:n}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});i.fn.parse.prototype=i.fn;u.hsla.to=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var s,h,i=n[0]/255,r=n[1]/255,f=n[2]/255,c=n[3],u=Math.max(i,r,f),e=Math.min(i,r,f),t=u-e,o=u+e,l=.5*o;return s=e===u?0:i===u?60*(r-f)/t+360:r===u?60*(f-i)/t+120:60*(i-r)/t+240,h=0===t?0:.5>=l?t/o:t/(2-o),[Math.round(s)%360,h,l,null==c?1:c]};u.hsla.from=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var r=n[0]/360,u=n[1],t=n[2],e=n[3],i=.5>=t?t*(1+u):t+u-t*u,f=2*t-i;return[Math.round(255*o(f,i,r+1/3)),Math.round(255*o(f,i,r)),Math.round(255*o(f,i,r-1/3)),e]};r(u,function(u,e){var s=e.props,o=e.cache,h=e.to,c=e.from;i.fn[u]=function(u){if(h&&!this[o]&&(this[o]=h(this._rgba)),u===t)return this[o].slice();var l,a=n.type(u),v="array"===a||"object"===a?u:arguments,e=this[o].slice();return r(s,function(n,t){var i=v["object"===a?n:t.idx];null==i&&(i=e[t.idx]);e[t.idx]=f(i,t)}),c?(l=i(c(e)),l[o]=e,l):i(e)};r(s,function(t,r){i.fn[t]||(i.fn[t]=function(i){var f,e=n.type(i),h="alpha"===t?this._hsla?"hsla":"rgba":u,o=this[h](),s=o[r.idx];return"undefined"===e?s:("function"===e&&(i=i.call(this,s),e=n.type(i)),null==i&&r.empty?this:("string"===e&&(f=a.exec(i),f&&(i=s+parseFloat(f[2])*("+"===f[1]?1:-1))),o[r.idx]=i,this[h](o)))})})});i.hook=function(t){var u=t.split(" ");r(u,function(t,r){n.cssHooks[r]={set:function(t,u){var o,f,e="";if("transparent"!==u&&("string"!==n.type(u)||(o=s(u)))){if(u=i(o||u),!c.rgba&&1!==u._rgba[3]){for(f="backgroundColor"===r?t.parentNode:t;(""===e||"transparent"===e)&&f&&f.style;)try{e=n.css(f,"backgroundColor");f=f.parentNode}catch(h){}u=u.blend(e&&"transparent"!==e?e:"_default")}u=u.toRgbaString()}try{t.style[r]=u}catch(h){}}};n.fx.step[r]=function(t){t.colorInit||(t.start=i(t.elem,r),t.end=i(t.end),t.colorInit=!0);n.cssHooks[r].set(t.elem,t.start.transition(t.end,t.pos))}})};i.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");n.cssHooks.borderColor={expand:function(n){var t={};return r(["Top","Right","Bottom","Left"],function(i,r){t["border"+r+"Color"]=n}),t}};e=n.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(t){var r,u,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,f={};if(i&&i.length&&i[0]&&i[i[0]])for(u=i.length;u--;)r=i[u],"string"==typeof i[r]&&(f[n.camelCase(r)]=i[r]);else for(r in i)"string"==typeof i[r]&&(f[r]=i[r]);return f}function r(t,i){var r,u,e={};for(r in i)u=i[r],t[r]!==u&&(f[r]||(n.fx.step[r]||!isNaN(parseFloat(u)))&&(e[r]=u));return e}var u=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){n.fx.step[i]=function(n){("none"===n.end||n.setAttr)&&(1!==n.pos||n.setAttr)||(jQuery.style(n.elem,i,n.end),n.setAttr=!0)}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n.effects.animateClass=function(t,f,e,o){var s=n.speed(f,e,o);return this.queue(function(){var o,e=n(this),h=e.attr("class")||"",f=s.children?e.find("*").addBack():e;f=f.map(function(){var t=n(this);return{el:t,start:i(this)}});o=function(){n.each(u,function(n,i){t[i]&&e[i+"Class"](t[i])})};o();f=f.map(function(){return this.end=i(this.el[0]),this.diff=r(this.start,this.end),this});e.attr("class",h);f=f.map(function(){var i=this,t=n.Deferred(),r=n.extend({},s,{queue:!1,complete:function(){t.resolve(i)}});return this.el.animate(this.diff,r),t.promise()});n.when.apply(n,f.get()).done(function(){o();n.each(arguments,function(){var t=this.el;n.each(this.diff,function(n){t.css(n,"")})});s.complete.call(e[0])})})};n.fn.extend({addClass:function(t){return function(i,r,u,f){return r?n.effects.animateClass.call(this,{add:i},r,u,f):t.apply(this,arguments)}}(n.fn.addClass),removeClass:function(t){return function(i,r,u,f){return arguments.length>1?n.effects.animateClass.call(this,{remove:i},r,u,f):t.apply(this,arguments)}}(n.fn.removeClass),toggleClass:function(i){return function(r,u,f,e,o){return"boolean"==typeof u||u===t?f?n.effects.animateClass.call(this,u?{add:r}:{remove:r},f,e,o):i.apply(this,arguments):n.effects.animateClass.call(this,{toggle:r},u,f,e)}}(n.fn.toggleClass),switchClass:function(t,i,r,u,f){return n.effects.animateClass.call(this,{add:i,remove:t},r,u,f)}})}(),function(){function r(t,i,r,u){return n.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),n.isFunction(i)&&(u=i,r=null,i={}),("number"==typeof i||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i&&n.extend(t,i),r=r||i.duration,t.duration=n.fx.off?0:"number"==typeof r?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,t.complete=u||i.complete,t}function u(t){return!t||"number"==typeof t||n.fx.speeds[t]?!0:"string"!=typeof t||n.effects.effect[t]?n.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}n.extend(n.effects,{version:"1.10.4",save:function(n,t){for(var r=0;t.length>r;r++)null!==t[r]&&n.data(i+t[r],n[0].style[t[r]])},restore:function(n,r){for(var f,u=0;r.length>u;u++)null!==r[u]&&(f=n.data(i+r[u]),f===t&&(f=""),n.css(r[u],f))},setMode:function(n,t){return"toggle"===t&&(t=n.is(":hidden")?"show":"hide"),t},getBaseline:function(n,t){var i,r;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=n[1]/t.width}return{x:r,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},u=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(u),(t[0]===r||n.contains(t[0],r))&&n(r).focus(),u=t.parent(),"static"===t.css("position")?(u.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r);isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(f),u.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||n.contains(t[0],i))&&n(i).focus()),t},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){var f=t.cssUnit(i);f[0]>0&&(u[i]=f[0]*r+f[1])}),u}});n.fn.extend({effect:function(){function i(i){function f(){n.isFunction(o)&&o.call(r[0]);n.isFunction(i)&&i()}var r=n(this),o=t.complete,u=t.mode;(r.is(":hidden")?"hide"===u:"show"===u)?(r[u](),f()):e.call(r[0],t,f)}var t=r.apply(this,arguments),u=t.mode,f=t.queue,e=n.effects.effect[t.effect];return n.fx.off||!e?u?this[u](t.duration,t.complete):this.each(function(){t.complete&&t.complete.call(this)}):f===!1?this.each(i):this.queue(f||"fx",i)},show:function(n){return function(t){if(u(t))return n.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(n.fn.show),hide:function(n){return function(t){if(u(t))return n.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(n.fn.hide),toggle:function(n){return function(t){if(u(t)||"boolean"==typeof t)return n.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(n.fn.toggle),cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r}})}(),function(){var t={};n.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,i){t[i]=function(t){return Math.pow(t,n+2)}});n.extend(t,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return 0===n||1===n?n:-Math.pow(2,8*(n-1))*Math.sin((80*(n-1)-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>n;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-n,2)}});n.each(t,function(t,i){n.easing["easeIn"+t]=i;n.easing["easeOut"+t]=function(n){return 1-i(1-n)};n.easing["easeInOut"+t]=function(n){return.5>n?i(2*n)/2:1-i(-2*n+2)/2}})}()}(jQuery),function(n){var r=0,t={},i={};t.height=t.paddingTop=t.paddingBottom=t.borderTopWidth=t.borderBottomWidth="hide";i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="show";n.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=n();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");t.collapsible||t.active!==!1&&null!=t.active||(t.active=0);this._processPanels();0>t.active&&(t.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():n(),content:this.active.length?this.active.next():n()}},_createIcons:function(){var t=this.options.icons;t&&(n("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var n;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});this._destroyIcons();n=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});"content"!==this.options.heightStyle&&n.css("height","")},_setOption:function(n,t){return"active"===n?(this._activate(t),undefined):("event"===n&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(n,t),"collapsible"!==n||t||this.options.active!==!1||this._activate(0),"icons"===n&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===n&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t),undefined)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[u-1]}r&&(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===n.ui.keyCode.UP&&t.ctrlKey&&n(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels();t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=n()):t.active===!1?this._activate(0):this.active.length&&!n.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=n()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,i=this.options,u=i.heightStyle,e=this.element.parent(),f=this.accordionId="ui-accordion-"+(this.element.attr("id")||++r);this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(t){var i=n(this),r=i.attr("id"),e=i.next(),u=e.attr("id");r||(r=f+"-header-"+t,i.attr("id",r));u||(u=f+"-panel-"+t,e.attr("id",u));i.attr("aria-controls",u);e.attr("aria-labelledby",r)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(i.event);"fill"===u?(t=e.height(),this.element.siblings(":visible").each(function(){var i=n(this),r=i.css("position");"absolute"!==r&&"fixed"!==r&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===u&&(t=0,this.headers.next().each(function(){t=Math.max(t,n(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:n.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):n()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,i);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,u=this.active,r=n(t.currentTarget),f=r[0]===u[0],e=f&&i.collapsible,s=e?n():r.next(),h=u.next(),o={oldHeader:u,oldPanel:h,newHeader:e?n():r,newPanel:s};t.preventDefault();f&&!i.collapsible||this._trigger("beforeActivate",t,o)===!1||(i.active=e?!1:this.headers.index(r),this.active=f?n():r,this._toggle(o),u.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&u.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),f||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var r=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=r;this.prevHide=i;this.options.animate?this._animate(r,i,t):(i.hide(),r.show(),this._toggleComplete(t));i.attr({"aria-hidden":"true"});i.prev().attr("aria-selected","false");r.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):r.length&&this.headers.filter(function(){return 0===n(this).attr("tabIndex")}).attr("tabIndex",-1);r.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(n,r,u){var l,f,e,a=this,h=0,v=n.length&&(!r.length||n.index()<r.index()),s=this.options.animate||{},o=v&&s.down||s,c=function(){a._toggleComplete(u)};return"number"==typeof o&&(e=o),"string"==typeof o&&(f=o),f=f||o.easing||s.easing,e=e||o.duration||s.duration,r.length?n.length?(l=n.show().outerHeight(),r.animate(t,{duration:e,easing:f,step:function(n,t){t.now=Math.round(n)}}),n.hide().animate(i,{duration:e,easing:f,complete:c,step:function(n,t){t.now=Math.round(n);"height"!==t.prop?h+=t.now:"content"!==a.options.heightStyle&&(t.now=Math.round(l-r.outerHeight()-h),h=0)}}),undefined):r.animate(t,e,f,c):n.animate(i,e,f,c)},_toggleComplete:function(n){var t=n.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");t.length&&(t.parent()[0].className=t.parent()[0].className);this._trigger("activate",null,n)}})}(jQuery),function(n){n.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,r,u=this.element[0].nodeName.toLowerCase(),f="textarea"===u,e="input"===u;this.isMultiLine=f?!0:e?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[f||e?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(u){if(this.element.prop("readOnly"))return t=!0,r=!0,i=!0,undefined;t=!1;r=!1;i=!1;var f=n.ui.keyCode;switch(u.keyCode){case f.PAGE_UP:t=!0;this._move("previousPage",u);break;case f.PAGE_DOWN:t=!0;this._move("nextPage",u);break;case f.UP:t=!0;this._keyEvent("previous",u);break;case f.DOWN:t=!0;this._keyEvent("next",u);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(t=!0,u.preventDefault(),this.menu.select(u));break;case f.TAB:this.menu.active&&this.menu.select(u);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(u),u.preventDefault());break;default:i=!0;this._searchTimeout(u)}},keypress:function(r){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault(),undefined;if(!i){var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:this._move("previousPage",r);break;case u.PAGE_DOWN:this._move("nextPage",r);break;case u.UP:this._keyEvent("previous",r);break;case u.DOWN:this._keyEvent("next",r)}}},input:function(n){return r?(r=!1,n.preventDefault(),undefined):(this._searchTimeout(n),undefined)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(n){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(n),this._change(n),undefined)}});this._initSource();this.menu=n("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(t){t.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];n(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===i||n.contains(i,r.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)}),undefined;var r=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:r})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value):this.liveRegion.text(r.value)},menuselect:function(n,t){var i=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r;this.selectedItem=i}));!1!==this._trigger("select",n,{item:i})&&this._value(i.value);this.term=this._value();this.close(n);this.selectedItem=i}});this.liveRegion=n("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t);"source"===n&&this._initSource();"appendTo"===n&&this.menu.element.appendTo(this._appendTo());"disabled"===n&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var i,r,t=this;n.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort();t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return n=null!=n?n:this._value(),this.term=this._value(),n.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(n):undefined},_search:function(n){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:n},this._response())},_response:function(){var t=++this.requestIndex;return n.proxy(function(n){t===this.requestIndex&&this.__response(n);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(n){n&&(n=this._normalize(n));this._trigger("response",null,{content:n});!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0;this._close(n)},_close:function(n){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return"string"==typeof t?{label:t,value:t}:n.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t);this.isNewMenu=!0;this.menu.refresh();i.show();this._resizeMenu();i.position(n.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").append(n("<a>").text(i.label)).appendTo(t)},_move:function(n,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[n](t),undefined):(this.search(null,t),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(n,t),t.preventDefault())}});n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}});n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(n){return n+(n>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(n){var t;this._superApply(arguments);this.options.disabled||this.cancelSearch||(t=n&&n.length?this.options.messages.results(n.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(n){var t,i="ui-button ui-widget ui-state-default ui-corner-all",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var t=n(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},u=function(t){var i=t.name,r=t.form,u=n([]);return i&&(i=i.replace(/'/g,"\\'"),u=r?n(r).find("[name='"+i+"']"):n("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),u};n.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f);"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var e=this,r=this.options,o="checkbox"===this.type||"radio"===this.type,s=o?"":"ui-state-active";null===r.label&&(r.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);this.buttonElement.addClass(i).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){r.disabled||this===t&&n(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){r.disabled||n(this).removeClass(s)}).bind("click"+this.eventNamespace,function(n){r.disabled&&(n.preventDefault(),n.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});o&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()});"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return r.disabled?!1:undefined}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled)return!1;n(this).addClass("ui-state-active");e.buttonElement.attr("aria-pressed","true");var t=e.element[0];u(t).not(t).map(function(){return n(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return r.disabled?!1:(n(this).addClass("ui-state-active"),t=this,e.document.one("mouseup",function(){t=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return r.disabled?!1:(n(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(t){return r.disabled?!1:((t.keyCode===n.ui.keyCode.SPACE||t.keyCode===n.ui.keyCode.ENTER)&&n(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){n(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===n.ui.keyCode.SPACE&&n(this).click()}));this._setOption("disabled",r.disabled);this._resetButton()},_determineButtonType:function(){var n,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button";"checkbox"===this.type||"radio"===this.type?(n=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=n.find(t),this.buttonElement.length||(n=n.length?n.siblings():this.element.siblings(),this.buttonElement=n.filter(t),this.buttonElement.length||(this.buttonElement=n.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(i+" ui-state-active "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(n,t){return this._super(n,t),"disabled"===n?(this.element.prop("disabled",!!t),t&&this.buttonElement.removeClass("ui-state-focus"),undefined):(this._resetButton(),undefined)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t);"radio"===this.type?u(this.element[0]).each(function(){n(this).is(":checked")?n(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),undefined;var i=this.buttonElement.removeClass(r),e=n("<span><\/span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(),t=this.options.icons,f=t.primary&&t.secondary,u=[];t.primary||t.secondary?(this.options.text&&u.push("ui-button-text-icon"+(f?"s":t.primary?"-primary":"-secondary")),t.primary&&i.prepend("<span class='ui-button-icon-primary ui-icon "+t.primary+"'><\/span>"),t.secondary&&i.append("<span class='ui-button-icon-secondary ui-icon "+t.secondary+"'><\/span>"),this.options.text||(u.push(f?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||i.attr("title",n.trim(e)))):u.push("ui-button-text-only");i.addClass(u.join(" "))}});n.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(n,t){"disabled"===n&&this.buttons.button("option",n,t);this._super(n,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(n,t){function f(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._datepickerShowing=!1;this._inDialog=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};n.extend(this._defaults,this.regional[""]);this.dpDiv=e(n("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>"))}function e(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){n(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&n(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){n.datepicker._isDisabledDatepicker(u.inline?t.parent()[0]:u.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&n(this).addClass("ui-datepicker-next-hover"))})}function r(t,i){n.extend(t,i);for(var r in i)null==i[r]&&(t[r]=i[r]);return t}n.extend(n.ui,{datepicker:{version:"1.10.4"}});var u,i="datepicker";n.extend(f.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return r(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var r,f,u;r=t.nodeName.toLowerCase();f="div"===r||"span"===r;t.id||(this.uuid+=1,t.id="dp"+this.uuid);u=this._newInst(n(t),f);u.settings=n.extend({},i||{});"input"===r?this._connectDatepicker(t,u):f&&this._inlineDatepicker(t,u)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?e(n("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>")):this.dpDiv}},_connectDatepicker:function(t,r){var u=n(t);r.append=n([]);r.trigger=n([]);u.hasClass(this.markerClassName)||(this._attachments(u,r),u.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(r),n.data(t,i,r),r.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var u,r,f,e=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove();e&&(i.append=n("<span class='"+this._appendClass+"'>"+e+"<\/span>"),t[o?"before":"after"](i.append));t.unbind("focus",this._showDatepicker);i.trigger&&i.trigger.remove();u=this._get(i,"showOn");("focus"===u||"both"===u)&&t.focus(this._showDatepicker);("button"===u||"both"===u)&&(r=this._get(i,"buttonText"),f=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:f,alt:r,title:r}):n("<button type='button'><\/button>").addClass(this._triggerClass).html(f?n("<img/>").attr({src:f,alt:r,title:r}):r)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput===t[0]?n.datepicker._hideDatepicker():n.datepicker._datepickerShowing&&n.datepicker._lastInput!==t[0]?(n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(t[0])):n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){if(this._get(n,"autoSize")&&!n.inline){var r,u,f,t,i=new Date(2009,11,20),e=this._get(n,"dateFormat");e.match(/[DM]/)&&(r=function(n){for(u=0,f=0,t=0;n.length>t;t++)n[t].length>u&&(u=n[t].length,f=t);return f},i.setMonth(r(this._get(n,e.match(/MM/)?"monthNames":"monthNamesShort"))),i.setDate(r(this._get(n,e.match(/DD/)?"dayNames":"dayNamesShort"))+20-i.getDay()));n.input.attr("size",this._formatDate(n,i).length)}},_inlineDatepicker:function(t,r){var u=n(t);u.hasClass(this.markerClassName)||(u.addClass(this.markerClassName).append(r.dpDiv),n.data(t,i,r),this._setDate(r,this._getDefaultDate(r),!0),this._updateDatepicker(r),this._updateAlternate(r),r.settings.disabled&&this._disableDatepicker(t),r.dpDiv.css("display","block"))},_dialogDatepicker:function(t,u,f,e,o){var h,c,l,a,v,s=this._dialogInst;return s||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=n("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),n("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},n.data(this._dialogInput[0],i,s)),r(s.settings,e||{}),u=u&&u.constructor===Date?this._formatDate(s,u):u,this._dialogInput.val(u),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,l=document.documentElement.clientHeight,a=document.documentElement.scrollLeft||document.body.scrollLeft,v=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+a,l/2-150+v]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=f,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],i,s),this},_destroyDatepicker:function(t){var r,u=n(t),f=n.data(t,i);u.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),n.removeData(t,i),"input"===r?(f.append.remove(),f.trigger.remove(),u.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===r||"span"===r)&&u.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var r,u,f=n(t),e=n.data(t,i);f.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),"input"===r?(t.disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===r||"span"===r)&&(u=f.children("."+this._inlineClass),u.children().removeClass("ui-state-disabled"),u.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}))},_disableDatepicker:function(t){var r,u,f=n(t),e=n.data(t,i);f.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),"input"===r?(t.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===r||"span"===r)&&(u=f.children("."+this._inlineClass),u.children().addClass("ui-state-disabled"),u.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===n)return!0;return!1},_getInst:function(t){try{return n.data(t,i)}catch(r){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(i,u,f){var o,c,s,h,e=this._getInst(i);return 2===arguments.length&&"string"==typeof u?"defaults"===u?n.extend({},n.datepicker._defaults):e?"all"===u?n.extend({},e.settings):this._get(e,u):null:(o=u||{},"string"==typeof u&&(o={},o[u]=f),e&&(this._curInst===e&&this._hideDatepicker(),c=this._getDateDatepicker(i,!0),s=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),r(e.settings,o),null!==s&&o.dateFormat!==t&&o.minDate===t&&(e.settings.minDate=this._formatDate(e,s)),null!==h&&o.dateFormat!==t&&o.maxDate===t&&(e.settings.maxDate=this._formatDate(e,h)),"disabled"in o&&(o.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(n(i),e),this._autoSize(e),this._setDate(e,c),this._updateAlternate(e),this._updateDatepicker(e)),t)},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){var t=this._getInst(n);t&&this._updateDatepicker(t)},_setDateDatepicker:function(n,t){var i=this._getInst(n);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(n,t){var i=this._getInst(n);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var u,e,f,i=n.datepicker._getInst(t.target),r=!0,o=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker();r=!1;break;case 13:return f=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv),f[0]&&n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,f[0]),u=n.datepicker._get(i,"onSelect"),u?(e=n.datepicker._formatDate(i),u.apply(i.input?i.input[0]:null,[e,i])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target);r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target);r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?1:-1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D");r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?-1:1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D");r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(i){var r,u,f=n.datepicker._getInst(i.target);return n.datepicker._get(f,"constrainInput")?(r=n.datepicker._possibleChars(n.datepicker._get(f,"dateFormat")),u=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">u||!r||r.indexOf(u)>-1):t},_doKeyUp:function(t){var r,i=n.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{r=n.datepicker.parseDate(n.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,n.datepicker._getFormatConfig(i));r&&(n.datepicker._setDateFromField(i),n.datepicker._updateAlternate(i),n.datepicker._updateDatepicker(i))}catch(u){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=n("input",t.parentNode)[0]),!n.datepicker._isDisabledDatepicker(t)&&n.datepicker._lastInput!==t){var i,o,s,u,f,e,h;i=n.datepicker._getInst(t);n.datepicker._curInst&&n.datepicker._curInst!==i&&(n.datepicker._curInst.dpDiv.stop(!0,!0),i&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0]));o=n.datepicker._get(i,"beforeShow");s=o?o.apply(t,[t,i]):{};s!==!1&&(r(i.settings,s),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),u=!1,n(t).parents().each(function(){return u|="fixed"===n(this).css("position"),!u}),f={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),f=n.datepicker._checkOffset(i,f,u),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":u?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),i.inline||(e=n.datepicker._get(i,"showAnim"),h=n.datepicker._get(i,"duration"),i.dpDiv.zIndex(n(t).zIndex()+1),n.datepicker._datepickerShowing=!0,n.effects&&n.effects.effect[e]?i.dpDiv.show(e,n.datepicker._get(i,"showOptions"),h):i.dpDiv[e||"show"](e?h:null),n.datepicker._shouldFocusInput(i)&&i.input.focus(),n.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4;u=t;t.dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,r=this._getNumberOfMonths(t),f=r[1];t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");f>1&&t.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");t===n.datepicker._curInst&&n.datepicker._datepickerShowing&&n.datepicker._shouldFocusInput(t)&&t.input.focus();t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);i=t.yearshtml=null},0))},_shouldFocusInput:function(n){return n.input&&n.input.is(":visible")&&!n.input.is(":disabled")&&!n.input.is(":focus")},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+(r?0:n(document).scrollLeft()),s=document.documentElement.clientHeight+(r?0:n(document).scrollTop());return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left===t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top===t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var i,r=this._getInst(t),u=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||n.expr.filters.hidden(t));)t=t[u?"previousSibling":"nextSibling"];return i=n(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var u,e,f,o,r=this._curInst;!r||t&&r!==n.data(t,i)||this._datepickerShowing&&(u=this._get(r,"showAnim"),e=this._get(r,"duration"),f=function(){n.datepicker._tidyDialog(r)},n.effects&&(n.effects.effect[u]||n.effects[u])?r.dpDiv.hide(u,n.datepicker._get(r,"showOptions"),e,f):r.dpDiv["slideDown"===u?"slideUp":"fadeIn"===u?"fadeOut":"hide"](u?e:null,f),u||f(),this._datepickerShowing=!1,o=this._get(r,"onClose"),o&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(n.datepicker._curInst){var i=n(t.target),r=n.datepicker._getInst(i[0]);(i[0].id===n.datepicker._mainDivId||0!==i.parents("#"+n.datepicker._mainDivId).length||i.hasClass(n.datepicker.markerClassName)||i.closest("."+n.datepicker._triggerClass).length||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI)&&(!i.hasClass(n.datepicker.markerClassName)||n.datepicker._curInst===r)||n.datepicker._hideDatepicker()}},_adjustDate:function(t,i,r){var f=n(t),u=this._getInst(f[0]);this._isDisabledDatepicker(f[0])||(this._adjustInstDate(u,i+("M"===r?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var r,u=n(t),i=this._getInst(u[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear());this._notifyChange(i);this._adjustDate(u)},_selectMonthYear:function(t,i,r){var f=n(t),u=this._getInst(f[0]);u["selected"+("M"===r?"Month":"Year")]=u["draw"+("M"===r?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(u);this._adjustDate(f)},_selectDay:function(t,i,r,u){var f,e=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(f=this._getInst(e[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){var i=n(t);this._selectDate(i,"")},_selectDate:function(t,i){var u,f=n(t),r=this._getInst(f[0]);i=null!=i?i:this._formatDate(r);r.input&&r.input.val(i);this._updateAlternate(r);u=this._get(r,"onSelect");u?u.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change");r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,r,u,f=this._get(t,"altField");f&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),u=this.formatDate(i,r,this._getFormatConfig(t)),n(f).each(function(){n(this).val(u)}))},noWeekends:function(n){var t=n.getDay();return[t>0&&6>t,""]},iso8601Week:function(n){var i,t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(i,r,u){if(null==i||null==r)throw"Invalid arguments";if(r="object"==typeof r?""+r:r+"",""===r)return null;for(var v,y,f,e=0,p=(u?u.shortYearCutoff:null)||this._defaults.shortYearCutoff,g="string"!=typeof p?p:(new Date).getFullYear()%100+parseInt(p,10),nt=(u?u.dayNamesShort:null)||this._defaults.dayNamesShort,tt=(u?u.dayNames:null)||this._defaults.dayNames,it=(u?u.monthNamesShort:null)||this._defaults.monthNamesShort,rt=(u?u.monthNames:null)||this._defaults.monthNames,o=-1,h=-1,c=-1,w=-1,b=!1,a=function(n){var t=i.length>s+1&&i.charAt(s+1)===n;return t&&s++,t},l=function(n){var i=a(n),u="@"===n?14:"!"===n?20:"y"===n&&i?4:"o"===n?3:2,f=RegExp("^\\d{1,"+u+"}"),t=r.substring(e).match(f);if(!t)throw"Missing number at position "+e;return e+=t[0].length,parseInt(t[0],10)},d=function(i,u,f){var o=-1,s=n.map(a(i)?f:u,function(n,t){return[[t,n]]}).sort(function(n,t){return-(n[1].length-t[1].length)});if(n.each(s,function(n,i){var u=i[1];return r.substr(e,u.length).toLowerCase()===u.toLowerCase()?(o=i[0],e+=u.length,!1):t}),-1!==o)return o+1;throw"Unknown name at position "+e;},k=function(){if(r.charAt(e)!==i.charAt(s))throw"Unexpected literal at position "+e;e++},s=0;i.length>s;s++)if(b)"'"!==i.charAt(s)||a("'")?k():b=!1;else switch(i.charAt(s)){case"d":c=l("d");break;case"D":d("D",nt,tt);break;case"o":w=l("o");break;case"m":h=l("m");break;case"M":h=d("M",it,rt);break;case"y":o=l("y");break;case"@":f=new Date(l("@"));o=f.getFullYear();h=f.getMonth()+1;c=f.getDate();break;case"!":f=new Date((l("!")-this._ticksTo1970)/1e4);o=f.getFullYear();h=f.getMonth()+1;c=f.getDate();break;case"'":a("'")?k():b=!0;break;default:k()}if(r.length>e&&(y=r.substr(e),!/^\s+/.test(y)))throw"Extra/unparsed characters found in date: "+y;if(-1===o?o=(new Date).getFullYear():100>o&&(o+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g>=o?0:-100)),w>-1)for(h=1,c=w;;){if(v=this._getDaysInMonth(o,h-1),v>=c)break;h++;c-=v}if(f=this._daylightSavingAdjust(new Date(o,h-1,c)),f.getFullYear()!==o||f.getMonth()+1!==h||f.getDate()!==c)throw"Invalid date";return f},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(n,t,i){if(!t)return"";var u,h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,f=function(t){var i=n.length>u+1&&n.charAt(u+1)===t;return i&&u++,i},e=function(n,t,i){var r=""+t;if(f(n))for(;i>r.length;)r="0"+r;return r},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;if(t)for(u=0;n.length>u;u++)if(o)"'"!==n.charAt(u)||f("'")?r+=n.charAt(u):o=!1;else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=1e4*t.getTime()+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){var r=n.length>t+1&&n.charAt(t+1)===i;return r&&t++,r},t=0;n.length>t;t++)if(r)"'"!==n.charAt(t)||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,i){return n.settings[i]!==t?n.settings[i]:this._defaults[i]},_setDateFromField:function(n,t){if(n.input.val()!==n.lastVal){var f=this._get(n,"dateFormat"),r=n.lastVal=n.input?n.input.val():null,u=this._getDefaultDate(n),i=u,e=this._getFormatConfig(n);try{i=this.parseDate(f,r,e)||u}catch(o){r=t?"":r}n.selectedDay=i.getDate();n.drawMonth=n.selectedMonth=i.getMonth();n.drawYear=n.selectedYear=i.getFullYear();n.currentDay=r?i.getDate():0;n.currentMonth=r?i.getMonth():0;n.currentYear=r?i.getFullYear():0;this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},e=function(i){try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(h){}for(var o=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=o.getFullYear(),e=o.getMonth(),r=o.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=7*parseInt(u[1],10);break;case"m":case"M":e+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=s.exec(i)}return new Date(f,e,r)},u=null==i||""===i?r:"string"==typeof i?e(i):"number"==typeof i?isNaN(i)?r:f(i):new Date(i.getTime());return u=u&&"Invalid Date"==""+u?r:u,u&&(u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)),this._daylightSavingAdjust(u)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var u=!t,f=n.selectedMonth,e=n.selectedYear,r=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=r.getDate();n.drawMonth=n.selectedMonth=n.currentMonth=r.getMonth();n.drawYear=n.selectedYear=n.currentYear=r.getFullYear();f===n.selectedMonth&&e===n.selectedYear||i||this._notifyChange(n);this._adjustInstDate(n);n.input&&n.input.val(u?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&""===n.input.val()?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_attachHandlers:function(t){var r=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){n.datepicker._adjustDate(i,-r,"M")},next:function(){n.datepicker._adjustDate(i,+r,"M")},hide:function(){n.datepicker._hideDatepicker()},today:function(){n.datepicker._gotoToday(i)},selectDay:function(){return n.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return n.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return n.datepicker._selectMonthYear(i,this,"Y"),!1}};n(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(n){var b,s,rt,h,ut,k,ft,et,ri,c,ot,ui,fi,ei,oi,st,g,si,ht,nt,o,y,ct,p,lt,l,u,at,vt,yt,pt,tt,wt,i,bt,kt,d,a,it,dt=new Date,gt=this._daylightSavingAdjust(new Date(dt.getFullYear(),dt.getMonth(),dt.getDate())),f=this._get(n,"isRTL"),li=this._get(n,"showButtonPanel"),hi=this._get(n,"hideIfNoPrevNext"),ni=this._get(n,"navigationAsDateFormat"),e=this._getNumberOfMonths(n),ai=this._get(n,"showCurrentAtPos"),ci=this._get(n,"stepMonths"),ti=1!==e[0]||1!==e[1],ii=this._daylightSavingAdjust(n.currentDay?new Date(n.currentYear,n.currentMonth,n.currentDay):new Date(9999,9,9)),w=this._getMinMaxDate(n,"min"),v=this._getMinMaxDate(n,"max"),t=n.drawMonth-ai,r=n.drawYear;if(0>t&&(t+=12,r--),v)for(b=this._daylightSavingAdjust(new Date(v.getFullYear(),v.getMonth()-e[0]*e[1]+1,v.getDate())),b=w&&w>b?w:b;this._daylightSavingAdjust(new Date(r,t,1))>b;)t--,0>t&&(t=11,r--);for(n.drawMonth=t,n.drawYear=r,s=this._get(n,"prevText"),s=ni?this.formatDate(s,this._daylightSavingAdjust(new Date(r,t-ci,1)),this._getFormatConfig(n)):s,rt=this._canAdjustMonth(n,-1,r,t)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"e":"w")+"'>"+s+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"e":"w")+"'>"+s+"<\/span><\/a>",h=this._get(n,"nextText"),h=ni?this.formatDate(h,this._daylightSavingAdjust(new Date(r,t+ci,1)),this._getFormatConfig(n)):h,ut=this._canAdjustMonth(n,1,r,t)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"w":"e")+"'>"+h+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"w":"e")+"'>"+h+"<\/span><\/a>",k=this._get(n,"currentText"),ft=this._get(n,"gotoCurrent")&&n.currentDay?ii:gt,k=ni?this.formatDate(k,ft,this._getFormatConfig(n)):k,et=n.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(n,"closeText")+"<\/button>",ri=li?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(f?et:"")+(this._isInRange(n,ft)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+k+"<\/button>":"")+(f?"":et)+"<\/div>":"",c=parseInt(this._get(n,"firstDay"),10),c=isNaN(c)?0:c,ot=this._get(n,"showWeek"),ui=this._get(n,"dayNames"),fi=this._get(n,"dayNamesMin"),ei=this._get(n,"monthNames"),oi=this._get(n,"monthNamesShort"),st=this._get(n,"beforeShowDay"),g=this._get(n,"showOtherMonths"),si=this._get(n,"selectOtherMonths"),ht=this._getDefaultDate(n),nt="",y=0;e[0]>y;y++){for(ct="",this.maxRows=4,p=0;e[1]>p;p++){if(lt=this._daylightSavingAdjust(new Date(r,t,n.selectedDay)),l=" ui-corner-all",u="",ti){if(u+="<div class='ui-datepicker-group",e[1]>1)switch(p){case 0:u+=" ui-datepicker-group-first";l=" ui-corner-"+(f?"right":"left");break;case e[1]-1:u+=" ui-datepicker-group-last";l=" ui-corner-"+(f?"left":"right");break;default:u+=" ui-datepicker-group-middle";l=""}u+="'>"}for(u+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+l+"'>"+(/all|left/.test(l)&&0===y?f?ut:rt:"")+(/all|right/.test(l)&&0===y?f?rt:ut:"")+this._generateMonthYearHeader(n,t,r,w,v,y>0||p>0,ei,oi)+"<\/div><table class='ui-datepicker-calendar'><thead><tr>",at=ot?"<th class='ui-datepicker-week-col'>"+this._get(n,"weekHeader")+"<\/th>":"",o=0;7>o;o++)vt=(o+c)%7,at+="<th"+((o+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ui[vt]+"'>"+fi[vt]+"<\/span><\/th>";for(u+=at+"<\/tr><\/thead><tbody>",yt=this._getDaysInMonth(r,t),r===n.selectedYear&&t===n.selectedMonth&&(n.selectedDay=Math.min(n.selectedDay,yt)),pt=(this._getFirstDayOfMonth(r,t)-c+7)%7,tt=Math.ceil((pt+yt)/7),wt=ti?this.maxRows>tt?this.maxRows:tt:tt,this.maxRows=wt,i=this._daylightSavingAdjust(new Date(r,t,1-pt)),bt=0;wt>bt;bt++){for(u+="<tr>",kt=ot?"<td class='ui-datepicker-week-col'>"+this._get(n,"calculateWeek")(i)+"<\/td>":"",o=0;7>o;o++)d=st?st.apply(n.input?n.input[0]:null,[i]):[!0,""],a=i.getMonth()!==t,it=a&&!si||!d[0]||w&&w>i||v&&i>v,kt+="<td class='"+((o+c+6)%7>=5?" ui-datepicker-week-end":"")+(a?" ui-datepicker-other-month":"")+(i.getTime()===lt.getTime()&&t===n.selectedMonth&&n._keyEvent||ht.getTime()===i.getTime()&&ht.getTime()===lt.getTime()?" "+this._dayOverClass:"")+(it?" "+this._unselectableClass+" ui-state-disabled":"")+(a&&!g?"":" "+d[1]+(i.getTime()===ii.getTime()?" "+this._currentClass:"")+(i.getTime()===gt.getTime()?" ui-datepicker-today":""))+"'"+(a&&!g||!d[2]?"":" title='"+d[2].replace(/'/g,"&#39;")+"'")+(it?"":" data-handler='selectDay' data-event='click' data-month='"+i.getMonth()+"' data-year='"+i.getFullYear()+"'")+">"+(a&&!g?"&#xa0;":it?"<span class='ui-state-default'>"+i.getDate()+"<\/span>":"<a class='ui-state-default"+(i.getTime()===gt.getTime()?" ui-state-highlight":"")+(i.getTime()===ii.getTime()?" ui-state-active":"")+(a?" ui-priority-secondary":"")+"' href='#'>"+i.getDate()+"<\/a>")+"<\/td>",i.setDate(i.getDate()+1),i=this._daylightSavingAdjust(i);u+=kt+"<\/tr>"}t++;t>11&&(t=0,r++);u+="<\/tbody><\/table>"+(ti?"<\/div>"+(e[0]>0&&p===e[1]-1?"<div class='ui-datepicker-row-break'><\/div>":""):"");ct+=u}nt+=ct}return nt+=ri,n._keyEvent=!1,nt},_generateMonthYearHeader:function(n,t,i,r,u,f,e,o){var k,d,h,v,y,p,s,a,w=this._get(n,"changeMonth"),b=this._get(n,"changeYear"),g=this._get(n,"showMonthAfterYear"),c="<div class='ui-datepicker-title'>",l="";if(f||!w)l+="<span class='ui-datepicker-month'>"+e[t]+"<\/span>";else{for(k=r&&r.getFullYear()===i,d=u&&u.getFullYear()===i,l+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!k||h>=r.getMonth())&&(!d||u.getMonth()>=h)&&(l+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"<\/option>");l+="<\/select>"}if(g||(c+=l+(!f&&w&&b?"":"&#xa0;")),!n.yearshtml)if(n.yearshtml="",f||!b)c+="<span class='ui-datepicker-year'>"+i+"<\/span>";else{for(v=this._get(n,"yearRange").split(":"),y=(new Date).getFullYear(),p=function(n){var t=n.match(/c[+\-].*/)?i+parseInt(n.substring(1),10):n.match(/[+\-].*/)?y+parseInt(n,10):parseInt(n,10);return isNaN(t)?y:t},s=p(v[0]),a=Math.max(s,p(v[1]||"")),s=r?Math.max(s,r.getFullYear()):s,a=u?Math.min(a,u.getFullYear()):a,n.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";a>=s;s++)n.yearshtml+="<option value='"+s+"'"+(s===i?" selected='selected'":"")+">"+s+"<\/option>";n.yearshtml+="<\/select>";c+=n.yearshtml;n.yearshtml=null}return c+=this._get(n,"yearSuffix"),g&&(c+=(!f&&w&&b?"":"&#xa0;")+l),c+"<\/div>"},_adjustInstDate:function(n,t,i){var u=n.drawYear+("Y"===i?t:0),f=n.drawMonth+("M"===i?t:0),e=Math.min(n.selectedDay,this._getDaysInMonth(u,f))+("D"===i?t:0),r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(u,f,e)));n.selectedDay=r.getDate();n.drawMonth=n.selectedMonth=r.getMonth();n.drawYear=n.selectedYear=r.getFullYear();("M"===i||"Y"===i)&&this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min"),r=this._getMinMaxDate(n,"max"),u=i&&i>t?i:t;return r&&u>r?r:u},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){var t=this._get(n,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var f=this._getNumberOfMonths(n),u=this._daylightSavingAdjust(new Date(i,r+(0>t?t:f[0]*f[1]),1));return 0>t&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(n,u)},_isInRange:function(n,t){var i,f,e=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max"),r=null,u=null,s=this._get(n,"yearRange");return s&&(i=s.split(":"),f=(new Date).getFullYear(),r=parseInt(i[0],10),u=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=f),i[1].match(/[+\-].*/)&&(u+=f)),(!e||t.getTime()>=e.getTime())&&(!o||t.getTime()<=o.getTime())&&(!r||t.getFullYear()>=r)&&(!u||u>=t.getFullYear())},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear);var u=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay));return this.formatDate(this._get(n,"dateFormat"),u,this._getFormatConfig(n))}});n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).mousedown(n.datepicker._checkExternalClick),n.datepicker.initialized=!0);0===n("#"+n.datepicker._mainDivId).length&&n("body").append(n.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)}):n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i))};n.datepicker=new f;n.datepicker.initialized=!1;n.datepicker.uuid=(new Date).getTime();n.datepicker.version="1.10.4"}(jQuery),function(n){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};n.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=n(this).css(t).offset().top;0>i&&n(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&n.fn.draggable&&this._makeDraggable();this.options.resizable&&n.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?n(t):this.document.find(t||"body").eq(0)},_destroy:function(){var n,t=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);n=t.parent.children().eq(t.index);n.length&&n[0]!==this.element[0]?n.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:n.noop,enable:n.noop,close:function(t){var i,r=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement;i&&"body"!==i.nodeName.toLowerCase()&&n(i).blur()}catch(u){}this._hide(this.uiDialog,this.options.hide,function(){r._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(n,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",n),i},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),undefined):(this._isOpen=!0,this.opener=n(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable();t._trigger("focus")}),this._trigger("open"),undefined)},_focusTabbable:function(){var n=this.element.find("[autofocus]");n.length||(n=this.element.find(":tabbable"));n.length||(n=this.uiDialogButtonPane.find(":tabbable"));n.length||(n=this.uiDialogTitlebarClose.filter(":tabbable"));n.length||(n=this.uiDialog);n.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||n.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault();i.call(this);this._delay(i)},_createWrapper:function(){this.uiDialog=n("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===n.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),undefined;if(t.keyCode===n.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),r=i.filter(":first"),u=i.filter(":last");t.target!==u[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(u.focus(1),t.preventDefault()):(r.focus(1),t.preventDefault())}},mousedown:function(n){this._moveToTop(n)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=n("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(t){n(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=n("<button type='button'><\/button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(n){n.preventDefault();this.close(n)}});t=n("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(t);this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(n){this.options.title||n.html("&#160;");n.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=n("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=n("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var i=this,t=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),n.isEmptyObject(t)||n.isArray(t)&&!t.length?(this.uiDialog.removeClass("ui-dialog-buttons"),undefined):(n.each(t,function(t,r){var u,f;r=n.isFunction(r)?{click:r,text:t}:r;r=n.extend({type:"button"},r);u=r.click;r.click=function(){u.apply(i.element[0],arguments)};f={icons:r.icons,text:r.showText};delete r.icons;delete r.showText;n("<button><\/button>",r).button(f).appendTo(i.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),undefined)},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,u){n(this).addClass("ui-dialog-dragging");t._blockFrames();t._trigger("dragStart",r,i(u))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(u,f){r.position=[f.position.left-t.document.scrollLeft(),f.position.top-t.document.scrollTop()];n(this).removeClass("ui-dialog-dragging");t._unblockFrames();t._trigger("dragStop",u,i(f))}})},_makeResizable:function(){function r(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}var i=this,t=this.options,u=t.resizable,f=this.uiDialog.css("position"),e="string"==typeof u?u:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:t.maxWidth,maxHeight:t.maxHeight,minWidth:t.minWidth,minHeight:this._minHeight(),handles:e,start:function(t,u){n(this).addClass("ui-dialog-resizing");i._blockFrames();i._trigger("resizeStart",t,r(u))},resize:function(n,t){i._trigger("resize",n,r(t))},stop:function(u,f){t.height=n(this).height();t.width=n(this).width();n(this).removeClass("ui-dialog-resizing");i._unblockFrames();i._trigger("resizeStop",u,r(f))}}).css("position",f)},_minHeight:function(){var n=this.options;return"auto"===n.height?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(){var n=this.uiDialog.is(":visible");n||this.uiDialog.show();this.uiDialog.position(this.options.position);n||this.uiDialog.hide()},_setOptions:function(r){var e=this,u=!1,f={};n.each(r,function(n,r){e._setOption(n,r);n in t&&(u=!0);n in i&&(f[n]=r)});u&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(n,t){var u,r,i=this.uiDialog;"dialogClass"===n&&i.removeClass(this.options.dialogClass).addClass(t);"disabled"!==n&&(this._super(n,t),"appendTo"===n&&this.uiDialog.appendTo(this._appendTo()),"buttons"===n&&this._createButtons(),"closeText"===n&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===n&&(u=i.is(":data(ui-draggable)"),u&&!t&&i.draggable("destroy"),!u&&t&&this._makeDraggable()),"position"===n&&this._position(),"resizable"===n&&(r=i.is(":data(ui-resizable)"),r&&!t&&i.resizable("destroy"),r&&"string"==typeof t&&i.resizable("option","handles",t),r||t===!1||this._makeResizable()),"title"===n&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,i,r,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});n.minWidth>n.width&&(n.width=n.minWidth);t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight();i=Math.max(0,n.minHeight-t);r="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none";"auto"===n.height?this.element.css({minHeight:i,maxHeight:r,height:"auto"}):this.element.height(Math.max(0,n.height-t));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=n(this);return n("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return n(t.target).closest(".ui-dialog").length?!0:!!n(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;n.ui.dialog.overlayInstances||this._delay(function(){n.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(r){t._allowInteraction(r)||(r.preventDefault(),n(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})});this.overlay=n("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});n.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(n.ui.dialog.overlayInstances--,n.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}});n.ui.dialog.overlayInstances=0;n.uiBackCompat!==!1&&n.widget("ui.dialog",n.ui.dialog,{_position:function(){var u,t=this.options.position,i=[],r=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(i=t.split?t.split(" "):[t[0],t[1]],1===i.length&&(i[1]=i[0]),n.each(["left","top"],function(n,t){+i[n]===i[n]&&(r[n]=i[n],i[n]=t)}),t={my:i[0]+(0>r[0]?r[0]:"+"+r[0])+" "+i[1]+(0>r[1]?r[1]:"+"+r[1]),at:i.join(" ")}),t=n.extend({},n.ui.dialog.prototype.options.position,t)):t=n.ui.dialog.prototype.options.position;u=this.uiDialog.is(":visible");u||this.uiDialog.show();this.uiDialog.position(t);u||this.uiDialog.hide()}})}(jQuery),function(n){var t=/up|down|vertical/,i=/up|left|vertical|horizontal/;n.effects.effect.blind=function(r,u){var e,o,s,f=n(this),c=["position","top","bottom","left","right","height","width"],p=n.effects.setMode(f,r.mode||"hide"),w=r.direction||"up",h=t.test(w),l=h?"height":"width",a=h?"top":"left",b=i.test(w),v={},y="show"===p;f.parent().is(".ui-effects-wrapper")?n.effects.save(f.parent(),c):n.effects.save(f,c);f.show();e=n.effects.createWrapper(f).css({overflow:"hidden"});o=e[l]();s=parseFloat(e.css(a))||0;v[l]=y?o:0;b||(f.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),v[a]=y?s:o+s);y&&(e.css(l,0),b||e.css(a,s+o));e.animate(v,{duration:r.duration,easing:r.easing,queue:!1,complete:function(){"hide"===p&&f.hide();n.effects.restore(f,c);n.effects.removeWrapper(f);u()}})}}(jQuery),function(n){n.effects.effect.bounce=function(t,i){var v,f,e,r=n(this),y=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),o="hide"===k,p="show"===k,h=t.direction||"up",u=t.distance,w=t.times||5,d=2*w+(p||o?1:0),c=t.duration/d,l=t.easing,s="up"===h||"down"===h?"top":"left",b="up"===h||"left"===h,a=r.queue(),g=a.length;for((p||o)&&y.push("opacity"),n.effects.save(r,y),r.show(),n.effects.createWrapper(r),u||(u=r["top"===s?"outerHeight":"outerWidth"]()/3),p&&(e={opacity:1},e[s]=0,r.css("opacity",0).css(s,b?2*-u:2*u).animate(e,c,l)),o&&(u/=Math.pow(2,w-1)),e={},e[s]=0,v=0;w>v;v++)f={},f[s]=(b?"-=":"+=")+u,r.animate(f,c,l).animate(e,c,l),u=o?2*u:u/2;o&&(f={opacity:0},f[s]=(b?"-=":"+=")+u,r.animate(f,c,l));r.queue(function(){o&&r.hide();n.effects.restore(r,y);n.effects.removeWrapper(r);i()});g>1&&a.splice.apply(a,[1,0].concat(a.splice(g,d+1)));r.dequeue()}}(jQuery),function(n){n.effects.effect.clip=function(t,i){var h,u,f,r=n(this),c=["position","top","bottom","left","right","height","width"],v=n.effects.setMode(r,t.mode||"hide"),e="show"===v,y=t.direction||"vertical",l="vertical"===y,o=l?"height":"width",a=l?"top":"left",s={};n.effects.save(r,c);r.show();h=n.effects.createWrapper(r).css({overflow:"hidden"});u="IMG"===r[0].tagName?h:r;f=u[o]();e&&(u.css(o,0),u.css(a,f/2));s[o]=e?f:0;s[a]=e?0:f/2;u.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){e||r.hide();n.effects.restore(r,c);n.effects.removeWrapper(r);i()}})}}(jQuery),function(n){n.effects.effect.drop=function(t,i){var u,r=n(this),h=["position","top","bottom","left","right","opacity","height","width"],c=n.effects.setMode(r,t.mode||"hide"),e="show"===c,f=t.direction||"left",o="up"===f||"down"===f?"top":"left",s="up"===f||"left"===f?"pos":"neg",l={opacity:e?1:0};n.effects.save(r,h);r.show();n.effects.createWrapper(r);u=t.distance||r["top"===o?"outerHeight":"outerWidth"](!0)/2;e&&r.css("opacity",0).css(o,"pos"===s?-u:u);l[o]=(e?"pos"===s?"+=":"-=":"pos"===s?"-=":"+=")+u;r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===c&&r.hide();n.effects.restore(r,h);n.effects.removeWrapper(r);i()}})}}(jQuery),function(n){n.effects.effect.explode=function(t,i){function b(){p.push(this);p.length===o*c&&k()}function k(){r.css({visibility:"visible"});n(p).remove();u||r.hide();i()}for(var e,l,a,v,y,o=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=o,r=n(this),d=n.effects.setMode(r,t.mode||"hide"),u="show"===d,w=r.show().css("visibility","hidden").offset(),s=Math.ceil(r.outerWidth()/c),h=Math.ceil(r.outerHeight()/o),p=[],f=0;o>f;f++)for(a=w.top+f*h,y=f-(o-1)/2,e=0;c>e;e++)l=w.left+e*s,v=e-(c-1)/2,r.clone().appendTo("body").wrap("<div><\/div>").css({position:"absolute",visibility:"visible",left:-e*s,top:-f*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s,height:h,left:l+(u?v*s:0),top:a+(u?y*h:0),opacity:u?0:1}).animate({left:l+(u?0:v*s),top:a+(u?0:y*h),opacity:u?1:0},t.duration||500,t.easing,b)}}(jQuery),function(n){n.effects.effect.fade=function(t,i){var r=n(this),u=n.effects.setMode(r,t.mode||"toggle");r.animate({opacity:u},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),function(n){n.effects.effect.fold=function(t,i){var r,e,u=n(this),s=["position","top","bottom","left","right","height","width"],h=n.effects.setMode(u,t.mode||"hide"),o="show"===h,c="hide"===h,f=t.size||15,l=/([0-9]+)%/.exec(f),a=!!t.horizFirst,v=o!==a,y=v?["width","height"]:["height","width"],p=t.duration/2,w={},b={};n.effects.save(u,s);u.show();r=n.effects.createWrapper(u).css({overflow:"hidden"});e=v?[r.width(),r.height()]:[r.height(),r.width()];l&&(f=parseInt(l[1],10)/100*e[c?0:1]);o&&r.css(a?{height:0,width:f}:{height:f,width:0});w[y[0]]=o?e[0]:f;b[y[1]]=o?e[1]:0;r.animate(w,p,t.easing).animate(b,p,t.easing,function(){c&&u.hide();n.effects.restore(u,s);n.effects.removeWrapper(u);i()})}}(jQuery),function(n){n.effects.effect.highlight=function(t,i){var r=n(this),u=["backgroundImage","backgroundColor","opacity"],f=n.effects.setMode(r,t.mode||"show"),e={backgroundColor:r.css("backgroundColor")};"hide"===f&&(e.opacity=0);n.effects.save(r,u);r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(e,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===f&&r.hide();n.effects.restore(r,u);i()}})}}(jQuery),function(n){n.effects.effect.pulsate=function(t,i){var e,r=n(this),o=n.effects.setMode(r,t.mode||"show"),h="show"===o,a="hide"===o,v=h||"hide"===o,s=2*(t.times||5)+(v?1:0),c=t.duration/s,u=0,f=r.queue(),l=f.length;for((h||!r.is(":visible"))&&(r.css("opacity",0).show(),u=1),e=1;s>e;e++)r.animate({opacity:u},c,t.easing),u=1-u;r.animate({opacity:u},c,t.easing);r.queue(function(){a&&r.hide();i()});l>1&&f.splice.apply(f,[1,0].concat(f.splice(l,s+1)));r.dequeue()}}(jQuery),function(n){n.effects.effect.puff=function(t,i){var r=n(this),e=n.effects.setMode(r,t.mode||"hide"),o="hide"===e,s=parseInt(t.percent,10)||150,f=s/100,u={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};n.extend(t,{effect:"scale",queue:!1,fade:!0,mode:e,complete:i,percent:o?s:100,from:o?u:{height:u.height*f,width:u.width*f,outerHeight:u.outerHeight*f,outerWidth:u.outerWidth*f}});r.effect(t)};n.effects.effect.scale=function(t,i){var u=n(this),r=n.extend(!0,{},t),f=n.effects.setMode(u,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===f?0:100),h=t.direction||"both",c=t.origin,e={height:u.height(),width:u.width(),outerHeight:u.outerHeight(),outerWidth:u.outerWidth()},o={y:"horizontal"!==h?s/100:1,x:"vertical"!==h?s/100:1};r.effect="size";r.queue=!1;r.complete=i;"effect"!==f&&(r.origin=c||["middle","center"],r.restore=!0);r.from=t.from||("show"===f?{height:0,width:0,outerHeight:0,outerWidth:0}:e);r.to={height:e.height*o.y,width:e.width*o.x,outerHeight:e.outerHeight*o.y,outerWidth:e.outerWidth*o.x};r.fade&&("show"===f&&(r.from.opacity=0,r.to.opacity=1),"hide"===f&&(r.from.opacity=1,r.to.opacity=0));u.effect(r)};n.effects.effect.size=function(t,i){var f,l,u,r=n(this),w=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["width","height","overflow"],v=["fontSize"],e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=n.effects.setMode(r,t.mode||"effect"),y=t.restore||"effect"!==h,c=t.scale||"both",b=t.origin||["middle","center"],k=r.css("position"),s=y?w:["position","top","bottom","left","right","overflow","opacity"],p={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&r.show();f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};"toggle"===t.mode&&"show"===h?(r.from=t.to||p,r.to=t.from||f):(r.from=t.from||("show"===h?p:f),r.to=t.to||("hide"===h?p:f));u={from:{y:r.from.height/f.height,x:r.from.width/f.width},to:{y:r.to.height/f.height,x:r.to.width/f.width}};("box"===c||"both"===c)&&(u.from.y!==u.to.y&&(s=s.concat(e),r.from=n.effects.setTransition(r,e,u.from.y,r.from),r.to=n.effects.setTransition(r,e,u.to.y,r.to)),u.from.x!==u.to.x&&(s=s.concat(o),r.from=n.effects.setTransition(r,o,u.from.x,r.from),r.to=n.effects.setTransition(r,o,u.to.x,r.to)));("content"===c||"both"===c)&&u.from.y!==u.to.y&&(s=s.concat(v).concat(a),r.from=n.effects.setTransition(r,v,u.from.y,r.from),r.to=n.effects.setTransition(r,v,u.to.y,r.to));n.effects.save(r,s);r.show();n.effects.createWrapper(r);r.css("overflow","hidden").css(r.from);b&&(l=n.effects.getBaseline(b,f),r.from.top=(f.outerHeight-r.outerHeight())*l.y,r.from.left=(f.outerWidth-r.outerWidth())*l.x,r.to.top=(f.outerHeight-r.to.outerHeight)*l.y,r.to.left=(f.outerWidth-r.to.outerWidth)*l.x);r.css(r.from);("content"===c||"both"===c)&&(e=e.concat(["marginTop","marginBottom"]).concat(v),o=o.concat(["marginLeft","marginRight"]),a=w.concat(e).concat(o),r.find("*[width]").each(function(){var i=n(this),r={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};y&&n.effects.save(i,a);i.from={height:r.height*u.from.y,width:r.width*u.from.x,outerHeight:r.outerHeight*u.from.y,outerWidth:r.outerWidth*u.from.x};i.to={height:r.height*u.to.y,width:r.width*u.to.x,outerHeight:r.height*u.to.y,outerWidth:r.width*u.to.x};u.from.y!==u.to.y&&(i.from=n.effects.setTransition(i,e,u.from.y,i.from),i.to=n.effects.setTransition(i,e,u.to.y,i.to));u.from.x!==u.to.x&&(i.from=n.effects.setTransition(i,o,u.from.x,i.from),i.to=n.effects.setTransition(i,o,u.to.x,i.to));i.css(i.from);i.animate(i.to,t.duration,t.easing,function(){y&&n.effects.restore(i,a)})}));r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity);"hide"===h&&r.hide();n.effects.restore(r,s);y||("static"===k?r.css({position:"relative",top:r.to.top,left:r.to.left}):n.each(["top","left"],function(n,t){r.css(t,function(t,i){var f=parseInt(i,10),u=n?r.to.left:r.to.top;return"auto"===i?u+"px":f+u+"px"})}));n.effects.removeWrapper(r);i()}})}}(jQuery),function(n){n.effects.effect.shake=function(t,i){var o,r=n(this),v=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),f=t.direction||"left",s=t.distance||20,y=t.times||3,p=2*y+1,u=Math.round(t.duration/p),h="up"===f||"down"===f?"top":"left",c="up"===f||"left"===f,l={},a={},w={},e=r.queue(),b=e.length;for(n.effects.save(r,v),r.show(),n.effects.createWrapper(r),l[h]=(c?"-=":"+=")+s,a[h]=(c?"+=":"-=")+2*s,w[h]=(c?"-=":"+=")+2*s,r.animate(l,u,t.easing),o=1;y>o;o++)r.animate(a,u,t.easing).animate(w,u,t.easing);r.animate(a,u,t.easing).animate(l,u/2,t.easing).queue(function(){"hide"===k&&r.hide();n.effects.restore(r,v);n.effects.removeWrapper(r);i()});b>1&&e.splice.apply(e,[1,0].concat(e.splice(b,p+1)));r.dequeue()}}(jQuery),function(n){n.effects.effect.slide=function(t,i){var u,r=n(this),s=["position","top","bottom","left","right","width","height"],h=n.effects.setMode(r,t.mode||"show"),c="show"===h,f=t.direction||"left",e="up"===f||"down"===f?"top":"left",o="up"===f||"left"===f,l={};n.effects.save(r,s);r.show();u=t.distance||r["top"===e?"outerHeight":"outerWidth"](!0);n.effects.createWrapper(r).css({overflow:"hidden"});c&&r.css(e,o?isNaN(u)?"-"+u:-u:u);l[e]=(c?o?"+=":"-=":o?"-=":"+=")+u;r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===h&&r.hide();n.effects.restore(r,s);n.effects.removeWrapper(r);i()}})}}(jQuery),function(n){n.effects.effect.transfer=function(t,i){var u=n(this),r=n(t.to),f="fixed"===r.css("position"),e=n("body"),o=f?e.scrollTop():0,s=f?e.scrollLeft():0,h=r.offset(),l={top:h.top-o,left:h.left-s,height:r.innerHeight(),width:r.innerWidth()},c=u.offset(),a=n("<div class='ui-effects-transfer'><\/div>").appendTo(document.body).addClass(t.className).css({top:c.top-o,left:c.left-s,height:u.innerHeight(),width:u.innerWidth(),position:f?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){a.remove();i()})}}(jQuery),function(n){n.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,n.proxy(function(n){this.options.disabled&&n.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(n){n.preventDefault()},"click .ui-state-disabled > a":function(n){n.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=n(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&n(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=n(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(n,i)},blur:function(t){this._delay(function(){n.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(t){n(t.target).closest(".ui-menu").length||this.collapseAll(t);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=n(this);t.data("ui-menu-submenu-carat")&&t.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function o(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,f,r,e,u,s=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:s=!1;f=this.previousFilter||"";r=String.fromCharCode(t.keyCode);e=!1;clearTimeout(this.filterTimer);r===f?e=!0:r=f+r;u=RegExp("^"+o(r),"i");i=this.activeMenu.children(".ui-menu-item").filter(function(){return u.test(n(this).children("a").text())});i=e&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i;i.length||(r=String.fromCharCode(t.keyCode),u=RegExp("^"+o(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return u.test(n(this).children("a").text())}));i.length?(this.focus(t,i),i.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}s&&t.preventDefault()},_activate:function(n){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(n):this.select(n))},refresh:function(){var t,r=this.options.icons.submenu,i=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=n(this),i=t.prev("a"),u=n("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(u);t.attr("aria-labelledby",i.attr("id"))});t=i.add(this.element);t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});t.children(":not(.ui-menu-item)").each(function(){var t=n(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")});t.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(n,t){"icons"===n&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu);this._super(n,t)},focus:function(n,t){var i,r;this.blur(n,n&&"focus"===n.type);this._scrollIntoView(t);this.active=t.first();r=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",r.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");n&&"keydown"===n.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);i=t.children(".ui-menu");i.length&&n&&/^mouse/.test(n.type)&&this._startOpening(i);this.activeMenu=t.parent();this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var e,o,i,r,u,f;this._hasScroll()&&(e=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-o,r=this.activeMenu.scrollTop(),u=this.activeMenu.height(),f=t.height(),0>i?this.activeMenu.scrollTop(r+i):i+f>u&&this.activeMenu.scrollTop(r+i-u+f))},blur:function(n,t){t||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",n,{item:this.active}))},_startOpening:function(n){clearTimeout(this.timer);"true"===n.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(n)},this.delay))},_open:function(t){var i=n.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true");t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer);this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element);this._close(r);this.blur(t);this.activeMenu=r},this.delay)},_close:function(n){n||(n=this.active?this.active.parent():this.element);n.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(n,t,i){var r;this.active&&(r="first"===n||"last"===n?this.active["first"===n?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[n+"All"](".ui-menu-item").eq(0));r&&r.length&&this.active||(r=this.activeMenu.children(".ui-menu-item")[t]());this.focus(i,r)},nextPage:function(t){var i,r,u;return this.active?(this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=n(this),0>i.offset().top-r-u}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(t),undefined)},previousPage:function(t){var i,r,u;return this.active?(this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r+u>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(t),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0);this._trigger("select",t,i)}})}(jQuery),function(n,t){function e(n,t,i){return[parseFloat(n[0])*(a.test(n[0])?t/100:1),parseFloat(n[1])*(a.test(n[1])?i/100:1)]}function r(t,i){return parseInt(n.css(t,i),10)||0}function v(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}n.ui=n.ui||{};var f,u=Math.max,i=Math.abs,o=Math.round,s=/left|center|right/,h=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,a=/%$/,y=n.fn.position;n.position={scrollbarWidth:function(){if(f!==t)return f;var u,r,i=n("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),e=i.children()[0];return n("body").append(i),u=e.offsetWidth,i.css("overflow","scroll"),r=e.offsetWidth,u===r&&(r=i[0].clientWidth),i.remove(),f=u-r},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),u="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,f="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:f?n.position.scrollbarWidth():0,height:u?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]),u=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:r,isDocument:u,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r?i.width():i.outerWidth(),height:r?i.height():i.outerHeight()}}};n.fn.position=function(t){if(!t||!t.of)return y.apply(this,arguments);t=n.extend({},t);var b,f,a,w,p,d,g=n(t.of),tt=n.position.getWithinInfo(t.within),it=n.position.getScrollInfo(tt),k=(t.collision||"flip").split(" "),nt={};return d=v(g),g[0].preventDefault&&(t.at="left top"),f=d.width,a=d.height,w=d.offset,p=n.extend({},w),n.each(["my","at"],function(){var i,r,n=(t[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):h.test(n[0])?["center"].concat(n):["center","center"]);n[0]=s.test(n[0])?n[0]:"center";n[1]=h.test(n[1])?n[1]:"center";i=c.exec(n[0]);r=c.exec(n[1]);nt[this]=[i?i[0]:0,r?r[0]:0];t[this]=[l.exec(n[0])[0],l.exec(n[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===t.at[0]?p.left+=f:"center"===t.at[0]&&(p.left+=f/2),"bottom"===t.at[1]?p.top+=a:"center"===t.at[1]&&(p.top+=a/2),b=e(nt.at,f,a),p.left+=b[0],p.top+=b[1],this.each(function(){var y,d,h=n(this),c=h.outerWidth(),l=h.outerHeight(),rt=r(this,"marginLeft"),ut=r(this,"marginTop"),ft=c+rt+r(this,"marginRight")+it.width,et=l+ut+r(this,"marginBottom")+it.height,s=n.extend({},p),v=e(nt.my,h.outerWidth(),h.outerHeight());"right"===t.my[0]?s.left-=c:"center"===t.my[0]&&(s.left-=c/2);"bottom"===t.my[1]?s.top-=l:"center"===t.my[1]&&(s.top-=l/2);s.left+=v[0];s.top+=v[1];n.support.offsetFractions||(s.left=o(s.left),s.top=o(s.top));y={marginLeft:rt,marginTop:ut};n.each(["left","top"],function(i,r){n.ui.position[k[i]]&&n.ui.position[k[i]][r](s,{targetWidth:f,targetHeight:a,elemWidth:c,elemHeight:l,collisionPosition:y,collisionWidth:ft,collisionHeight:et,offset:[b[0]+v[0],b[1]+v[1]],my:t.my,at:t.at,within:tt,elem:h})});t.using&&(d=function(n){var r=w.left-s.left,v=r+f-c,e=w.top-s.top,y=e+a-l,o={target:{element:g,left:w.left,top:w.top,width:f,height:a},element:{element:h,left:s.left,top:s.top,width:c,height:l},horizontal:0>v?"left":r>0?"right":"center",vertical:0>y?"top":e>0?"bottom":"middle"};c>f&&f>i(r+v)&&(o.horizontal="center");l>a&&a>i(e+y)&&(o.vertical="middle");o.important=u(i(r),i(v))>u(i(e),i(y))?"horizontal":"vertical";t.using.call(this,n,o)});h.offset(n.extend(s,{using:d}))})};n.ui.position={fit:{left:function(n,t){var h,e=t.within,r=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,i=r-s,f=s+t.collisionWidth-o-r;t.collisionWidth>o?i>0&&0>=f?(h=n.left+i+t.collisionWidth-o-r,n.left+=i-h):n.left=f>0&&0>=i?r:i>f?r+o-t.collisionWidth:r:i>0?n.left+=i:f>0?n.left-=f:n.left=u(n.left-s,n.left)},top:function(n,t){var h,o=t.within,r=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,i=r-s,f=s+t.collisionHeight-e-r;t.collisionHeight>e?i>0&&0>=f?(h=n.top+i+t.collisionHeight-e-r,n.top+=i-h):n.top=f>0&&0>=i?r:i>f?r+e-t.collisionHeight:r:i>0?n.top+=i:f>0?n.top-=f:n.top=u(n.top-s,n.top)}},flip:{left:function(n,t){var o,s,r=t.within,y=r.offset.left+r.scrollLeft,c=r.width,h=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-t.collisionPosition.marginLeft,a=l-h,v=l+t.collisionWidth-c-h,u="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,e=-2*t.offset[0];0>a?(o=n.left+u+f+e+t.collisionWidth-c-y,(0>o||i(a)>o)&&(n.left+=u+f+e)):v>0&&(s=n.left-t.collisionPosition.marginLeft+u+f+e-h,(s>0||v>i(s))&&(n.left+=u+f+e))},top:function(n,t){var o,s,r=t.within,y=r.offset.top+r.scrollTop,a=r.height,h=r.isWindow?r.scrollTop:r.offset.top,v=n.top-t.collisionPosition.marginTop,c=v-h,l=v+t.collisionHeight-a-h,p="top"===t.my[1],u=p?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,e=-2*t.offset[1];0>c?(s=n.top+u+f+e+t.collisionHeight-a-y,n.top+u+f+e>c&&(0>s||i(c)>s)&&(n.top+=u+f+e)):l>0&&(o=n.top-t.collisionPosition.marginTop+u+f+e-h,n.top+u+f+e>l&&(o>0||l>i(o))&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,r,u,f,e=document.getElementsByTagName("body")[0],o=document.createElement("div");t=document.createElement(e?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};e&&n.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in r)t.style[f]=r[f];t.appendChild(o);i=e||document.documentElement;i.insertBefore(t,i.firstChild);o.style.cssText="position: absolute; left: 10.7432222px;";u=n(o).offset().left;n.support.offsetFractions=u>10&&11>u;t.innerHTML="";i.removeChild(t)}()}(jQuery),function(n,t){n.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'><\/div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(n){return n===t?this.options.value:(this.options.value=this._constrainedValue(n),this._refreshValue(),t)},_constrainedValue:function(n){return n===t&&(n=this.options.value),this.indeterminate=n===!1,"number"!=typeof n&&(n=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,n))},_setOptions:function(n){var t=n.value;delete n.value;this._super(n);this.options.value=this._constrainedValue(t);this._refreshValue()},_setOption:function(n,t){"max"===n&&(t=Math.max(this.min,t));this._super(n,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div class='ui-progressbar-overlay'><\/div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==t&&(this.oldValue=t,this._trigger("change"));t===this.options.max&&this._trigger("complete")}})}(jQuery),function(n){var t=5;n.widget("ui.slider",n.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1;this._mouseSliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var r,i,u=this.options,t=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f=[];for(i=u.values&&u.values.length||1,t.length>i&&(t.slice(i).remove(),t=t.slice(0,i)),r=t.length;i>r;r++)f.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'><\/a>");this.handles=t.add(n(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(t){n(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:n.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=n("<div><\/div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var n=this.handles.add(this.range).filter("a");this._off(n);this._on(n,this._handleEvents);this._hoverable(n);this._focusable(n)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(t){var s,f,r,i,u,h,e,c,o=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:t.pageX,y:t.pageY},f=this._normValueFromMouse(s),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(f-o.values(t));(r>e||r===e&&(t===o._lastChangedValue||o.values(t)===l.min))&&(r=e,i=n(this),u=t)}),h=this._start(t,u),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=u,i.addClass("ui-state-active").focus(),e=i.offset(),c=!n(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-e.left-i.width()/2,top:t.pageY-e.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,u,f),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},i=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,i),!1},_mouseStop:function(n){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(n){var i,r,t,u,f;return"horizontal"===this.orientation?(i=this.elementSize.width,r=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,r=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=r/i,t>1&&(t=1),0>t&&(t=0),"vertical"===this.orientation&&(t=1-t),u=this._valueMax()-this._valueMin(),f=this._valueMin()+t*u,this._trimAlignValue(f)},_start:function(n,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",n,i)},_slide:function(n,t,i){var r,f,u;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>r||1===t&&r>i)&&(i=r),i!==this.values(t)&&(f=this.values(),f[t]=i,u=this._trigger("slide",n,{handle:this.handles[t],value:i,values:f}),r=this.values(t?0:1),u!==!1&&this.values(t,i))):i!==this.value()&&(u=this._trigger("slide",n,{handle:this.handles[t],value:i}),u!==!1&&this.value(i))},_stop:function(n,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._trigger("stop",n,i)},_change:function(n,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._lastChangedValue=t;this._trigger("change",n,i)}},value:function(n){return arguments.length?(this.options.value=this._trimAlignValue(n),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(t,i){var u,f,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),undefined;if(!arguments.length)return this._values();if(!n.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(u=this.options.values,f=arguments[0],r=0;u.length>r;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var r,u=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),n.isArray(this.options.values)&&(u=this.options.values.length),n.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;u>r;r+=1)this._change(null,r);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case"range":this._animateOff=!0;this._refresh();this._animateOff=!1}},_value:function(){var n=this.options.value;return this._trimAlignValue(n)},_values:function(n){var r,t,i;if(arguments.length)return r=this.options.values[n],r=this._trimAlignValue(r);if(this.options.values&&this.options.values.length){for(t=this.options.values.slice(),i=0;t.length>i;i+=1)t[i]=this._trimAlignValue(t[i]);return t}return[]},_trimAlignValue:function(n){if(this._valueMin()>=n)return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t,r=n-i;return 2*Math.abs(i)>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var s,t,c,f,h,e=this.options.range,i=this.options,r=this,u=this._animateOff?!1:i.animate,o={};this.options.values&&this.options.values.length?this.handles.each(function(f){t=100*((r.values(f)-r._valueMin())/(r._valueMax()-r._valueMin()));o["horizontal"===r.orientation?"left":"bottom"]=t+"%";n(this).stop(1,1)[u?"animate":"css"](o,i.animate);r.options.range===!0&&("horizontal"===r.orientation?(0===f&&r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:i.animate})):(0===f&&r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:i.animate})));s=t}):(c=this.value(),f=this._valueMin(),h=this._valueMax(),t=h!==f?100*((c-f)/(h-f)):0,o["horizontal"===this.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](o,i.animate),"min"===e&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},i.animate),"max"===e&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:i.animate}),"min"===e&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},i.animate),"max"===e&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:i.animate}))},_handleEvents:{keydown:function(i){var o,u,r,f,e=n(i.target).data("ui-slider-handle-index");switch(i.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,n(i.target).addClass("ui-state-active"),o=this._start(i,e),o===!1))return}switch(f=this.options.step,u=r=this.options.values&&this.options.values.length?this.values(e):this.value(),i.keyCode){case n.ui.keyCode.HOME:r=this._valueMin();break;case n.ui.keyCode.END:r=this._valueMax();break;case n.ui.keyCode.PAGE_UP:r=this._trimAlignValue(u+(this._valueMax()-this._valueMin())/t);break;case n.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(u-(this._valueMax()-this._valueMin())/t);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(u===this._valueMax())return;r=this._trimAlignValue(u+f);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(u===this._valueMin())return;r=this._trimAlignValue(u-f)}this._slide(i,e,r)},click:function(n){n.preventDefault()},keyup:function(t){var i=n(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),n(t.target).removeClass("ui-state-active"))}}})}(jQuery),function(n){function t(n){return function(){var t=this.element.val();n.apply(this,arguments);this._refresh();t!==this.element.val()&&this._trigger("change")}}n.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return n.each(["min","max","step"],function(n,r){var u=i.attr(r);void 0!==u&&u.length&&(t[r]=u)}),t},_events:{keydown:function(n){this._start(n)&&this._keydown(n)&&n.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(n){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",n),void 0)},mousewheel:function(n,t){if(t){if(!this.spinning&&!this._start(n))return!1;this._spin((t>0?1:-1)*this.options.step,n);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(n)},100);n.preventDefault()}},"mousedown .ui-spinner-button":function(t){function r(){var n=this.element[0]===this.document[0].activeElement;n||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();t.preventDefault();r.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;r.call(this)});this._start(t)!==!1&&this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(n(t.currentTarget).hasClass("ui-state-active"))return this._start(t)===!1?!1:(this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var n=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=n.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(.5*n.height())&&n.height()>0&&n.height(n.height());this.options.disabled&&this.disable()},_keydown:function(t){var r=this.options,i=n.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,r.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-r.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'><\/span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;<\/span><\/a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;<\/span><\/a>"},_start:function(n){return this.spinning||this._trigger("start",n)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(n,t,i){n=n||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,t,i)},n);this._spin(t*this.options.step,i)},_spin:function(n,t){var i=this.value()||0;this.counter||(this.counter=1);i=this._adjustValue(i+n*this._increment(this.counter));this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?n.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var n=this._precisionOf(this.options.step);return null!==this.options.min&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=""+n,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(n){var r,i,t=this.options;return r=null!==t.min?t.min:0,i=n-r,i=Math.round(i/t.step)*t.step,n=r+i,n=parseFloat(n.toFixed(this._precision())),null!==t.max&&n>t.max?t.max:null!==t.min&&t.min>n?t.min:n},_stop:function(n){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",n))},_setOption:function(n,t){if("culture"===n||"numberFormat"===n){var i=this._parse(this.element.val());return this.options[n]=t,this.element.val(this._format(i)),void 0}("max"===n||"min"===n||"step"===n)&&"string"==typeof t&&(t=this._parse(t));"icons"===n&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down));this._super(n,t);"disabled"===n&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(n){this._super(n);this._value(this.element.val())}),_parse:function(n){return"string"==typeof n&&""!==n&&(n=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(n,10,this.options.culture):+n),""===n||isNaN(n)?null:n},_format:function(n){return""===n?"":window.Globalize&&this.options.numberFormat?Globalize.format(n,this.options.numberFormat,this.options.culture):n},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(n,t){var i;""!==n&&(i=this._parse(n),null!==i&&(t||(i=this._adjustValue(i)),n=this._format(i)));this.element.val(n);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:t(function(n){this._stepUp(n)}),_stepUp:function(n){this._start()&&(this._spin((n||1)*this.options.step),this._stop())},stepDown:t(function(n){this._stepDown(n)}),_stepDown:function(n){this._start()&&(this._spin((n||1)*-this.options.step),this._stop())},pageUp:t(function(n){this._stepUp((n||1)*this.options.page)}),pageDown:t(function(n){this._stepDown((n||1)*this.options.page)}),value:function(n){return arguments.length?(t(this._value).call(this,n),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(n,t){function u(){return++f}function i(n){return n=n.cloneNode(!1),n.hash.length>1&&decodeURIComponent(n.href.replace(r,""))===decodeURIComponent(location.href.replace(r,""))}var f=0,r=/#.*$/;n.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var i=this,t=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",t.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){n(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){n(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();t.active=this._initialActive();n.isArray(t.disabled)&&(t.disabled=n.unique(t.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"),function(n){return i.tabs.index(n)}))).sort());this.active=this.options.active!==!1&&this.anchors.length?this._findActive(t.active):n();this._refresh();this.active.length&&this.load(t.active)},_initialActive:function(){var i=this.options.active,r=this.options.collapsible,u=location.hash.substring(1);return null===i&&(u&&this.tabs.each(function(r,f){return n(f).attr("aria-controls")===u?(i=r,!1):t}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=this.tabs.length?0:!1)),i!==!1&&(i=this.tabs.index(this.tabs.eq(i)),-1===i&&(i=r?!1:0)),!r&&i===!1&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):n()}},_tabKeydown:function(i){var u=n(this.document[0].activeElement).closest("li"),r=this.tabs.index(u),f=!0;if(!this._handlePageNav(i)){switch(i.keyCode){case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:r++;break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:f=!1;r--;break;case n.ui.keyCode.END:r=this.anchors.length-1;break;case n.ui.keyCode.HOME:r=0;break;case n.ui.keyCode.SPACE:return i.preventDefault(),clearTimeout(this.activating),this._activate(r),t;case n.ui.keyCode.ENTER:return i.preventDefault(),clearTimeout(this.activating),this._activate(r===this.options.active?!1:r),t;default:return}i.preventDefault();clearTimeout(this.activating);r=this._focusNextTab(r,f);i.ctrlKey||(u.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===n.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(i){return i.altKey&&i.keyCode===n.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):i.altKey&&i.keyCode===n.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):t},_findNextTab:function(t,i){function u(){return t>r&&(t=0),0>t&&(t=r),t}for(var r=this.tabs.length-1;-1!==n.inArray(u(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(n,t){return n=this._findNextTab(n,t),this.tabs.eq(n).focus(),n},_setOption:function(n,i){return"active"===n?(this._activate(i),t):"disabled"===n?(this._setupDisabled(i),t):(this._super(n,i),"collapsible"===n&&(this.element.toggleClass("ui-tabs-collapsible",i),i||this.options.active!==!1||this._activate(0)),"event"===n&&this._setupEvents(i),"heightStyle"===n&&this._setupHeightStyle(i),t)},_tabId:function(n){return n.attr("aria-controls")||"ui-tabs-"+u()},_sanitizeSelector:function(n){return n?n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=n.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)});this._processTabs();t.active!==!1&&this.anchors.length?this.active.length&&!n.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=n()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=n());this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return n("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=n();this.anchors.each(function(r,u){var e,f,s,h=n(u).uniqueId().attr("id"),o=n(u).closest("li"),c=o.attr("aria-controls");i(u)?(e=u.hash,f=t.element.find(t._sanitizeSelector(e))):(s=t._tabId(o),e="#"+s,f=t.element.find(e),f.length||(f=t._createPanel(s),f.insertAfter(t.panels[r-1]||t.tablist)),f.attr("aria-live","polite"));f.length&&(t.panels=t.panels.add(f));c&&o.data("ui-tabs-aria-controls",c);o.attr({"aria-controls":e.substring(1),"aria-labelledby":h});f.attr("aria-labelledby",h)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return n("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){n.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,r=0;i=this.tabs[r];r++)t===!0||-1!==n.inArray(r,t)?n(i).addClass("ui-state-disabled").attr("aria-disabled","true"):n(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(n){n.preventDefault()}};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,i);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();"fill"===t?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=n(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=n(this).outerHeight(!0)}),this.panels.each(function(){n(this).height(Math.max(0,i-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,n(this).height("").height())}).height(i))},_eventHandler:function(t){var u=this.options,r=this.active,c=n(t.currentTarget),i=c.closest("li"),f=i[0]===r[0],e=f&&u.collapsible,o=e?n():this._getPanelForTab(i),s=r.length?this._getPanelForTab(r):n(),h={oldTab:r,oldPanel:s,newTab:e?n():i,newPanel:o};t.preventDefault();i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||f&&!u.collapsible||this._trigger("beforeActivate",t,h)===!1||(u.active=e?!1:this.tabs.index(i),this.active=f?n():i,this.xhr&&this.xhr.abort(),s.length||o.length||n.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(i),t),this._toggle(t,h))},_toggle:function(t,i){function e(){u.running=!1;u._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active");r.length&&u.options.show?u._show(r,u.options.show,e):(r.show(),e())}var u=this,r=i.newPanel,f=i.oldPanel;this.running=!0;f.length&&this.options.hide?this._hide(f,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),f.hide(),o());f.attr({"aria-expanded":"false","aria-hidden":"true"});i.oldTab.attr("aria-selected","false");r.length&&f.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===n(this).attr("tabIndex")}).attr("tabIndex",-1);r.attr({"aria-expanded":"true","aria-hidden":"false"});i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var r,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),r=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:r,currentTarget:r,preventDefault:n.noop}))},_findActive:function(t){return t===!1?n():this.tabs.eq(t)},_getIndex:function(n){return"string"==typeof n&&(n=this.anchors.index(this.anchors.filter("[href$='"+n+"']"))),n},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){n.data(this,"ui-tabs-destroy")?n(this).remove():n(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var t=n(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var r=this.options.disabled;r!==!1&&(i===t?r=!1:(i=this._getIndex(i),r=n.isArray(r)?n.map(r,function(n){return n!==i?n:null}):n.map(this.tabs,function(n,t){return t!==i?t:null})),this._setupDisabled(r))},disable:function(i){var r=this.options.disabled;if(r!==!0){if(i===t)r=!0;else{if(i=this._getIndex(i),-1!==n.inArray(i,r))return;r=n.isArray(r)?n.merge([i],r).sort():[i]}this._setupDisabled(r)}},load:function(t,r){t=this._getIndex(t);var f=this,u=this.tabs.eq(t),o=u.find(".ui-tabs-anchor"),e=this._getPanelForTab(u),s={tab:u,panel:e};i(o[0])||(this.xhr=n.ajax(this._ajaxSettings(o,r,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(u.addClass("ui-tabs-loading"),e.attr("aria-busy","true"),this.xhr.success(function(n){setTimeout(function(){e.html(n);f._trigger("load",r,s)},1)}).complete(function(n,t){setTimeout(function(){"abort"===t&&f.panels.stop(!1,!0);u.removeClass("ui-tabs-loading");e.removeAttr("aria-busy");n===f.xhr&&delete f.xhr},1)})))},_ajaxSettings:function(t,i,r){var u=this;return{url:t.attr("href"),beforeSend:function(t,f){return u._trigger("beforeLoad",i,n.extend({jqXHR:t,ajaxSettings:f},r))}}},_getPanelForTab:function(t){var i=n(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(n){function t(t,i){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(i);t.data("ui-tooltip-id",i).attr("aria-describedby",n.trim(r.join(" ")))}function i(t){var u=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=n.inArray(u,i);-1!==r&&i.splice(r,1);t.removeData("ui-tooltip-id");i=n.trim(i.join(" "));i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")}var r=0;n.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var t=n(this).attr("title")||"";return n("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable()},_setOption:function(t,i){var r=this;return"disabled"===t?(this[i?"_disable":"_enable"](),this.options[t]=i,void 0):(this._super(t,i),"content"===t&&n.each(this.tooltips,function(n,t){r._updateContent(t)}),void 0)},_disable:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r[0];t.close(u,!0)});this.element.find(this.options.items).addBack().each(function(){var t=n(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=n(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var r=this,i=n(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var i,t=n(this);t.data("ui-tooltip-open")&&(i=n.Event("blur"),i.target=i.currentTarget=this,r.close(i,!0));t.attr("title")&&(t.uniqueId(),r.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._updateContent(i,t))},_updateContent:function(n,t){var i,r=this.options.content,u=this,f=t?t.type:null;return"string"==typeof r?this._open(t,n,r):(i=r.call(n[0],function(i){n.data("ui-tooltip-open")&&u._delay(function(){t&&(t.type=f);this._open(t,n,i)})}),i&&this._open(t,n,i),void 0)},_open:function(i,r,u){function o(n){s.of=n;f.is(":hidden")||f.position(s)}var f,e,h,s=n.extend({},this.options.position);if(u){if(f=this._find(r),f.length)return f.find(".ui-tooltip-content").html(u),void 0;r.is("[title]")&&(i&&"mouseover"===i.type?r.attr("title",""):r.removeAttr("title"));f=this._tooltip(r);t(r,f.attr("id"));f.find(".ui-tooltip-content").html(u);this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):f.position(n.extend({of:r},this.options.position));f.hide();this._show(f,this.options.show);this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){f.is(":visible")&&(o(s.of),clearInterval(h))},n.fx.interval));this._trigger("open",i,{tooltip:f});e={keyup:function(t){if(t.keyCode===n.ui.keyCode.ESCAPE){var i=n.Event(t);i.currentTarget=r[0];this.close(i,!0)}},remove:function(){this._removeTooltip(f)}};i&&"mouseover"!==i.type||(e.mouseleave="close");i&&"focusin"!==i.type||(e.focusout="close");this._on(!0,r,e)}},close:function(t){var f=this,r=n(t?t.currentTarget:this.element),u=this._find(r);this.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&r.attr("title",r.data("ui-tooltip-title")),i(r),u.stop(!0),this._hide(u,this.options.hide,function(){f._removeTooltip(n(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&n.each(this.parents,function(t,i){n(i.element).attr("title",i.title);delete f.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:u}),this.closing=!1)},_tooltip:function(t){var u="ui-tooltip-"+r++,i=n("<div>").attr({id:u,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return n("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[u]=t,i},_find:function(t){var i=t.data("ui-tooltip-id");return i?n("#"+i):n()},_removeTooltip:function(n){n.remove();delete this.tooltips[n.attr("id")]},_destroy:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r[0];t.close(u,!0);n("#"+i).remove();r.data("ui-tooltip-title")&&(r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))})}})}(jQuery),function(n){n.fn.limitTextarea=function(t){var r={maxNumber:140,position:"top",onOk:function(){},onLimit:function(){},onOver:function(){}},i=n.extend(r,t);this.each(function(){var t=n(this),u='<div id="info"><b>'+(i.maxNumber-t.val().length)+"<\/b><\/div>",r=function(){var r=i.maxNumber-t.val().length,u=n("#info");r>0?(u.html(""),i.onOk()):r==0?(u.html("100"),i.onLimit()):i.onOver()};switch(i.position){case"top":t.before(u);break;case"bottom":default:t.after(u)}window.addEventListener?t.get(0).addEventListener("input",r,!1):t.get(0).attachEvent("onpropertychange",r);window.VBArray&&window.addEventListener&&(t.get(0).attachEvent("onkeydown",function(){var n=window.event.keyCode;(n==8||n==46)&&r()}),t.get(0).attachEvent("oncut",r))})}}(jQuery),function(n){function t(){var n="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(n):window.opera&&window.opera.postError&&window.opera.postError(n)}n.fn.ajaxSubmit=function(i){function b(u){function it(n){return n.contentWindow?n.contentWindow.document:n.contentDocument?n.contentDocument:n.document}function rt(){function a(){try{var n=it(l).readyState;t("state = "+n);n.toLowerCase()=="uninitialized"&&setTimeout(a,50)}catch(i){t("Server abort: ",i," (",i.name,")");y(d);b&&clearTimeout(b);b=undefined}}var e=r.attr("target"),o=r.attr("action"),i,u;h.setAttribute("target",w);s||h.setAttribute("method","POST");o!=f.url&&h.setAttribute("action",f.url);f.skipEncodingOverride||s&&!/post/i.test(s)||r.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});f.timeout&&(b=setTimeout(function(){g=!0;y(nt)},f.timeout));i=[];try{if(f.extraData)for(u in f.extraData)i.push(n('<input type="hidden" name="'+u+'" />').attr("value",f.extraData[u]).appendTo(h)[0]);f.iframeTarget||(c.appendTo("body"),l.attachEvent?l.attachEvent("onload",y):l.addEventListener("load",y,!1));setTimeout(a,15);h.submit()}finally{h.setAttribute("action",o);e?h.setAttribute("target",e):r.removeAttr("target");n(i).remove()}}function y(i){var r,u,p,s,tt,w,h,v,k;if(!e.aborted&&!et){try{o=it(l)}catch(rt){t("cannot access response document: ",rt);i=d}if(i===nt&&e){e.abort("timeout");return}if(i==d&&e){e.abort("server abort");return}if(o&&o.location.href!=f.iframeSrc||g){l.detachEvent?l.detachEvent("onload",y):l.removeEventListener("load",y,!1);r="success";try{if(g)throw"timeout";if(p=f.dataType=="xml"||o.XMLDocument||n.isXMLDoc(o),t("isXml="+p),!p&&window.opera&&(o.body==null||o.body.innerHTML=="")&&--ft){t("requeing onLoad callback, DOM not available");setTimeout(y,250);return}s=o.body?o.body:o.documentElement;e.responseText=s?s.innerHTML:null;e.responseXML=o.XMLDocument?o.XMLDocument:o;p&&(f.dataType="xml");e.getResponseHeader=function(n){var t={"content-type":f.dataType};return t[n]};s&&(e.status=Number(s.getAttribute("status"))||e.status,e.statusText=s.getAttribute("statusText")||e.statusText);tt=f.dataType||"";w=/(json|script|text)/.test(tt.toLowerCase());w||f.textarea?(h=o.getElementsByTagName("textarea")[0],h?(e.responseText=h.value,e.status=Number(h.getAttribute("status"))||e.status,e.statusText=h.getAttribute("statusText")||e.statusText):w&&(v=o.getElementsByTagName("pre")[0],k=o.getElementsByTagName("body")[0],v?e.responseText=v.textContent?v.textContent:v.innerHTML:k&&(e.responseText=k.innerHTML))):f.dataType!="xml"||e.responseXML||e.responseText==null||(e.responseXML=st(e.responseText));try{ut=ct(e,f.dataType,f)}catch(i){r="parsererror";e.error=u=i||r}}catch(i){t("error caught: ",i);r="error";e.error=u=i||r}e.aborted&&(t("upload aborted"),r=null);e.status&&(r=e.status>=200&&e.status<300||e.status===304?"success":"error");r==="success"?(f.success&&f.success.call(f.context,ut,"success",e),a&&n.event.trigger("ajaxSuccess",[e,f])):r&&(u==undefined&&(u=e.statusText),f.error&&f.error.call(f.context,e,r,u),a&&n.event.trigger("ajaxError",[e,f,u]));a&&n.event.trigger("ajaxComplete",[e,f]);a&&!--n.active&&n.event.trigger("ajaxStop");f.complete&&f.complete.call(f.context,e,r);et=!0;f.timeout&&clearTimeout(b);setTimeout(function(){f.iframeTarget||c.remove();e.responseXML=null},100)}}}var h=r[0],tt,k,f,a,w,c,l,e,p,v,g,b,ot=!!n.fn.prop,nt,d,ut,o,ft,et;if(u)for(k=0;k<u.length;k++)tt=n(h[u[k].name]),tt[ot?"prop":"attr"]("disabled",!1);if(n(":input[name=submit],:input[id=submit]",h).length){alert('Error: Form elements must not have name or id of "submit".');return}if(f=n.extend(!0,{},n.ajaxSettings,i),f.context=f.context||f,w="jqFormIO"+(new Date).getTime(),f.iframeTarget?(c=n(f.iframeTarget),v=c.attr("name"),v==null?c.attr("name",w):w=v):(c=n('<iframe name="'+w+'" src="'+f.iframeSrc+'" />'),c.css({position:"absolute",top:"-1000px",left:"-1000px"})),l=c[0],e={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var r=i==="timeout"?"timeout":"aborted";t("aborting upload... "+r);this.aborted=1;c.attr("src",f.iframeSrc);e.error=r;f.error&&f.error.call(f.context,e,r,i);a&&n.event.trigger("ajaxError",[e,f,r]);f.complete&&f.complete.call(f.context,e,r)}},a=f.global,a&&!n.active++&&n.event.trigger("ajaxStart"),a&&n.event.trigger("ajaxSend",[e,f]),f.beforeSend&&f.beforeSend.call(f.context,e,f)===!1){f.global&&n.active--;return}if(!e.aborted){p=h.clk;p&&(v=p.name,v&&!p.disabled&&(f.extraData=f.extraData||{},f.extraData[v]=p.value,p.type=="image"&&(f.extraData[v+".x"]=h.clk_x,f.extraData[v+".y"]=h.clk_y)));nt=1;d=2;f.forceSync?rt():setTimeout(rt,10);ft=50;var st=n.parseXML||function(n,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n)):t=(new DOMParser).parseFromString(n,"text/xml"),t&&t.documentElement&&t.documentElement.nodeName!="parsererror"?t:null},ht=n.parseJSON||function(n){return window.eval("("+n+")")},ct=function(t,i,r){var f=t.getResponseHeader("content-type")||"",e=i==="xml"||!i&&f.indexOf("xml")>=0,u=e?t.responseXML:t.responseText;return e&&u.documentElement.nodeName==="parsererror"&&n.error&&n.error("parsererror"),r&&r.dataFilter&&(u=r.dataFilter(u,i)),typeof u=="string"&&(i==="json"||!i&&f.indexOf("json")>=0?u=ht(u):(i==="script"||!i&&f.indexOf("javascript")>=0)&&n.globalEval(u)),u}}}var s,l,f,r,c,e,h,u,y,a,o,p,v;if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;if(r=this,typeof i=="function"&&(i={success:i}),s=this.attr("method"),l=this.attr("action"),f=typeof l=="string"?n.trim(l):"",f=f||window.location.href||"",f&&(f=(f.match(/^([^#]+)/)||[])[1]),i=n.extend(!0,{url:f,success:n.ajaxSettings.success,type:s||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},i),c={},this.trigger("form-pre-serialize",[this,i,c]),c.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(i.beforeSerialize&&i.beforeSerialize(this,i)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(u=this.formToArray(i.semantic),i.data){i.extraData=i.data;for(e in i.data)if(n.isArray(i.data[e]))for(y in i.data[e])u.push({name:e,value:i.data[e][y]});else h=i.data[e],h=n.isFunction(h)?h():h,u.push({name:e,value:h})}if(i.beforeSubmit&&i.beforeSubmit(u,this,i)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[u,this,i,c]),c.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;a=n.param(u);i.type.toUpperCase()=="GET"?(i.url+=(i.url.indexOf("?")>=0?"&":"?")+a,i.data=null):i.data=a;o=[];i.resetForm&&o.push(function(){r.resetForm()});i.clearForm&&o.push(function(){r.clearForm()});!i.dataType&&i.target?(p=i.success||function(){},o.push(function(t){var r=i.replaceTarget?"replaceWith":"html";n(i.target)[r](t).each(p,arguments)})):i.success&&o.push(i.success);i.success=function(n,t,u){for(var e=i.context||i,f=0,s=o.length;f<s;f++)o[f].apply(e,[n,t,u||r,r])};var k=n("input:file",this).length>0,w="multipart/form-data",d=r.attr("enctype")==w||r.attr("encoding")==w;return i.iframe!==!1&&(k||i.iframe||d)?i.closeKeepAlive?n.get(i.closeKeepAlive,function(){b(u)}):b(u):(n.browser.msie&&s=="get"&&(v=r[0].getAttribute("method"),typeof v=="string"&&(i.type=v)),n.ajax(i)),this.trigger("form-submit-notify",[this,i]),this};n.fn.ajaxForm=function(i){if(this.length===0){var r={s:this.selector,c:this.context};return!n.isReady&&r.s?(t("DOM not ready, queuing ajaxForm"),n(function(){n(r.s,r.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this)}return this.ajaxFormUnbind().bind("submit.form-plugin",function(t){t.isDefaultPrevented()||(t.preventDefault(),n(this).ajaxSubmit(i))}).bind("click.form-plugin",function(t){var r=t.target,u=n(r),f,i,e;if(!u.is(":submit,input:image")){if(f=u.closest(":submit"),f.length==0)return;r=f[0]}i=this;i.clk=r;r.type=="image"&&(t.offsetX!=undefined?(i.clk_x=t.offsetX,i.clk_y=t.offsetY):typeof n.fn.offset=="function"?(e=u.offset(),i.clk_x=t.pageX-e.left,i.clk_y=t.pageY-e.top):(i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop));setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)})};n.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};n.fn.formToArray=function(t){var u=[],r,o,s,h,i,f,e,a,v,l,c;if(this.length===0||(r=this[0],o=t?r.getElementsByTagName("*"):r.elements,!o))return u;for(s=0,a=o.length;s<a;s++)if(e=o[s],i=e.name,i){if(t&&r.clk&&e.type=="image"){e.disabled||r.clk!=e||(u.push({name:i,value:n(e).val()}),u.push({name:i+".x",value:r.clk_x},{name:i+".y",value:r.clk_y}));continue}if(f=n.fieldValue(e,!0),f&&f.constructor==Array)for(h=0,v=f.length;h<v;h++)u.push({name:i,value:f[h]});else f!==null&&typeof f!="undefined"&&u.push({name:i,value:f})}return!t&&r.clk&&(l=n(r.clk),c=l[0],i=c.name,i&&!c.disabled&&c.type=="image"&&(u.push({name:i,value:l.val()}),u.push({name:i+".x",value:r.clk_x},{name:i+".y",value:r.clk_y}))),u};n.fn.formSerialize=function(t){return n.param(this.formToArray(t))};n.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var f=this.name,r,u,e;if(f)if(r=n.fieldValue(this,t),r&&r.constructor==Array)for(u=0,e=r.length;u<e;u++)i.push({name:f,value:r[u]});else r!==null&&typeof r!="undefined"&&i.push({name:this.name,value:r})}),n.param(i)};n.fn.fieldValue=function(t){for(var f,i,r=[],u=0,e=this.length;u<e;u++)(f=this[u],i=n.fieldValue(f,t),i!==null&&typeof i!="undefined"&&(i.constructor!=Array||i.length))&&(i.constructor==Array?n.merge(r,i):r.push(i));return r};n.fieldValue=function(t,i){var a=t.name,u=t.type,h=t.tagName.toLowerCase(),e,o,r,f;if(i===undefined&&(i=!0),i&&(!a||t.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!t.checked||(u=="submit"||u=="image")&&t.form&&t.form.clk!=t||h=="select"&&t.selectedIndex==-1))return null;if(h=="select"){if(e=t.selectedIndex,e<0)return null;var c=[],l=t.options,s=u=="select-one",v=s?e+1:l.length;for(o=s?e:0;o<v;o++)if(r=l[o],r.selected){if(f=r.value,f||(f=r.attributes&&r.attributes.value&&!r.attributes.value.specified?r.text:r.value),s)return f;c.push(f)}return c}return n(t).val()};n.fn.clearForm=function(){return this.each(function(){n("input,select,textarea",this).clearFields()})};n.fn.clearFields=n.fn.clearInputs=function(){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var t=this.type,i=this.tagName.toLowerCase();n.test(t)||i=="textarea"?this.value="":t=="checkbox"||t=="radio"?this.checked=!1:i=="select"&&(this.selectedIndex=-1)})};n.fn.resetForm=function(){return this.each(function(){typeof this.reset!="function"&&(typeof this.reset!="object"||this.reset.nodeType)||this.reset()})};n.fn.enable=function(n){return n===undefined&&(n=!0),this.each(function(){this.disabled=!n})};n.fn.selected=function(t){return t===undefined&&(t=!0),this.each(function(){var r=this.type,i;r=="checkbox"||r=="radio"?this.checked=t:this.tagName.toLowerCase()=="option"&&(i=n(this).parent("select"),t&&i[0]&&i[0].type=="select-one"&&i.find("option").selected(!1),this.selected=t)})}}(jQuery);!function(n){function f(n,t){function f(){clearTimeout(u)}var i,u;if(!(n in o))return o[n]=!0,i=document.createElement("script"),t&&(u=setTimeout(t,require.timeout),i.onerror=function(){clearTimeout(u);t()},"onload"in i?i.onload=f:i.onreadystatechange=function(){("loaded"==this.readyState||"complete"==this.readyState)&&f()}),i.type="text/javascript",i.src=n,r.appendChild(i),i}function h(n,r,u){var c=t[n]||(t[n]=[]),h,e,o;c.push(r);e=i[n]||{};o=e.pkg;h=o?s[o].url:e.url||n;f(h,u&&function(){u(n)})}var r=document.getElementsByTagName("head")[0],t={},u={},e={},o={},i={},s={};define=function(n,i){var r,f,e;if(u[n]=i,r=t[n],r){for(f=0,e=r.length;e>f;f++)r[f]();delete t[n]}};require=function(n){var t,i,r;if(n=require.alias(n),t=e[n],t)return t.exports;if(i=u[n],!i)throw"[ModJS] Cannot find module `"+n+"`";return t=e[n]={exports:{}},r="function"==typeof i?i.apply(t,[require,t.exports,t]):i,r&&(t.exports=r),t.exports};require.async=function(t,r,f){function o(n){for(var r,t,e=0,a=n.length;a>e;e++)r=n[e],r in u?(t=i[r],t&&"deps"in t&&o(t.deps)):r in s||(s[r]=!0,c++,h(r,l,f),t=i[r],t&&"deps"in t&&o(t.deps))}function l(){if(0==c--){for(var u=[],i=0,f=t.length;f>i;i++)u[i]=require(t[i]);r&&r.apply(n,u)}}var e,a,s,c;for("string"==typeof t&&(t=[t]),e=0,a=t.length;a>e;e++)t[e]=require.alias(t[e]);s={};c=0;o(t);l()};require.resourceMap=function(n){var t,r=n.res;for(t in r)r.hasOwnProperty(t)&&(i[t]=r[t]);r=n.pkg;for(t in r)r.hasOwnProperty(t)&&(s[t]=r[t])};require.loadJs=function(n){f(n)};require.loadCss=function(n){var t,i;n.content?(t=document.createElement("style"),t.type="text/css",t.styleSheet?t.styleSheet.cssText=n.content:t.innerHTML=n.content,r.appendChild(t)):n.url&&(i=document.createElement("link"),i.href=n.url,i.rel="stylesheet",i.type="text/css",r.appendChild(i))};require.alias=function(n){return n};require.timeout=5e3}(this);define("common:widget/sidebar/sidebar.js",function(n,t){t.init=$(function(){var n={versions:function(){var n=navigator.userAgent,t=navigator.appVersion;return{trident:n.indexOf("Trident")>-1,presto:n.indexOf("Presto")>-1,webkit:n.indexOf("AppleWebKit")>-1,gecko:n.indexOf("Gecko")>-1&&-1==n.indexOf("KHTML"),mobile:!!n.match(/AppleWebKit.*Mobile.*/),ios:!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:n.indexOf("Android")>-1||n.indexOf("Linux")>-1,iphone:n.indexOf("iPhone")>-1,mac:n.indexOf("Mac")>-1,ipad:n.indexOf("iPad")>-1,webapp:-1==n.indexOf("Safari"),weixin:n.indexOf("MicroMessenger")>-1,baidubox:n.indexOf("baiduboxapp")>-1,google:n.indexOf("Chrome")>-1,version:t}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},t;(n.versions.mobile||n.versions.ios||n.versions.android||n.versions.iphone||n.versions.ipad||n.versions.weixin||n.versions.baidubox)&&($("#slideBar .item-kefu-link").attr("href","https://ikefu.baidu.com/wise/mtc-cs"),$("#slideBar .item-kefu-link").attr("data-mtc-trace-content","https://ikefu.baidu.com/wise/mtc-cs"));t=$("#goTop");$(window).scroll(function(){$(this).scrollTop()>200?(t.fadeIn(400),$("#feedback").css("border-bottom-left-radius",0).css("border-bottom-right-radius",0)):(t.fadeOut(400),$("#feedback").css("border-bottom-left-radius",3).css("border-bottom-right-radius",3))});t.click(function(){$("html,body").animate({scrollTop:0},"normal","swing")})})}),function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery","jquery.ui.widget"],n):n(window.jQuery)}(function(n){"use strict";n.support.xhrFileUpload=!!(window.XMLHttpRequestUpload&&window.FileReader);n.support.xhrFormDataFileUpload=!!window.FormData;n.widget("blueimp.fileupload",{options:{dropZone:n(document),pasteZone:n(document),fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,formData:function(n){return n.serializeArray()},add:function(n,t){t.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=+new Date;this.loaded=0;this.bitrate=0;this.getBitrate=function(n,t,i){var r=n-this.timestamp;return(!this.bitrate||!i||r>i)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=n),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&n.support.xhrFileUpload||n.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;return typeof t.formData=="function"?t.formData(t.form):n.isArray(t.formData)?t.formData:t.formData?(i=[],n.each(t.formData,function(n,t){i.push({name:n,value:t})}),i):[]},_getTotal:function(t){var i=0;return n.each(t,function(n,t){i+=t.size||1}),i},_onProgress:function(n,t){if(n.lengthComputable){var i=+new Date,u,r;if(t._time&&t.progressInterval&&i-t._time<t.progressInterval&&n.loaded!==n.total)return;t._time=i;u=t.total||this._getTotal(t.files);r=parseInt(n.loaded/n.total*(t.chunkSize||u),10)+(t.uploadedBytes||0);this._loaded+=r-(t.loaded||t.uploadedBytes||0);t.lengthComputable=!0;t.loaded=r;t.total=u;t.bitrate=t._bitrateTimer.getBitrate(i,r,t.bitrateInterval);this._trigger("progress",n,t);this._trigger("progressall",n,{lengthComputable:!0,loaded:this._loaded,total:this._total,bitrate:this._bitrateTimer.getBitrate(i,this._loaded,t.bitrateInterval)})}},_initProgressListener:function(t){var r=this,i=t.xhr?t.xhr():n.ajaxSettings.xhr();i.upload&&(n(i.upload).bind("progress",function(n){var i=n.originalEvent;n.lengthComputable=i.lengthComputable;n.loaded=i.loaded;n.total=i.total;r._onProgress(n,t)}),t.xhr=function(){return i})},_initXHRData:function(t){var i,r=t.files[0],f=t.multipart||!n.support.xhrFileUpload,u=t.paramName[0];t.headers=t.headers||{};t.contentRange&&(t.headers["Content-Range"]=t.contentRange);f?n.support.xhrFormDataFileUpload&&(t.postMessage?(i=this._getFormData(t),t.blob?i.push({name:u,value:t.blob}):n.each(t.files,function(n,r){i.push({name:t.paramName[n]||u,value:r})})):(t.formData instanceof FormData?i=t.formData:(i=new FormData,n.each(this._getFormData(t),function(n,t){i.append(t.name,t.value)})),t.blob?(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"',t.headers["Content-Description"]=encodeURI(r.type),i.append(u,t.blob,r.name)):n.each(t.files,function(n,r){r instanceof Blob&&i.append(t.paramName[n]||u,r,r.name)})),t.data=i):(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"',t.contentType=r.type,t.data=t.blob||r);t.blob=null},_initIframeSettings:function(t){t.dataType="iframe "+(t.dataType||"");t.formData=this._getFormData(t);t.redirect&&n("<a><\/a>").prop("href",t.url).prop("host")!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(n){this._isXHRUpload(n)?(this._chunkedUpload(n,!0)||(n.data||this._initXHRData(n),this._initProgressListener(n)),n.postMessage&&(n.dataType="postmessage "+(n.dataType||""))):this._initIframeSettings(n,"iframe")},_getParamName:function(t){var r=n(t.fileInput),i=t.paramName;return i?n.isArray(i)||(i=[i]):(i=[],r.each(function(){for(var t=n(this),u=t.prop("name")||"files[]",r=(t.prop("files")||[1]).length;r;)i.push(u),r-=1}),i.length||(i=[r.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=n(t.fileInput.prop("form")),t.form.length||(t.form=n(this.options.fileInput.prop("form"))));t.paramName=this._getParamName(t);t.url||(t.url=t.form.prop("action")||location.href);t.type=(t.type||t.form.prop("method")||"").toUpperCase();t.type!=="POST"&&t.type!=="PUT"&&(t.type="POST");t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var i=n.extend({},this.options,t);return this._initFormSettings(i),this._initDataSettings(i),i},_enhancePromise:function(n){return n.success=n.done,n.error=n.fail,n.complete=n.always,n},_getXHRPromise:function(t,i,r){var u=n.Deferred(),f=u.promise();return i=i||this.options.context||f,t===!0?u.resolveWith(i,r):t===!1&&u.rejectWith(i,r),f.abort=u.promise,this._enhancePromise(f)},_getUploadedBytes:function(n){var i=n.getResponseHeader("Range"),t=i&&i.split("-"),r=t&&t.length>1&&parseInt(t[1],10);return r&&r+1},_chunkedUpload:function(t,i){var f=this,u=t.files[0],e=u.size,r=t.uploadedBytes=t.uploadedBytes||0,c=t.maxChunkSize||e,l=u.slice||u.webkitSlice||u.mozSlice,o=n.Deferred(),s=o.promise(),a,h;return!(this._isXHRUpload(t)&&l&&(r||c<e))||t.data?!1:i?!0:r>=e?(u.error="Uploaded bytes exceed file size",this._getXHRPromise(!1,t.context,[null,"error",u.error])):(h=function(){var i=n.extend({},t);i.blob=l.call(u,r,r+c);i.chunkSize=i.blob.size;i.contentRange="bytes "+r+"-"+(r+i.chunkSize-1)+"/"+e;f._initXHRData(i);f._initProgressListener(i);a=(n.ajax(i)||f._getXHRPromise(!1,i.context)).done(function(u,s,c){r=f._getUploadedBytes(c)||r+i.chunkSize;i.loaded||f._onProgress(n.Event("progress",{lengthComputable:!0,loaded:r-i.uploadedBytes,total:r-i.uploadedBytes}),i);t.uploadedBytes=i.uploadedBytes=r;r<e?h():o.resolveWith(i.context,[u,s,c])}).fail(function(n,t,r){o.rejectWith(i.context,[n,t,r])})},this._enhancePromise(s),s.abort=function(){return a.abort()},h(),s)},_beforeSend:function(n,t){this._active===0&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer);this._active+=1;this._loaded+=t.uploadedBytes||0;this._total+=this._getTotal(t.files)},_onDone:function(t,i,r,u){this._isXHRUpload(u)||this._onProgress(n.Event("progress",{lengthComputable:!0,loaded:1,total:1}),u);u.result=t;u.textStatus=i;u.jqXHR=r;this._trigger("done",null,u)},_onFail:function(n,t,i,r){r.jqXHR=n;r.textStatus=t;r.errorThrown=i;this._trigger("fail",null,r);r.recalculateProgress&&(this._loaded-=r.loaded||r.uploadedBytes||0,this._total-=r.total||this._getTotal(r.files))},_onAlways:function(n,t,i,r){this._active-=1;r.textStatus=t;i&&i.always?(r.jqXHR=i,r.result=n):(r.jqXHR=n,r.errorThrown=i);this._trigger("always",null,r);this._active===0&&(this._trigger("stop"),this._loaded=this._total=0,this._bitrateTimer=null)},_onSend:function(t,i){var r=this,f,e,o,u=r._getAJAXSettings(i),s=function(i,e){return r._sending+=1,u._bitrateTimer=new r._BitrateTimer,f=f||(i!==!1&&r._trigger("send",t,u)!==!1&&(r._chunkedUpload(u)||n.ajax(u))||r._getXHRPromise(!1,u.context,e)).done(function(n,t,i){r._onDone(n,t,i,u)}).fail(function(n,t,i){r._onFail(n,t,i,u)}).always(function(n,t,i){if(r._sending-=1,r._onAlways(n,t,i,u),u.limitConcurrentUploads&&u.limitConcurrentUploads>r._sending)for(var f=r._slots.shift(),e;f;){if(e=f.state?f.state()==="pending":!f.isRejected(),e){f.resolve();break}f=r._slots.shift()}})};return(this._beforeSend(t,u),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending)?(this.options.limitConcurrentUploads>1?(e=n.Deferred(),this._slots.push(e),o=e.pipe(s)):o=this._sequence=this._sequence.pipe(s,s),o.abort=function(){var n=[undefined,"abort","abort"];return f?f.abort():(e&&e.rejectWith(o,n),s(!1,n))},this._enhancePromise(o)):s()},_onAdd:function(t,i){var c=this,l=!0,u=n.extend({},this.options,i),f=u.limitMultiFileUploads,s=this._getParamName(u),e,h,o,r;if((u.singleFileUploads||f)&&this._isXHRUpload(u))if(!u.singleFileUploads&&f)for(o=[],e=[],r=0;r<i.files.length;r+=f)o.push(i.files.slice(r,r+f)),h=s.slice(r,r+f),h.length||(h=s),e.push(h);else e=s;else o=[i.files],e=[s];return i.originalFiles=i.files,n.each(o||i.files,function(r,u){var f=n.extend({},i);return f.files=o?u:[u],f.paramName=e[r],f.submit=function(){return f.jqXHR=this.jqXHR=c._trigger("submit",t,this)!==!1&&c._onSend(t,this),this.jqXHR},l=c._trigger("add",t,f)}),l},_replaceFileInput:function(t){var i=t.clone(!0);n("<form><\/form>").append(i)[0].reset();t.after(i).detach();n.cleanData(t.unbind("remove"));this.options.fileInput=this.options.fileInput.map(function(n,r){return r===t[0]?i[0]:r});t[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,i){var e=this,r=n.Deferred(),u=function(n){n&&!n.entry&&(n.entry=t);r.resolve([n])},f;return i=i||"",t.isFile?t._file?(t._file.relativePath=i,r.resolve(t._file)):t.file(function(n){n.relativePath=i;r.resolve(n)},u):t.isDirectory?(f=t.createReader(),f.readEntries(function(n){e._handleFileTreeEntries(n,i+t.name+"/").done(function(n){r.resolve(n)}).fail(u)},u)):r.resolve([]),r.promise()},_handleFileTreeEntries:function(t,i){var r=this;return n.when.apply(n,n.map(t,function(n){return r._handleFileTreeEntry(n,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var i=t.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(n.map(i,function(n){var t;return n.webkitGetAsEntry?(t=n.webkitGetAsEntry(),t&&(t._file=n.getAsFile()),t):n.getAsEntry()})):n.Deferred().resolve(n.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=n(t);var r=t.prop("webkitEntries")||t.prop("entries"),i,u;if(r&&r.length)return this._handleFileTreeEntries(r);if(i=n.makeArray(t.prop("files")),i.length)i[0].name===undefined&&i[0].fileName&&n.each(i,function(n,t){t.name=t.fileName;t.size=t.fileSize});else{if(u=t.prop("value"),!u)return n.Deferred().resolve([]).promise();i=[{name:u.replace(/^.*\\/,"")}]}return n.Deferred().resolve(i).promise()},_getFileInputFiles:function(t){return!(t instanceof n)||t.length===1?this._getSingleFileInputFiles(t):n.when.apply(n,n.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_onChange:function(t){var r=this,i={fileInput:n(t.target),form:n(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(n){i.files=n;r.options.replaceFileInput&&r._replaceFileInput(i.fileInput);r._trigger("change",t,i)!==!1&&r._onAdd(t,i)})},_onPaste:function(t){var r=t.originalEvent.clipboardData,u=r&&r.items||[],i={files:[]};return n.each(u,function(n,t){var r=t.getAsFile&&t.getAsFile();r&&i.files.push(r)}),this._trigger("paste",t,i)===!1||this._onAdd(t,i)===!1?!1:void 0},_onDrop:function(n){n.preventDefault();var i=this,r=n.dataTransfer=n.originalEvent.dataTransfer,t={};this._getDroppedFiles(r).always(function(r){t.files=r;i._trigger("drop",n,t)!==!1&&i._onAdd(n,t)})},_onDragOver:function(n){var t=n.dataTransfer=n.originalEvent.dataTransfer;if(this._trigger("dragover",n)===!1)return!1;t&&(t.dropEffect="copy");n.preventDefault()},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste}));this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop");this._off(this.options.pasteZone,"paste");this._off(this.options.fileInput,"change")},_setOption:function(t,i){var r=n.inArray(t,this._refreshOptionsList)!==-1;r&&this._destroyEventHandlers();this._super(t,i);r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;t.fileInput===undefined?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof n||(t.fileInput=n(t.fileInput));t.dropZone instanceof n||(t.dropZone=n(t.dropZone));t.pasteZone instanceof n||(t.pasteZone=n(t.pasteZone))},_create:function(){var t=this.options;n.extend(t,n(this.element[0].cloneNode(!1)).data());this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(!0);this._sending=this._active=this._loaded=this._total=0;this._initEventHandlers()},_destroy:function(){this._destroyEventHandlers()},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(n){t.files=n;i._onAdd(null,t)}):(t.files=n.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var e=this,i=n.Deferred(),r=i.promise(),u,f;return r.abort=function(){return(f=!0,u)?u.abort():(i.reject(null,"abort","abort"),r)},this._getFileInputFiles(t.fileInput).always(function(n){f||(t.files=n,u=e._onSend(null,t).then(function(n,t,r){i.resolve(n,t,r)},function(n,t,r){i.reject(n,t,r)}))}),this._enhancePromise(r)}if(t.files=n.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(){function h(n,t,i){var r;return t=t.toLowerCase(),(r=n.__allListeners||i&&(n.__allListeners={}))&&(r[t]||i&&(r[t]=[]))}function c(n,t,i,r,u,f){var e=r&&n[t],o;for(e||(e=n[i]);!e&&(o=(o||n).parentNode);){if(o.tagName=="BODY"||f&&!f(o))return null;e=o[i]}return e&&u&&!u(e)?c(e,t,i,!1,u):e}var s,u,y,p,w,r;UEDITOR_CONFIG=window.UEDITOR_CONFIG||{};r=window.baidu||{};window.baidu=r;window.UE=r.editor={};UE.plugins={};UE.commands={};UE.instants={};UE.I18N={};UE.version="1.2.6.0";var e=UE.dom={},i=UE.browser=function(){var i=navigator.userAgent.toLowerCase(),u=window.opera,n={ie:!!window.ActiveXObject,opera:!!u&&u.version,webkit:i.indexOf(" applewebkit/")>-1,mac:i.indexOf("macintosh")>-1,quirks:document.compatMode=="BackCompat"},t,r;return n.gecko=navigator.product=="Gecko"&&!n.webkit&&!n.opera,t=0,n.ie&&(t=parseFloat(i.match(/msie (\d+)/)[1]),n.ie9Compat=document.documentMode==9,n.ie8=!!document.documentMode,n.ie8Compat=document.documentMode==8,n.ie7Compat=t==7&&!document.documentMode||document.documentMode==7,n.ie6Compat=t<7||n.quirks),n.gecko&&(r=i.match(/rv:([\d\.]+)/),r&&(r=r[1].split("."),t=r[0]*1e4+(r[1]||0)*100+(r[2]||0)*1)),/chrome\/(\d+\.\d)/i.test(i)&&(n.chrome=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(i)&&!/chrome/i.test(i)&&(n.safari=+(RegExp.$1||RegExp.$2)),n.opera&&(t=parseFloat(u.version())),n.webkit&&(t=parseFloat(i.match(/ applewebkit\/(\d+)/)[1])),n.version=t,n.isCompatible=!n.mobile&&(n.ie&&t>=6||n.gecko&&t>=10801||n.opera&&t>=9.5||n.air&&t>=1||n.webkit&&t>=522||!1),n}(),f=i.ie,b=i.webkit,k=i.gecko,a=i.opera,t=UE.utils={each:function(n,t,i){var r,f,u;if(n!=null)if(n.length===+n.length){for(r=0,f=n.length;r<f;r++)if(t.call(i,n[r],r,n)===!1)return!1}else for(u in n)if(n.hasOwnProperty(u)&&t.call(i,n[u],u,n)===!1)return!1},makeInstance:function(n){var t=new Function;return t.prototype=n,n=new t,t.prototype=null,n},extend:function(n,t,i){if(t)for(var r in t)i&&n.hasOwnProperty(r)||(n[r]=t[r]);return n},extend2:function(n){for(var r,t,u=arguments,i=1;i<u.length;i++){r=u[i];for(t in r)n.hasOwnProperty(t)||(n[t]=r[t])}return n},inherits:function(n,i){var u=n.prototype,r=t.makeInstance(i.prototype);return t.extend(r,u,!0),n.prototype=r,r.constructor=n},bind:function(n,t){return function(){return n.apply(t,arguments)}},defer:function(n,t,i){var r;return function(){i&&clearTimeout(r);r=setTimeout(n,t)}},indexOf:function(n,t,i){var r=-1;return i=this.isNumber(i)?i:0,this.each(n,function(n,u){if(u>=i&&n===t)return r=u,!1}),r},removeItem:function(n,t){for(var i=0,r=n.length;i<r;i++)n[i]===t&&(n.splice(i,1),i--)},trim:function(n){return n.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},listToMap:function(n){if(!n)return{};n=t.isArray(n)?n:n.split(",");for(var u=0,i,r={};i=n[u++];)r[i.toUpperCase()]=r[i]=1;return r},unhtml:function(n,t){return n?n.replace(t||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp);)?/g,function(n,t){return t?n:{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[n]}):""},html:function(n){return n?n.replace(/&((g|l|quo)t|amp|#39);/g,function(n){return{"&lt;":"<","&amp;":"&","&quot;":'"',"&gt;":">","&#39;":"'"}[n]}):""},cssStyleToDomStyle:function(){var n=document.createElement("div").style,t={float:n.cssFloat!=undefined?"cssFloat":n.styleFloat!=undefined?"styleFloat":"float"};return function(n){return t[n]||(t[n]=n.toLowerCase().replace(/-./g,function(n){return n.charAt(1).toUpperCase()}))}}(),loadFile:function(){function t(t,i){try{for(var u=0,r;r=n[u++];)if(r.doc===t&&r.url==(i.src||i.href))return r}catch(f){return null}}var n=[];return function(i,r,u){var e=t(i,r),s,f,o;if(e){e.ready?u&&u():e.funs.push(u);return}if(n.push({doc:i,url:r.src||r.href,funs:[u]}),!i.body){s=[];for(o in r)o!="tag"&&s.push(o+'="'+r[o]+'"');i.write("<"+r.tag+" "+s.join(" ")+" ><\/"+r.tag+">");return}if(!r.id||!i.getElementById(r.id)){f=i.createElement(r.tag);delete r.tag;for(o in r)f.setAttribute(o,r[o]);f.onload=f.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){if(e=t(i,r),e.funs.length>0){e.ready=1;for(var n;n=e.funs.pop();)n()}f.onload=f.onreadystatechange=null}};f.onerror=function(){throw Error("The load "+(r.href||r.src)+" fails,check the url settings of file ueditor.config.js ");};i.getElementsByTagName("head")[0].appendChild(f)}}}(),isEmptyObject:function(n){if(n==null)return!0;if(this.isArray(n)||this.isString(n))return n.length===0;for(var t in n)if(n.hasOwnProperty(t))return!1;return!0},fixColor:function(n,t){var r,u,i;if(/color/i.test(n)&&/rgba?/.test(t)){if(r=t.split(","),r.length>3)return"";for(t="#",u=0;i=r[u++];)i=parseInt(i.replace(/[^\d]/gi,""),10).toString(16),t+=i.length==1?"0"+i:i;t=t.toUpperCase()}return t},optCss:function(n){function r(n,t){var o;if(!n)return"";var r=n.top,u=n.bottom,i=n.left,f=n.right,e="";if(r&&i&&u&&f)e+=";"+t+":"+(r==u&&u==i&&i==f?r:r==u&&i==f?r+" "+i:i==f?r+" "+i+" "+u:r+" "+f+" "+u+" "+i)+";";else for(o in n)e+=";"+t+"-"+o+":"+n[o]+";";return e}var t,i;return n=n.replace(/(padding|margin|border)\-([^:]+):([^;]+);?/gi,function(n,r,u,f){if(f.split(" ").length==1)switch(r){case"padding":return t||(t={}),t[u]=f,"";case"margin":return i||(i={}),i[u]=f,"";case"border":return f=="initial"?"":n}return n}),n+=r(t,"padding")+r(i,"margin"),n.replace(/^[ \n\r\t;]*|[ \n\r\t]*$/,"").replace(/;([ \n\r\t]+)|\1;/g,";").replace(/(&((l|g)t|quot|#39))?;{2,}/g,function(n,t){return t?t+";;":";"})},clone:function(n,i){var u,r;i=i||{};for(r in n)n.hasOwnProperty(r)&&(u=n[r],typeof u=="object"?(i[r]=t.isArray(u)?[]:{},t.clone(n[r],i[r])):i[r]=u);return i},transUnitToPx:function(n){if(!/(pt|cm)/.test(n))return n;var t;n.replace(/([\d.]+)(\w+)/,function(i,r,u){n=r;t=u});switch(t){case"cm":n=parseFloat(n)*25;break;case"pt":n=Math.round(parseFloat(n)*96/72)}return n+(n?"px":"")},domReady:function(){function n(n){n.isReady=!0;for(var i;i=t.pop();i());}var t=[];return function(r,u){u=u||window;var f=u.document;r&&t.push(r);f.readyState==="complete"?n(f):(f.isReady&&n(f),i.ie?(function(){if(!f.isReady){try{f.documentElement.doScroll("left")}catch(t){setTimeout(arguments.callee,0);return}n(f)}}(),u.attachEvent("onload",function(){n(f)})):(f.addEventListener("DOMContentLoaded",function(){f.removeEventListener("DOMContentLoaded",arguments.callee,!1);n(f)},!1),u.addEventListener("load",function(){n(f)},!1)))}}(),cssRule:i.ie?function(n,t,i){var r,f,u;if(i=i||document,r=i.indexList?i.indexList:i.indexList={},r[n])u=i.styleSheets[r[n]];else{if(t===undefined)return"";u=i.createStyleSheet("",f=i.styleSheets.length);r[n]=f}if(t===undefined)return u.cssText;u.cssText=t||""}:function(n,t,i){i=i||document;var u=i.getElementsByTagName("head")[0],r;if(!(r=i.getElementById(n))){if(t===undefined)return"";r=i.createElement("style");r.id=n;u.appendChild(r)}if(t===undefined)return r.innerHTML;t!==""?r.innerHTML=t:u.removeChild(r)},sort:function(n,t){var i,u,r,f,e;for(t=t||function(n,t){return n.localeCompare(t)},i=0,u=n.length;i<u;i++)for(r=i,f=n.length;r<f;r++)t(n[i],n[r])>0&&(e=n[i],n[i]=n[r],n[r]=e);return n}};t.each(["String","Function","Array","Number","RegExp","Object"],function(n){UE.utils["is"+n]=function(t){return Object.prototype.toString.apply(t)=="[object "+n+"]"}});s=UE.EventBase=function(){};s.prototype={addListener:function(n,i){n=t.trim(n).split(" ");for(var u=0,r;r=n[u++];)h(this,r,!0).push(i)},removeListener:function(n,i){n=t.trim(n).split(" ");for(var u=0,r;r=n[u++];)t.removeItem(h(this,r)||[],i)},fireEvent:function(){for(var u=arguments[0],f,i,e,n,r,u=t.trim(u).split(" "),o=0;f=u[o++];){if(i=h(this,f),i)for(r=i.length;r--;)if(i[r]){if(n=i[r].apply(this,arguments),n===!0)return n;n!==undefined&&(e=n)}(n=this["on"+f.toLowerCase()])&&(e=n.apply(this,arguments))}return e}};u=e.dtd=function(){function n(n){for(var t in n)n[t.toUpperCase()]=n[t];return n}var r=t.extend2,h=n({isindex:1,fieldset:1}),a=n({input:1,button:1,select:1,textarea:1,label:1}),v=r(n({a:1}),a),c=r({iframe:1},v),e=n({hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1}),y=n({ins:1,del:1,script:1,style:1}),p=r(n({b:1,acronym:1,bdo:1,"var":1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1}),y),w=r(n({sub:1,img:1,embed:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1}),p),o=r(n({p:1}),w),b=r(n({iframe:1}),w,a),k=n({img:1,embed:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,"var":1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1}),i=r(n({a:0}),b),l=n({tr:1}),f=n({"#":1}),d=r(n({param:1}),k),u=r(n({form:1}),h,c,e,o),s=n({li:1,ol:1,ul:1}),it=n({style:1,script:1}),g=n({base:1,link:1,meta:1,title:1}),rt=r(g,it),nt=n({head:1,body:1}),ut=n({html:1}),tt=n({address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1}),ft=n({area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1});return n({$nonBodyContent:r(ut,nt,g),$block:tt,$inline:i,$inlineWithA:r(n({a:1}),i),$body:r(n({script:1,style:1}),tt),$cdata:n({script:1,style:1}),$empty:ft,$nonChild:n({iframe:1,textarea:1}),$listItem:n({dd:1,dt:1,li:1}),$list:n({ul:1,ol:1,dl:1}),$isNotEmpty:n({table:1,ul:1,ol:1,dl:1,iframe:1,area:1,base:1,col:1,hr:1,img:1,embed:1,input:1,link:1,meta:1,param:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1}),$removeEmpty:n({a:1,abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1}),$removeEmptyBlock:n({p:1,div:1}),$tableContent:n({caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1,table:1}),$notTransContent:n({pre:1,script:1,style:1,textarea:1}),html:nt,head:rt,style:f,script:f,body:u,base:{},link:{},meta:{},title:f,col:{},tr:n({td:1,th:1}),img:{},embed:{},colgroup:n({thead:1,col:1,tbody:1,tr:1,tfoot:1}),noscript:u,td:u,br:{},th:u,center:u,kbd:i,button:r(o,e),basefont:{},h5:i,h4:i,samp:i,h6:i,ol:s,h1:i,h3:i,option:f,h2:i,form:r(h,c,e,o),select:n({optgroup:1,option:1}),font:i,ins:i,menu:s,abbr:i,label:i,table:n({thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1}),code:i,tfoot:l,cite:i,li:u,input:{},iframe:u,strong:i,textarea:f,noframes:u,big:i,small:i,span:n({"#":1,br:1}),hr:i,dt:i,sub:i,optgroup:n({option:1}),param:{},bdo:i,"var":i,div:u,object:d,sup:i,dd:u,strike:i,area:{},dir:s,map:r(n({area:1,form:1,p:1}),h,y,e),applet:d,dl:n({dt:1,dd:1}),del:i,isindex:{},fieldset:r(n({legend:1}),k),thead:l,ul:s,acronym:i,b:i,a:r(n({a:1}),b),blockquote:r(n({td:1,tr:1,tbody:1,li:1}),u),caption:i,i:i,u:i,tbody:l,s:i,address:r(c,o),tt:i,legend:i,q:i,pre:r(p,v),p:r(n({a:1}),i),em:i,dfn:i})}();var l=f&&i.version<9?{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder"}:{tabindex:"tabIndex",readonly:"readOnly"},v=t.listToMap(["-webkit-box","-moz-box","block","list-item","table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption"]),n=e.domUtils={NODE_ELEMENT:1,NODE_DOCUMENT:9,NODE_TEXT:3,NODE_COMMENT:8,NODE_DOCUMENT_FRAGMENT:11,POSITION_IDENTICAL:0,POSITION_DISCONNECTED:1,POSITION_FOLLOWING:2,POSITION_PRECEDING:4,POSITION_IS_CONTAINED:8,POSITION_CONTAINS:16,fillChar:f&&i.version=="6"?"":"",keys:{8:1,46:1,16:1,17:1,18:1,37:1,38:1,39:1,40:1,13:1},getPosition:function(n,t){var i,r,u,f;if(n===t)return 0;for(r=[n],u=[t],i=n;i=i.parentNode;){if(i===t)return 10;r.push(i)}for(i=t;i=i.parentNode;){if(i===n)return 20;u.push(i)}if(r.reverse(),u.reverse(),r[0]!==u[0])return 1;for(f=-1;f++,r[f]===u[f];);for(n=r[f],t=u[f];n=n.nextSibling;)if(n===t)return 4;return 2},getNodeIndex:function(n,t){for(var i=n,r=0;i=i.previousSibling;){if(t&&i.nodeType==3){i.nodeType!=i.nextSibling.nodeType&&r++;continue}r++}return r},inDoc:function(t,i){return n.getPosition(t,i)==10},findParent:function(t,i,r){if(t&&!n.isBody(t))for(t=r?t:t.parentNode;t;){if(!i||i(t)||n.isBody(t))return i&&!i(t)&&n.isBody(t)?null:t;t=t.parentNode}return null},findParentByTagName:function(i,r,u,f){return r=t.listToMap(t.isArray(r)?r:[r]),n.findParent(i,function(n){return r[n.tagName]&&!(f&&f(n))},u)},findParents:function(t,i,r,u){for(var f=i&&(r&&r(t)||!r)?[t]:[];t=n.findParent(t,r);)f.push(t);return u?f:f.reverse()},insertAfter:function(n,t){return n.parentNode.insertBefore(t,n.nextSibling)},remove:function(n,t){var i=n.parentNode,r;if(i){if(t&&n.hasChildNodes())while(r=n.firstChild)i.insertBefore(r,n);i.removeChild(n)}return n},getNextDomNode:function(n,t,i,r){return c(n,"firstChild","nextSibling",t,i,r)},isBookmarkNode:function(n){return n.nodeType==1&&n.id&&/^_baidu_bookmark_/i.test(n.id)},getWindow:function(n){var t=n.ownerDocument||n;return t.defaultView||t.parentWindow},getCommonAncestor:function(n,t){if(n===t)return n;for(var u=[n],f=[t],i=n,r=-1;i=i.parentNode;){if(i===t)return i;u.push(i)}for(i=t;i=i.parentNode;){if(i===n)return i;f.push(i)}for(u.reverse(),f.reverse();r++,u[r]===f[r];);return r==0?null:u[r-1]},clearEmptySibling:function(t,i,r){function u(t,i){for(var r;t&&!n.isBookmarkNode(t)&&(n.isEmptyInlineElement(t)||!new RegExp("[^\t\n\r"+n.fillChar+"]").test(t.nodeValue));)r=t[i],n.remove(t),t=r}i||u(t.nextSibling,"nextSibling");r||u(t.previousSibling,"previousSibling")},split:function(t,r){var e=t.ownerDocument,o,u,f;return i.ie&&r==t.nodeValue.length?(o=e.createTextNode(""),n.insertAfter(t,o)):(u=t.splitText(r),i.ie8&&(f=e.createTextNode(""),n.insertAfter(u,f),n.remove(f)),u)},isWhitespace:function(t){return!new RegExp("[^ \t\n\r"+n.fillChar+"]").test(t.nodeValue)},getXY:function(n){for(var t=0,i=0;n.offsetParent;)i+=n.offsetTop,t+=n.offsetLeft,n=n.offsetParent;return{x:t,y:i}},on:function(n,i,r){var o=t.isArray(i)?i:[i],f=o.length,u,e;if(f)while(f--)i=o[f],n.addEventListener?n.addEventListener(i,r,!1):(r._d||(r._d={els:[]}),u=i+r.toString(),e=t.indexOf(r._d.els,n),r._d[u]&&e!=-1||(e==-1&&r._d.els.push(n),r._d[u]||(r._d[u]=function(n){return r.call(n.srcElement,n||window.event)}),n.attachEvent("on"+i,r._d[u])));n=null},un:function(n,i,r){var o=t.isArray(i)?i:[i],f=o.length,u,e;if(f)while(f--)if(i=o[f],n.removeEventListener)n.removeEventListener(i,r,!1);else{u=i+r.toString();try{n.detachEvent("on"+i,r._d?r._d[u]:r)}catch(s){}r._d&&r._d[u]&&(e=t.indexOf(r._d.els,n),e!=-1&&r._d.els.splice(e,1),r._d.els.length==0&&delete r._d[u])}},isSameElement:function(t,i){var h,e,r,u,o,c,s;if(t.tagName!=i.tagName||(h=t.attributes,e=i.attributes,!f&&h.length!=e.length))return!1;for(o=0,c=0,s=0;r=h[s++];){if(r.nodeName=="style")if(r.specified&&o++,n.isSameStyle(t,i))continue;else return!1;if(f)if(r.specified)o++,u=e.getNamedItem(r.nodeName);else continue;else u=i.attributes[r.nodeName];if(!u.specified||r.nodeValue!=u.nodeValue)return!1}if(f){for(s=0;u=e[s++];)u.specified&&c++;if(o!=c)return!1}return!0},isSameStyle:function(n,r){var u=n.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":"),f=r.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":"),e,o,s;if(i.opera){if(u=n.style,f=r.style,u.length!=f.length)return!1;for(e in u)if(!/^(\d+|csstext)$/i.test(e)&&u[e]!=f[e])return!1;return!0}if(!u||!f)return u==f;if(u=u.split(";"),f=f.split(";"),u.length!=f.length)return!1;for(o=0;s=u[o++];)if(t.indexOf(f,s)==-1)return!1;return!0},isBlockElm:function(t){return t.nodeType==1&&(u.$block[t.tagName]||v[n.getComputedStyle(t,"display")])&&!u.$nonChild[t.tagName]},isBody:function(n){return n&&n.nodeType==1&&n.tagName.toLowerCase()=="body"},breakParent:function(t,i){var r,f=t,o=t,u,e;do{for(f=f.parentNode,u?(r=f.cloneNode(!1),r.appendChild(u),u=r,r=f.cloneNode(!1),r.appendChild(e),e=r):(u=f.cloneNode(!1),e=u.cloneNode(!1));r=o.previousSibling;)u.insertBefore(r,u.firstChild);while(r=o.nextSibling)e.appendChild(r);o=f}while(i!==f);return r=i.parentNode,r.insertBefore(u,i),r.insertBefore(e,i),r.insertBefore(t,e),n.remove(i),t},isEmptyInlineElement:function(t){if(t.nodeType!=1||!u.$removeEmpty[t.tagName])return 0;for(t=t.firstChild;t;){if(n.isBookmarkNode(t)||t.nodeType==1&&!n.isEmptyInlineElement(t)||t.nodeType==3&&!n.isWhitespace(t))return 0;t=t.nextSibling}return 1},trimWhiteTextNode:function(t){function i(i){for(var r;(r=t[i])&&r.nodeType==3&&n.isWhitespace(r);)t.removeChild(r)}i("firstChild");i("lastChild")},mergeChild:function(i,r,u){for(var e,s,o,h=n.getElementsByTagName(i,i.tagName.toLowerCase()),c=0,f;f=h[c++];)if(f.parentNode&&!n.isBookmarkNode(f)){if(f.tagName.toLowerCase()=="span"){if(i===f.parentNode&&(n.trimWhiteTextNode(i),i.childNodes.length==1)){i.style.cssText=f.style.cssText+";"+i.style.cssText;n.remove(f,!0);continue}if(f.style.cssText=i.style.cssText+";"+f.style.cssText,u&&(e=u.style,e))for(e=e.split(";"),s=0;o=e[s++];)f.style[t.cssStyleToDomStyle(o.split(":")[0])]=o.split(":")[1];n.isSameStyle(f,i)&&n.remove(f,!0);continue}n.isSameElement(i,f)&&n.remove(f,!0)}},getElementsByTagName:function(i,r,u){var o,f,s,h,c,l,e;for(u&&t.isString(u)&&(o=u,u=function(t){return n.hasClass(t,o)}),r=t.trim(r).replace(/[ ]{2,}/g," ").split(" "),f=[],s=0;h=r[s++];)for(c=i.getElementsByTagName(h),l=0;e=c[l++];)(!u||u(e))&&f.push(e);return f},mergeToParent:function(t){for(var i=t.parentNode;i&&u.$removeEmpty[i.tagName];){if(i.tagName==t.tagName||i.tagName=="A"){if(n.trimWhiteTextNode(i),i.tagName=="SPAN"&&!n.isSameStyle(i,t)||i.tagName=="A"&&t.tagName=="SPAN")if(i.childNodes.length>1||i!==t.parentNode){t.style.cssText=i.style.cssText+";"+t.style.cssText;i=i.parentNode;continue}else i.style.cssText+=";"+t.style.cssText,i.tagName=="A"&&(i.style.textDecoration="underline");if(i.tagName!="A"){i===t.parentNode&&n.remove(t,!0);break}}i=i.parentNode}},mergeSibling:function(t,i,r){function u(t,i,r){var u;if((u=r[t])&&!n.isBookmarkNode(u)&&u.nodeType==1&&n.isSameElement(r,u)){while(u.firstChild)i=="firstChild"?r.insertBefore(u.lastChild,r.firstChild):r.appendChild(u.firstChild);n.remove(u)}}i||u("previousSibling","firstChild",t);r||u("nextSibling","lastChild",t)},unSelectable:f||i.opera?function(n){n.onselectstart=function(){return!1};n.onclick=n.onkeyup=n.onkeydown=function(){return!1};n.unselectable="on";n.setAttribute("unselectable","on");for(var i=0,t;t=n.all[i++];)switch(t.tagName.toLowerCase()){case"iframe":case"textarea":case"input":case"select":break;default:t.unselectable="on";n.setAttribute("unselectable","on")}}:function(n){n.style.MozUserSelect=n.style.webkitUserSelect=n.style.KhtmlUserSelect="none"},removeAttributes:function(n,r){r=t.isArray(r)?r:t.trim(r).replace(/[ ]{2,}/g," ").split(" ");for(var f=0,u;u=r[f++];){u=l[u]||u;switch(u){case"className":n[u]="";break;case"style":n.style.cssText="";n.getAttributeNode("style")!=null&&(i.ie||n.removeAttributeNode(n.getAttributeNode("style")))}n.removeAttribute(u)}},createElement:function(t,i,r){return n.setAttributes(t.createElement(i),r)},setAttributes:function(n,t){var i,r;for(i in t)if(t.hasOwnProperty(i)){r=t[i];switch(i){case"class":n.className=r;break;case"style":n.style.cssText=n.style.cssText+";"+r;break;case"innerHTML":n[i]=r;break;case"value":n.value=r;break;default:n.setAttribute(l[i]||i,r)}}return n},getComputedStyle:function(r,f){var e,o,s;if("width height top left".indexOf(f)>-1)return r["offset"+f.replace(/^\w/,function(n){return n.toUpperCase()})]+"px";if(r.nodeType==3&&(r=r.parentNode),i.ie&&i.version<9&&f=="font-size"&&!r.style.fontSize&&!u.$empty[r.tagName]&&!u.$nonChild[r.tagName])return e=r.ownerDocument.createElement("span"),e.style.cssText="padding:0;border:0;font-family:simsun;",e.innerHTML=".",r.appendChild(e),o=e.offsetHeight,r.removeChild(e),e=null,o+"px";try{s=n.getStyle(r,f)||(window.getComputedStyle?n.getWindow(r).getComputedStyle(r,"").getPropertyValue(f):(r.currentStyle||r.style)[t.cssStyleToDomStyle(f)])}catch(h){return""}return t.transUnitToPx(t.fixColor(f,s))},removeClasses:function(i,r){r=t.isArray(r)?r:t.trim(r).replace(/[ ]{2,}/g," ").split(" ");for(var e=0,f,u=i.className;f=r[e++];)u=u.replace(new RegExp("\\b"+f+"\\b"),"");u=t.trim(u).replace(/[ ]{2,}/g," ");u?i.className=u:n.removeAttributes(i,["class"])},addClass:function(n,i){if(n){i=t.trim(i).replace(/[ ]{2,}/g," ").split(" ");for(var u=0,r,f=n.className;r=i[u++];)new RegExp("\\b"+r+"\\b").test(f)||(n.className+=" "+r)}},hasClass:function(n,i){if(t.isRegExp(i))return i.test(n.className);i=t.trim(i).replace(/[ ]{2,}/g," ").split(" ");for(var r=0,u,f=n.className;u=i[r++];)if(!new RegExp("\\b"+u+"\\b","i").test(f))return!1;return r-1==i.length},preventDefault:function(n){n.preventDefault?n.preventDefault():n.returnValue=!1},removeStyle:function(r,u){i.ie?r.style.cssText=r.style.cssText.replace(new RegExp(u+"[^:]*:[^;]+;?","ig"),""):r.style.removeProperty?r.style.removeProperty(u):r.style.removeAttribute(t.cssStyleToDomStyle(u));r.style.cssText||n.removeAttributes(r,["style"])},getStyle:function(n,i){var r=n.style[t.cssStyleToDomStyle(i)];return t.fixColor(i,r)},setStyle:function(n,i,r){n.style[t.cssStyleToDomStyle(i)]=r;t.trim(n.style.cssText)||this.removeAttributes(n,"style")},setStyles:function(t,i){for(var r in i)i.hasOwnProperty(r)&&n.setStyle(t,r,i[r])},removeDirtyAttr:function(n){for(var i=0,t,r=n.getElementsByTagName("*");t=r[i++];)t.removeAttribute("_moz_dirty");n.removeAttribute("_moz_dirty")},getChildCount:function(n,t){var r=0,i=n.firstChild;for(t=t||function(){return 1};i;)t(i)&&r++,i=i.nextSibling;return r},isEmptyNode:function(t){return!t.firstChild||n.getChildCount(t,function(t){return!n.isBr(t)&&!n.isBookmarkNode(t)&&!n.isWhitespace(t)})==0},clearSelectedArr:function(t){for(var i;i=t.pop();)n.removeAttributes(i,["class"])},scrollToView:function(t,i,r){var s=function(){var n=i.document,t=n.compatMode=="CSS1Compat";return{width:(t?n.documentElement.clientWidth:n.body.clientWidth)||0,height:(t?n.documentElement.clientHeight:n.body.clientHeight)||0}},h=function(n){if("pageXOffset"in n)return{x:n.pageXOffset||0,y:n.pageYOffset||0};var t=n.document;return{x:t.documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0}},e=s().height,u=e*-1+r,o,f;u+=t.offsetHeight||0;o=n.getXY(t);u+=o.y;f=h(i).y;(u>f||u<f-e)&&i.scrollTo(0,u+(u<0?-20:20))},isBr:function(n){return n.nodeType==1&&n.tagName=="BR"},isFillChar:function(t,i){return t.nodeType==3&&!t.nodeValue.replace(new RegExp((i?"^":"")+n.fillChar),"").length},isStartInblock:function(t){var r=t.cloneRange(),o=0,i=r.startContainer,f,u,e;if(i.nodeType==1&&i.childNodes[r.startOffset])for(i=i.childNodes[r.startOffset],u=i.previousSibling;u&&n.isFillChar(u);)i=u,u=u.previousSibling;for(this.isFillChar(i,!0)&&r.startOffset==1&&(r.setStartBefore(i),i=r.startContainer);i&&n.isFillChar(i);)f=i,i=i.previousSibling;for(f&&(r.setStartBefore(f),i=r.startContainer),i.nodeType==1&&n.isEmptyNode(i)&&r.startOffset==1&&r.setStart(i,0).collapse(!0);!r.startOffset;){if(i=r.startContainer,n.isBlockElm(i)||n.isBody(i)){o=1;break}if(u=r.startContainer.previousSibling,u){while(u&&n.isFillChar(u))e=u,u=u.previousSibling;e?r.setStartBefore(e):r.setStartBefore(r.startContainer)}else r.setStartBefore(r.startContainer)}return o&&!n.isBody(r.startContainer)?1:0},isEmptyBlock:function(t,r){if(r=r||new RegExp("[ \t\r\n"+n.fillChar+"]","g"),t[i.ie?"innerText":"textContent"].replace(r,"").length>0)return 0;for(var f in u.$isNotEmpty)if(t.getElementsByTagName(f).length)return 0;return 1},setViewportOffset:function(n,t){var f=parseInt(n.style.left)|0,e=parseInt(n.style.top)|0,i=n.getBoundingClientRect(),r=t.left-i.left,u=t.top-i.top;r&&(n.style.left=f+r+"px");u&&(n.style.top=e+u+"px")},fillNode:function(t,r){var u=i.ie?t.createTextNode(n.fillChar):t.createElement("br");r.innerHTML="";r.appendChild(u)},moveChild:function(n,t,i){while(n.firstChild)i&&t.firstChild?t.insertBefore(n.lastChild,t.firstChild):t.appendChild(n.firstChild)},hasNoAttributes:function(n){return i.ie?/^<\w+\s*?>/.test(n.outerHTML):n.attributes.length==0},isCustomeNode:function(n){return n.nodeType==1&&n.getAttribute("_ue_custom_node_")},isTagNode:function(n,t){return n.nodeType==1&&new RegExp(n.tagName,"i").test(t)},filterNodeList:function(n,i,r){var u=[],f;return t.isFunction(i)||(f=i,i=function(n){return t.indexOf(t.isArray(f)?f:f.split(" "),n.tagName.toLowerCase())!=-1}),t.each(n,function(n){i(n)&&u.push(n)}),u.length==0?null:u.length==1||!r?u[0]:u},isInNodeEndBoundary:function(n,t){var i=n.startContainer;if(i.nodeType==3&&n.startOffset!=i.nodeValue.length||i.nodeType==1&&n.startOffset!=i.childNodes.length)return 0;while(i!==t){if(i.nextSibling)return 0;i=i.parentNode}return 1},isBoundaryNode:function(t,i){for(var r;!n.isBody(t);)if(r=t,t=t.parentNode,r!==t[i])return!1;return!0}},o=new RegExp(n.fillChar,"g");(function(){function p(n){n.collapsed=n.startContainer&&n.endContainer&&n.startContainer===n.endContainer&&n.startOffset==n.endOffset}function l(n){return!n.collapsed&&n.startContainer.nodeType==1&&n.startContainer===n.endContainer&&n.endOffset-n.startOffset==1}function a(t,i,r,f){return i.nodeType==1&&(u.$empty[i.tagName]||u.$nonChild[i.tagName])&&(r=n.getNodeIndex(i)+(t?0:1),i=i.parentNode),t?(f.startContainer=i,f.startOffset=r,f.endContainer||f.collapse(!0)):(f.endContainer=i,f.endOffset=r,f.startContainer||f.collapse(!1)),p(f),f}function h(t,i){var r=t.startContainer,o=t.endContainer,s=t.startOffset,w=t.endOffset,l=t.document,b=l.createDocumentFragment(),k,d,f,y,h,p;if(r.nodeType==1&&(r=r.childNodes[s]||(k=r.appendChild(l.createTextNode("")))),o.nodeType==1&&(o=o.childNodes[w]||(d=o.appendChild(l.createTextNode("")))),r===o&&r.nodeType==3)return b.appendChild(l.createTextNode(r.substringData(s,w-s))),i&&(r.deleteData(s,w-s),t.collapse(!0)),b;var u,a,e=b,c=n.findParents(r,!0),v=n.findParents(o,!0);for(f=0;c[f]==v[f];)f++;for(h=f;y=c[h];h++){for(u=y.nextSibling,y==r?k||(t.startContainer.nodeType==3?(e.appendChild(l.createTextNode(r.nodeValue.slice(s))),i&&r.deleteData(s,r.nodeValue.length-s)):e.appendChild(i?r:r.cloneNode(!0))):(a=y.cloneNode(!1),e.appendChild(a));u;){if(u===o||u===v[h])break;y=u.nextSibling;e.appendChild(i?u:u.cloneNode(!0));u=y}e=a}for(e=b,c[f]||(e.appendChild(c[f-1].cloneNode(!1)),e=e.firstChild),h=f;p=v[h];h++){if(u=p.previousSibling,p==o?d||t.endContainer.nodeType!=3||(e.appendChild(l.createTextNode(o.substringData(0,w))),i&&o.deleteData(0,w)):(a=p.cloneNode(!1),e.appendChild(a)),h!=f||!c[f])while(u){if(u===r)break;p=u.previousSibling;e.insertBefore(i?u:u.cloneNode(!0),e.firstChild);u=p}e=a}return i&&t.setStartBefore(v[f]?c[f]?v[f]:c[f-1]:v[f-1]).collapse(!0),k&&n.remove(k),d&&n.remove(d),b}function y(t,u){try{if(r&&n.inDoc(r,t))if(r.nodeValue.replace(o,"").length)r.nodeValue=r.nodeValue.replace(o,"");else{var f=r.parentNode;for(n.remove(r);f&&n.isEmptyInlineElement(f)&&(i.safari?!(n.getPosition(f,u)&n.POSITION_CONTAINS):!f.contains(u));)r=f.parentNode,n.remove(f),f=r}}catch(e){}}function f(t,i){var r;for(t=t[i];t&&n.isFillChar(t);)r=t[i],n.remove(t),t=r}var c=0,s=n.fillChar,r,v=e.Range=function(n){var t=this;t.startContainer=t.startOffset=t.endContainer=t.endOffset=null;t.document=n;t.collapsed=!0};v.prototype={cloneContents:function(){return this.collapsed?null:h(this,0)},deleteContents:function(){var t;return this.collapsed||h(this,1),i.webkit&&(t=this.startContainer,t.nodeType!=3||t.nodeValue.length||(this.setStartBefore(t).collapse(!0),n.remove(t))),this},extractContents:function(){return this.collapsed?null:h(this,2)},setStart:function(n,t){return a(!0,n,t,this)},setEnd:function(n,t){return a(!1,n,t,this)},setStartAfter:function(t){return this.setStart(t.parentNode,n.getNodeIndex(t)+1)},setStartBefore:function(t){return this.setStart(t.parentNode,n.getNodeIndex(t))},setEndAfter:function(t){return this.setEnd(t.parentNode,n.getNodeIndex(t)+1)},setEndBefore:function(t){return this.setEnd(t.parentNode,n.getNodeIndex(t))},setStartAtFirst:function(n){return this.setStart(n,0)},setStartAtLast:function(n){return this.setStart(n,n.nodeType==3?n.nodeValue.length:n.childNodes.length)},setEndAtFirst:function(n){return this.setEnd(n,0)},setEndAtLast:function(n){return this.setEnd(n,n.nodeType==3?n.nodeValue.length:n.childNodes.length)},selectNode:function(n){return this.setStartBefore(n).setEndAfter(n)},selectNodeContents:function(n){return this.setStart(n,0).setEndAtLast(n)},cloneRange:function(){var n=this;return new v(n.document).setStart(n.startContainer,n.startOffset).setEnd(n.endContainer,n.endOffset)},collapse:function(n){var t=this;return n?(t.endContainer=t.startContainer,t.endOffset=t.startOffset):(t.startContainer=t.endContainer,t.startOffset=t.endOffset),t.collapsed=!0,t},shrinkBoundary:function(t){function f(t){return t.nodeType==1&&!n.isBookmarkNode(t)&&!u.$empty[t.tagName]&&!u.$nonChild[t.tagName]}for(var i=this,r,e=i.collapsed;i.startContainer.nodeType==1&&(r=i.startContainer.childNodes[i.startOffset])&&f(r);)i.setStart(r,0);if(e)return i.collapse(!0);if(!t)while(i.endContainer.nodeType==1&&i.endOffset>0&&(r=i.endContainer.childNodes[i.endOffset-1])&&f(r))i.setEnd(r,r.childNodes.length);return i},getCommonAncestor:function(t,i){var u=this,r=u.startContainer,f=u.endContainer;return r===f?t&&l(this)&&(r=r.childNodes[u.startOffset],r.nodeType==1)?r:i&&r.nodeType==3?r.parentNode:r:n.getCommonAncestor(r,f)},trimBoundary:function(t){var f;this.txtToElmBoundary();var u=this.startContainer,i=this.startOffset,e=this.collapsed,r=this.endContainer;return u.nodeType==3&&(i==0?this.setStartBefore(u):i>=u.nodeValue.length?this.setStartAfter(u):(f=n.split(u,i),u===r?this.setEnd(f,this.endOffset-i):u.parentNode===r&&(this.endOffset+=1),this.setStartBefore(f)),e)?this.collapse(!0):(t||(i=this.endOffset,r=this.endContainer,r.nodeType==3&&(i==0?this.setEndBefore(r):(i<r.nodeValue.length&&n.split(r,i),this.setEndAfter(r)))),this)},txtToElmBoundary:function(){function n(n,t){var i=n[t+"Container"],r=n[t+"Offset"];i.nodeType==3&&(r?r>=i.nodeValue.length&&n["set"+t.replace(/(\w)/,function(n){return n.toUpperCase()})+"After"](i):n["set"+t.replace(/(\w)/,function(n){return n.toUpperCase()})+"Before"](i))}return this.collapsed||(n(this,"start"),n(this,"end")),this},insertNode:function(n){var t=n,r=1;n.nodeType==11&&(t=n.firstChild,r=n.childNodes.length);this.trimBoundary(!0);var i=this.startContainer,f=this.startOffset,u=i.childNodes[f];return u?i.insertBefore(n,u):i.appendChild(n),t.parentNode===this.endContainer&&(this.endOffset=this.endOffset+r),this.setStartBefore(t)},setCursor:function(n,t){return this.collapse(!n).select(t)},createBookmark:function(n,t){var i,r=this.document.createElement("span");return r.style.cssText="display:none;line-height:0px;",r.appendChild(this.document.createTextNode("")),r.id="_baidu_bookmark_start_"+(t?"":c++),this.collapsed||(i=r.cloneNode(!0),i.id="_baidu_bookmark_end_"+(t?"":c++)),this.insertNode(r),i&&this.collapse().insertNode(i).setEndBefore(i),this.setStartAfter(r),{start:n?r.id:r,end:i?n?i.id:i:null,id:n}},moveToBookmark:function(t){var r=t.id?this.document.getElementById(t.start):t.start,i=t.end&&t.id?this.document.getElementById(t.end):t.end;return this.setStartBefore(r),n.remove(r),i?(this.setEndBefore(i),n.remove(i)):this.collapse(!0),this},enlarge:function(t,i){var e=n.isBody,u,r,f=this.document.createTextNode("");if(t){for(r=this.startContainer,r.nodeType==1?r.childNodes[this.startOffset]?u=r=r.childNodes[this.startOffset]:(r.appendChild(f),u=r=f):u=r;;){if(n.isBlockElm(r)){for(r=u;(u=r.previousSibling)&&!n.isBlockElm(u);)r=u;this.setStartBefore(r);break}u=r;r=r.parentNode}for(r=this.endContainer,r.nodeType==1?((u=r.childNodes[this.endOffset])?r.insertBefore(f,u):r.appendChild(f),u=r=f):u=r;;){if(n.isBlockElm(r)){for(r=u;(u=r.nextSibling)&&!n.isBlockElm(u);)r=u;this.setEndAfter(r);break}u=r;r=r.parentNode}f.parentNode===this.endContainer&&this.endOffset--;n.remove(f)}if(!this.collapsed){while(this.startOffset==0){if(i&&i(this.startContainer))break;if(e(this.startContainer))break;this.setStartBefore(this.startContainer)}while(this.endOffset==(this.endContainer.nodeType==1?this.endContainer.childNodes.length:this.endContainer.nodeValue.length)){if(i&&i(this.endContainer))break;if(e(this.endContainer))break;this.setEndAfter(this.endContainer)}}return this},adjustmentBoundary:function(){if(!this.collapsed){while(!n.isBody(this.startContainer)&&this.startOffset==this.startContainer[this.startContainer.nodeType==3?"nodeValue":"childNodes"].length&&this.startContainer[this.startContainer.nodeType==3?"nodeValue":"childNodes"].length)this.setStartAfter(this.startContainer);while(!n.isBody(this.endContainer)&&!this.endOffset&&this.endContainer[this.endContainer.nodeType==3?"nodeValue":"childNodes"].length)this.setEndBefore(this.endContainer)}return this},applyInlineStyle:function(t,i,r){var p,f,s,w,b,k,v;if(this.collapsed)return this;this.trimBoundary().enlarge(!1,function(t){return t.nodeType==1&&n.isBlockElm(t)}).adjustmentBoundary();for(var c=this.createBookmark(),l=c.end,a=function(t){return t.nodeType==1?t.tagName.toLowerCase()!="br":!n.isWhitespace(t)},o=n.getNextDomNode(c.start,!1,a),e,y,h=this.cloneRange();o&&n.getPosition(o,l)&n.POSITION_PRECEDING;)if(o.nodeType==3||u[t][o.tagName]){for(h.setStartBefore(o),e=o;e&&(e.nodeType==3||u[t][e.tagName])&&e!==l;)y=e,e=n.getNextDomNode(e,e.nodeType==1,null,function(n){return u[t][n.tagName]});if(p=h.setEndAfter(y).extractContents(),r&&r.length>0){for(w=s=r[0].cloneNode(!1),b=1;k=r[b++];)s.appendChild(k.cloneNode(!1)),s=s.firstChild;f=s}else f=h.document.createElement(t);if(i&&n.setAttributes(f,i),f.appendChild(p),h.insertNode(r?w:f),t=="span"&&i.style&&/text\-decoration/.test(i.style)&&(v=n.findParentByTagName(f,"a",!0))?(n.setAttributes(v,i),n.remove(f,!0),f=v):(n.mergeSibling(f),n.clearEmptySibling(f)),n.mergeChild(f,i),o=n.getNextDomNode(f,!1,a),n.mergeToParent(f),e===l)break}else o=n.getNextDomNode(o,!0,a);return this.moveToBookmark(c)},removeInlineStyle:function(i){var r,u,f,s,o,e,h;if(this.collapsed)return this;for(i=t.isArray(i)?i:[i],this.shrinkBoundary().adjustmentBoundary(),r=this.startContainer,u=this.endContainer;;){if(r.nodeType==1){if(t.indexOf(i,r.tagName.toLowerCase())>-1)break;if(r.tagName.toLowerCase()=="body"){r=null;break}}r=r.parentNode}for(;;){if(u.nodeType==1){if(t.indexOf(i,u.tagName.toLowerCase())>-1)break;if(u.tagName.toLowerCase()=="body"){u=null;break}}u=u.parentNode}for(f=this.createBookmark(),r&&(o=this.cloneRange().setEndBefore(f.start).setStartBefore(r),s=o.extractContents(),o.insertNode(s),n.clearEmptySibling(r,!0),r.parentNode.insertBefore(f.start,r)),u&&(o=this.cloneRange().setStartAfter(f.end).setEndAfter(u),s=o.extractContents(),o.insertNode(s),n.clearEmptySibling(u,!1,!0),u.parentNode.insertBefore(f.end,u.nextSibling)),e=n.getNextDomNode(f.start,!1,function(n){return n.nodeType==1});e&&e!==f.end;)h=n.getNextDomNode(e,!0,function(n){return n.nodeType==1}),t.indexOf(i,e.tagName.toLowerCase())>-1&&n.remove(e,!0),e=h;return this.moveToBookmark(f)},getClosedNode:function(){var i,t,n;return this.collapsed||(t=this.cloneRange().adjustmentBoundary().shrinkBoundary(),l(t)&&(n=t.startContainer.childNodes[t.startOffset],n&&n.nodeType==1&&(u.$empty[n.tagName]||u.$nonChild[n.tagName])&&(i=n))),i},select:i.ie?function(t,i){var u,l,h,e,v,a,c,o;if(this.collapsed||this.shrinkBoundary(),l=this.getClosedNode(),l&&!i){try{u=this.document.body.createControlRange();u.addElement(l);u.select()}catch(p){}return this}h=this.createBookmark();e=h.start;u=this.document.body.createTextRange();u.moveToElementText(e);u.moveStart("character",1);this.collapsed?t||this.startContainer.nodeType==3||(c=this.document.createTextNode(s),o=this.document.createElement("span"),o.appendChild(this.document.createTextNode(s)),e.parentNode.insertBefore(o,e),e.parentNode.insertBefore(c,e),y(this.document,c),r=c,f(o,"previousSibling"),f(e,"nextSibling"),u.moveStart("character",-1),u.collapse(!0)):(a=this.document.body.createTextRange(),v=h.end,a.moveToElementText(v),u.setEndPoint("EndToEnd",a));this.moveToBookmark(h);o&&n.remove(o);try{u.select()}catch(p){}return this}:function(t){function a(n){function t(t,i,r){t.nodeType==3&&t.nodeValue.length<i&&(n[r+"Offset"]=t.nodeValue.length)}t(n.startContainer,n.startOffset,"start");t(n.endContainer,n.endOffset,"end")}var l=n.getWindow(this.document),c=l.getSelection(),e,o,h,u;if(i.gecko?this.document.body.focus():l.focus(),c){if(c.removeAllRanges(),this.collapsed&&!t&&(o=this.startContainer,u=o,o.nodeType==1&&(u=o.childNodes[this.startOffset]),o.nodeType==3&&this.startOffset||(u?u.previousSibling&&u.previousSibling.nodeType==3:o.lastChild&&o.lastChild.nodeType==3)||(e=this.document.createTextNode(s),this.insertNode(e),y(this.document,e),f(e,"previousSibling"),f(e,"nextSibling"),r=e,this.setStart(e,i.webkit?1:0).collapse(!0))),h=this.document.createRange(),this.collapsed&&i.opera&&this.startContainer.nodeType==1)if(u=this.startContainer.childNodes[this.startOffset],u){while(u&&n.isBlockElm(u))if(u.nodeType==1&&u.childNodes[0])u=u.childNodes[0];else break;u&&this.setStartBefore(u).collapse(!0)}else u=this.startContainer.lastChild,u&&n.isBr(u)&&this.setStartBefore(u).collapse(!0);a(this);h.setStart(this.startContainer,this.startOffset);h.setEnd(this.endContainer,this.endOffset);c.addRange(h)}return this},scrollToView:function(t,i){t=t?window:n.getWindow(this.document);var u=this,r=u.document.createElement("span");return r.innerHTML="&nbsp;",u.cloneRange().insertNode(r),n.scrollToView(r,t,i),n.remove(r),u},inFillChar:function(){var t=this.startContainer;return this.collapsed&&t.nodeType==3&&t.nodeValue.replace(new RegExp("^"+n.fillChar),"").length+1==t.nodeValue.length?!0:!1},createAddress:function(t,i){function f(t){for(var e,s,u,f=t?r.startContainer:r.endContainer,l=n.findParents(f,!0,function(t){return!n.isBody(t)}),h=[],a=0,c;c=l[a++];)h.push(n.getNodeIndex(c,i));if(e=0,i)if(f.nodeType==3){for(s=f.previousSibling;s&&s.nodeType==3;)e+=s.nodeValue.replace(o,"").length,s=s.previousSibling;e+=t?r.startOffset:r.endOffset}else if(f=f.childNodes[t?r.startOffset:r.endOffset],f)e=n.getNodeIndex(f,i);else for(f=t?r.startContainer:r.endContainer,u=f.firstChild;u;){if(n.isFillChar(u)){u=u.nextSibling;continue}if(e++,u.nodeType==3)while(u&&u.nodeType==3)u=u.nextSibling;else u=u.nextSibling}else e=t?n.isFillChar(f)?0:r.startOffset:r.endOffset;return e<0&&(e=0),h.push(e),h}var u={},r=this;return u.startAddress=f(!0),t||(u.endAddress=r.collapsed?[].concat(u.startAddress):f()),u},moveToAddress:function(n,t){function r(n,t){for(var r=i.document.body,u,f,e=0,o,s=n.length;e<s;e++)if(o=n[e],u=r,r=r.childNodes[o],!r){f=o;break}t?r?i.setStartBefore(r):i.setStart(u,f):r?i.setEndBefore(r):i.setEnd(u,f)}var i=this;return r(n.startAddress,!0),!t&&n.endAddress&&r(n.endAddress),i},equals:function(n){for(var t in this)if(this.hasOwnProperty(t)&&this[t]!==n[t])return!1;return!0},traversal:function(t,i){var e;if(this.collapsed)return this;for(var u=this.createBookmark(),f=u.end,r=n.getNextDomNode(u.start,!1,i);r&&r!==f&&n.getPosition(r,f)&n.POSITION_PRECEDING;)e=n.getNextDomNode(r,!1,i),t(r),r=e;return this.moveToBookmark(u)}}})(),function(){function o(t,i){var l=n.getNodeIndex,e,o,y,p;if(t=t.duplicate(),t.collapse(i),e=t.parentElement(),!e.hasChildNodes())return{container:e,offset:0};for(var s=e.children,r,h=t.duplicate(),a=0,v=s.length-1,c=-1,f;a<=v;)if(c=Math.floor((a+v)/2),r=s[c],h.moveToElementText(r),o=h.compareEndPoints("StartToStart",t),o>0)v=c-1;else if(o<0)a=c+1;else return{container:e,offset:l(r)};if(c==-1){if(h.moveToElementText(e),h.setEndPoint("StartToStart",t),f=h.text.replace(/(\r\n|\r)/g,"\n").length,s=e.childNodes,!f)return r=s[s.length-1],{container:r,offset:r.nodeValue.length};for(y=s.length;f>0;)f-=s[--y].nodeValue.length;return{container:s[y],offset:-f}}if(h.collapse(o>0),h.setEndPoint(o>0?"StartToStart":"EndToStart",t),f=h.text.replace(/(\r\n|\r)/g,"\n").length,!f)return u.$empty[r.tagName]||u.$nonChild[r.tagName]?{container:e,offset:l(r)+(o>0?0:1)}:{container:r,offset:o>0?0:r.childNodes.length};while(f>0)try{p=r;r=r[o>0?"previousSibling":"nextSibling"];f-=r.nodeValue.length}catch(w){return{container:e,offset:l(p)}}return{container:r,offset:o>0?-f:r.nodeValue.length+f}}function s(n,t){if(n.item)t.selectNode(n.item(0));else{var i=o(n,!0);t.setStart(i.container,i.offset);n.compareEndPoints("StartToEnd",n)!=0&&(i=o(n,!1),t.setEnd(i.container,i.offset))}return t}function t(n){var t,i;try{t=n.getNative().createRange()}catch(r){return null}return(i=t.item?t.item(0):t.parentElement(),(i.ownerDocument||i)===n.document)?t:null}var h=e.Selection=function(i){var r=this,u;if(r.document=i,f){u=n.getWindow(i).frameElement;n.on(u,"beforedeactivate",function(){r._bakIERange=r.getIERange()});n.on(u,"activate",function(){try{!t(r)&&r._bakIERange&&r._bakIERange.select()}catch(n){}r._bakIERange=null})}u=i=null};h.prototype={getNative:function(){var t=this.document;try{return t?f?t.selection:n.getWindow(t).getSelection():null}catch(i){return null}},getIERange:function(){var n=t(this);return!n&&this._bakIERange?this._bakIERange:n},cache:function(){this.clear();this._cachedRange=this.getRange();this._cachedStartElement=this.getStart();this._cachedStartElementPath=this.getStartElementPath()},getStartElementPath:function(){if(this._cachedStartElementPath)return this._cachedStartElementPath;var t=this.getStart();return t?n.findParents(t,!0,null,!0):[]},clear:function(){this._cachedStartElementPath=this._cachedRange=this._cachedStartElement=null},isFocus:function(){try{return i.ie&&t(this)||!i.ie&&this.getNative().rangeCount?!0:!1}catch(n){return!1}},getRange:function(){function e(n){for(var t=i.document.body.firstChild,r=n.collapsed;t&&t.firstChild;)n.setStart(t,0),t=t.firstChild;n.startContainer||n.setStart(i.document.body,0);r&&n.collapse(!0)}var i=this,t,o,u,h,c;if(i._cachedRange!=null)return this._cachedRange;if(t=new r.editor.dom.Range(i.document),f)if(o=i.getIERange(),o)try{s(o,t)}catch(l){e(t)}else e(t);else if(u=i.getNative(),u&&u.rangeCount)h=u.getRangeAt(0),c=u.getRangeAt(u.rangeCount-1),t.setStart(h.startContainer,h.startOffset).setEnd(c.endContainer,c.endOffset),t.collapsed&&n.isBody(t.startContainer)&&!t.startOffset&&e(t);else{if(this._bakRange&&n.inDoc(this._bakRange.startContainer,this.document))return this._bakRange;e(t)}return this._bakRange=t},getStart:function(){if(this._cachedStartElement)return this._cachedStartElement;var t=f?this.getIERange():this.getRange(),i,n,r,u;if(f){if(!t)return this.document.body.firstChild;if(t.item)return t.item(0);for(i=t.duplicate(),i.text.length>0&&i.moveStart("character",1),i.collapse(1),n=i.parentElement(),u=r=t.parentElement();r=r.parentNode;)if(r==n){n=u;break}}else if(t.shrinkBoundary(),n=t.startContainer,n.nodeType==1&&n.hasChildNodes()&&(n=n.childNodes[Math.min(n.childNodes.length-1,t.startOffset)]),n.nodeType==3)return n.parentNode;return n},getText:function(){var n,t;return this.isFocus()&&(n=this.getNative())?(t=i.ie?n.createRange():n.getRangeAt(0),i.ie?t.text:t.toString()):""},clearRange:function(){this.getNative()[i.ie?"empty":"removeAllRanges"]()}}}(),function(){function r(i,r){var u,s=this,e,f,o;if(r.textarea)if(t.isString(r.textarea)){for(e=0,o=n.getElementsByTagName(i,"textarea");f=o[e++];)if(f.id=="ueditor_textarea_"+r.options.textarea){u=f;break}}else u=r.textarea;u||(i.appendChild(u=n.createElement(document,"textarea",{name:r.options.textarea,id:"ueditor_textarea_"+r.options.textarea,style:"display:none"})),r.textarea=u);u.value=r.hasContents()?r.options.allHtmlEnabled?r.getAllHtml():r.getContent(null,null,!0):""}var c=0,o,h=UE.Editor=function(n){var i=this;i.uid=c++;s.call(i);i.commands={};i.options=t.extend(t.clone(n||{}),UEDITOR_CONFIG,!0);i.shortcutkeys={};i.inputRules=[];i.outputRules=[];i.setOpt({isShow:!0,initialContent:"",initialStyle:"",autoClearinitialContent:!1,iframeCssUrl:i.options.UEDITOR_HOME_URL+"themes/iframe.css",textarea:"editorValue",focus:!1,focusInEnd:!0,autoClearEmptyNode:!0,fullscreen:!1,readonly:!1,zIndex:999,imagePopup:!0,enterTag:"p",customDomain:!1,lang:"zh-cn",langPath:i.options.UEDITOR_HOME_URL+"lang/",theme:"default",themePath:i.options.UEDITOR_HOME_URL+"themes/",allHtmlEnabled:!1,scaleEnabled:!1,tableNativeEditInFF:!1,autoSyncData:!0});t.loadFile(document,{src:i.options.langPath+i.options.lang+"/"+i.options.lang+".js",tag:"script",type:"text/javascript",defer:"defer"},function(){for(var n in UE.plugins)UE.plugins[n].call(i);i.langIsReady=!0;i.fireEvent("langReady")});UE.instants["ueditorInstant"+i.uid]=i};h.prototype={ready:function(n){var t=this;n&&(t.isReady?n.apply(t):t.addListener("ready",n))},setOpt:function(n,i){var r={};t.isString(n)?r[n]=i:r=n;t.extend(this.options,r,!0)},destroy:function(){var t=this,r,i,f,u;t.fireEvent("destroy");r=t.container.parentNode;i=t.textarea;i?i.style.display="":(i=document.createElement("textarea"),r.parentNode.insertBefore(i,r));i.style.width=t.iframe.offsetWidth+"px";i.style.height=t.iframe.offsetHeight+"px";i.value=t.getContent();i.id=t.key;r.innerHTML="";n.remove(r);f=t.key;for(u in t)t.hasOwnProperty(u)&&delete this[u];UE.delEditor(f)},render:function(r){var o=this,u=o.options,h,s,e;t.isString(r)&&(r=document.getElementById(r));r&&(h=f&&i.version<9,s=(f&&i.version<9?"":"<!DOCTYPE html>")+"<html xmlns='http://www.w3.org/1999/xhtml'"+(h?"":" class='view'")+"><head>"+(u.iframeCssUrl?"<link rel='stylesheet' type='text/css' href='"+t.unhtml(u.iframeCssUrl)+"'/>":"")+"<style type='text/css'>.view{padding:0;word-wrap:break-word;cursor:text;height:100%;}\nbody{margin:8px;font-family:Microsoft YaHei;font-size:14px;}p{margin:5px 0;}"+(u.initialStyle||"")+"<\/style><\/head><body"+(h?" class='view'":"")+"><\/body>",u.customDomain&&document.domain!=location.hostname?(s+="<script>window.parent.UE.instants['ueditorInstant"+o.uid+"']._setup(document);<\/script><\/html>",r.appendChild(n.createElement(document,"iframe",{id:"ueditor_"+o.uid,width:"100%",height:"100%",frameborder:"0",src:'javascript:void(function(){document.open();document.domain="'+document.domain+'";document.write("'+s+'");document.close();}())'}))):(u.minFrameWidth=u.initialFrameWidth?u.initialFrameWidth:u.initialFrameWidth=r.offsetWidth,u.initialFrameHeight?u.minFrameHeight=u.initialFrameHeight:u.initialFrameHeight=u.minFrameHeight=r.offsetHeight,r.style.width=u.initialFrameWidth+"px",r.style.height=u.initialFrameHeight+"px",r.style.zIndex=u.zIndex,r.innerHTML='<iframe id="ueditor_'+this.uid+'"width="100%" height="100%" scroll="no" frameborder="0" ><\/iframe>',e=r.firstChild.contentWindow.document,e.open(),e.write(s+"<\/html>"),e.close(),o._setup(e)),r.style.overflow="hidden")},_setup:function(t){var u=this,o=u.options,h,s,c;for(f?(t.body.disabled=!0,t.body.contentEditable=!0,t.body.disabled=!1):(t.body.contentEditable=!0,t.body.spellcheck=!1),u.document=t,u.window=t.defaultView||t.parentWindow,u.iframe=u.window.frameElement,u.body=t.body,u.selection=new e.Selection(t),i.gecko&&(h=this.selection.getNative())&&h.removeAllRanges(),this._initEvents(),s=this.iframe.parentNode;!n.isBody(s);s=s.parentNode)if(s.tagName=="FORM"){if(u.form=s,u.options.autoSyncData)n.on(u.window,"blur",function(){r(s,u)});else n.on(s,"submit",function(){r(this,u)});break}o.initialContent&&(o.autoClearinitialContent?(c=u.execCommand,u.execCommand=function(){return u.fireEvent("firstBeforeExecCommand"),c.apply(u,arguments)},this._setDefaultContent(o.initialContent)):this.setContent(o.initialContent,!1,!0));n.isEmptyNode(u.body)&&(u.body.innerHTML="<p>"+(i.ie?"":"<br/>")+"<\/p>");o.focus&&setTimeout(function(){u.focus(u.options.focusInEnd);u.options.autoClearinitialContent||u._selectionChange()},0);u.container||(u.container=this.iframe.parentNode);o.fullscreen&&u.ui&&u.ui.setFullScreen(!0);try{u.document.execCommand("2D-position",!1,!1)}catch(l){}try{u.document.execCommand("enableInlineTableEditing",!1,!1)}catch(l){}try{u.document.execCommand("enableObjectResizing",!1,!1)}catch(l){}if(u._bindshortcutKeys(),u.isReady=1,u.fireEvent("ready"),o.onready&&o.onready.call(u),!i.ie)n.on(u.window,["blur","focus"],function(n){if(n.type=="blur"){u._bakRange=u.selection.getRange();try{u.selection.getNative().removeAllRanges()}catch(n){}}else try{u._bakRange&&u._bakRange.select()}catch(n){}});i.gecko&&i.version<=10902&&(u.body.contentEditable=!1,setTimeout(function(){u.body.contentEditable=!0},100),setInterval(function(){u.body.style.height=u.iframe.offsetHeight-20+"px"},100));o.isShow||u.setHide();o.readonly&&u.setDisabled()},sync:function(t){var i=this,u=t?document.getElementById(t):n.findParent(i.iframe.parentNode,function(n){return n.tagName=="FORM"},!0);u&&r(u,i)},setHeight:function(n){n!==parseInt(this.iframe.parentNode.style.height)&&(this.iframe.parentNode.style.height=n+"px");this.document.body.style.height=n-20+"px"},addshortcutkey:function(n,i){var r={};i?r[n]=i:r=n;t.extend(this.shortcutkeys,r)},_bindshortcutKeys:function(){var t=this,i=this.shortcutkeys;t.addListener("keydown",function(r,u){var h=u.keyCode||u.which,e,c,l,f,o,s;for(e in i)for(c=i[e].split(","),l=0;f=c[l++];)f=f.split(":"),o=f[0],s=f[1],(/^(ctrl)(\+shift)?\+(\d+)$/.test(o.toLowerCase())||/^(\d+)$/.test(o))&&((RegExp.$1=="ctrl"?u.ctrlKey||u.metaKey:0)&&(RegExp.$2!=""?u[RegExp.$2.slice(1)+"Key"]:1)&&h==RegExp.$3||h==RegExp.$1)&&(t.queryCommandState(e,s)!=-1&&t.execCommand(e,s),n.preventDefault(u))})},getContent:function(n,i,r,u,f){var e=this,o;return(n&&t.isFunction(n)&&(i=n,n=""),i?!i():!this.hasContents())?"":(e.fireEvent("beforegetcontent"),o=UE.htmlparser(e.body.innerHTML,u),e.filterOutputRule(o),e.fireEvent("aftergetcontent",n),o.toHtml(f))},getAllHtml:function(){var n=this,u=[],r;return n.fireEvent("getAllHtml",u),i.ie&&i.version>8&&(r="",t.each(n.document.styleSheets,function(n){r+=n.href?'<link rel="stylesheet" type="text/css" href="'+n.href+'" />':"<style>"+n.cssText+"<\/style>"}),t.each(n.document.getElementsByTagName("script"),function(n){r+=n.outerHTML})),"<html><head>"+(n.options.charset?'<meta http-equiv="Content-Type" content="text/html; charset='+n.options.charset+'"/>':"")+(r||n.document.getElementsByTagName("head")[0].innerHTML)+u.join("\n")+"<\/head><body "+(f&&i.version<9?'class="view"':"")+">"+n.getContent(null,null,!0)+"<\/body><\/html>"},getPlainTxt:function(){var i=new RegExp(n.fillChar,"g"),t=this.body.innerHTML.replace(/[\n\r]/g,"");return t=t.replace(/<(p|div)[^>]*>(<br\/?>|&nbsp;)<\/\1>/gi,"\n").replace(/<br\/?>/gi,"\n").replace(/<[^>/]+>/g,"").replace(/(\n)?<\/([^>]+)>/g,function(n,t,i){return u.$block[i]?"\n":t?t:""}),t.replace(i,"").replace(/\u00a0/g," ").replace(/&nbsp;/g," ")},getContentTxt:function(){var t=new RegExp(n.fillChar,"g");return this.body[i.ie?"innerText":"textContent"].replace(t,"").replace(/\u00a0/g," ")},setContent:function(t,f,e){function v(n){return n.tagName=="DIV"&&n.getAttribute("cdata_tag")}var s=this,c,o,l,h,a;if(s.fireEvent("beforesetcontent",t),c=UE.htmlparser(t),s.filterInputRule(c),t=c.toHtml(),s.body.innerHTML=(f?s.body.innerHTML:"")+t,s.options.enterTag=="p")if(o=this.body.firstChild,!o||o.nodeType==1&&(u.$cdata[o.tagName]||v(o)||n.isCustomeNode(o))&&o===this.body.lastChild)this.body.innerHTML="<p>"+(i.ie?"&nbsp;":"<br/>")+"<\/p>"+this.body.innerHTML;else for(h=s.document.createElement("p");o;){while(o&&(o.nodeType==3||o.nodeType==1&&u.p[o.tagName]&&!u.$cdata[o.tagName]))l=o.nextSibling,h.appendChild(o),o=l;if(h.firstChild)if(o)o.parentNode.insertBefore(h,o),h=s.document.createElement("p");else{s.body.appendChild(h);break}o=o.nextSibling}s.fireEvent("aftersetcontent");s.fireEvent("contentchange");e||s._selectionChange();s._bakRange=s._bakIERange=null;i.gecko&&(a=this.selection.getNative())&&a.removeAllRanges();s.options.autoSyncData&&s.form&&r(s.form,s)},focus:function(n){try{var t=this,i=t.selection.getRange();n?i.setStartAtLast(t.body.lastChild).setCursor(!1,!0):i.select(!0);this.fireEvent("focus")}catch(r){}},_initEvents:function(){var r=this,e=r.document,s=r.window,u,f,o;r._proxyDomEvent=t.bind(r._proxyDomEvent,r);n.on(e,["click","contextmenu","mousedown","keydown","keyup","keypress","mouseup","mouseover","mouseout","selectstart"],r._proxyDomEvent);n.on(s,["focus","blur"],r._proxyDomEvent);n.on(e,["mouseup","keydown"],function(n){n.type=="keydown"&&(n.ctrlKey||n.metaKey||n.shiftKey||n.altKey)||n.button!=2&&r._selectionChange(250,n)});u=0;f=i.ie?r.body:r.document;n.on(f,"dragstart",function(){u=1});n.on(f,i.webkit?"dragover":"drop",function(){return i.webkit?function(){clearTimeout(o);o=setTimeout(function(){var f,i,t,n,e;u||(f=r.selection,i=f.getRange(),i&&(t=i.getCommonAncestor(),t&&r.serialize&&(n=r.serialize,e=n.filter(n.transformInput(n.parseHTML(n.word(t.innerHTML)))),t.innerHTML=n.toHTML(e))));u=0},200)}:function(n){u||(n.preventDefault?n.preventDefault():n.returnValue=!1);u=0}}())},_proxyDomEvent:function(n){return this.fireEvent(n.type.replace(/^on/,""),n)},_selectionChange:function(n,t){var r=this,u=!1,f,e,s;i.ie&&i.version<9&&t&&t.type=="mouseup"&&(s=this.selection.getRange(),s.collapsed||(u=!0,f=t.clientX,e=t.clientY));clearTimeout(o);o=setTimeout(function(){var n,i;if(r.selection.getNative()){if(u&&r.selection.getNative().type=="None"){n=r.document.body.createTextRange();try{n.moveToPoint(f,e)}catch(o){n=null}}n&&(i=r.selection.getIERange,r.selection.getIERange=function(){return n});r.selection.cache();i&&(r.selection.getIERange=i);r.selection._cachedRange&&r.selection._cachedStartElement&&(r.fireEvent("beforeselectionchange"),r.fireEvent("selectionchange",!!t),r.fireEvent("afterselectionchange"),r.selection.clear())}},n||50)},_callCmdFn:function(n,t){var u=t[0].toLowerCase(),i,r;if(i=this.commands[u]||UE.commands[u],r=i&&i[n],i&&r||n!="queryCommandState"){if(r)return r.apply(this,t)}else return 0},execCommand:function(n){n=n.toLowerCase();var t=this,i,r=t.commands[n]||UE.commands[n];return!r||!r.execCommand?null:(r.notNeedUndo||t.__hasEnterExecCommand?(i=this._callCmdFn("execCommand",arguments),t._ignoreContentChange||t.fireEvent("contentchange")):(t.__hasEnterExecCommand=!0,t.queryCommandState.apply(t,arguments)!=-1&&(t.fireEvent("beforeexeccommand",n),i=this._callCmdFn("execCommand",arguments),t._ignoreContentChange||t.fireEvent("contentchange"),t.fireEvent("afterexeccommand",n)),t.__hasEnterExecCommand=!1),t._ignoreContentChange||t._selectionChange(),i)},queryCommandState:function(){return this._callCmdFn("queryCommandState",arguments)},queryCommandValue:function(){return this._callCmdFn("queryCommandValue",arguments)},hasContents:function(t){var i,r,u,f,e;if(t)for(i=0;r=t[i++];)if(this.document.getElementsByTagName(r).length>0)return!0;if(!n.isEmptyBlock(this.body))return!0;for(t=["div"],i=0;r=t[i++];)for(u=n.getElementsByTagName(this.document,r),f=0;e=u[f++];)if(n.isCustomeNode(e))return!0;return!1},reset:function(){this.fireEvent("reset")},setEnabled:function(){var n=this,t;if(n.body.contentEditable=="false"){n.body.contentEditable=!0;t=n.selection.getRange();try{t.moveToBookmark(n.lastBk);delete n.lastBk}catch(i){t.setStartAtFirst(n.body).collapse(!0)}t.select(!0);n.bkqueryCommandState&&(n.queryCommandState=n.bkqueryCommandState,delete n.bkqueryCommandState);n.fireEvent("selectionchange")}},enable:function(){return this.setEnabled()},setDisabled:function(n){var i=this;n=n?t.isArray(n)?n:[n]:[];i.body.contentEditable=="true"&&(i.lastBk||(i.lastBk=i.selection.getRange().createBookmark(!0)),i.body.contentEditable=!1,i.bkqueryCommandState=i.queryCommandState,i.queryCommandState=function(r){return t.indexOf(n,r)!=-1?i.bkqueryCommandState.apply(i,arguments):-1},i.fireEvent("selectionchange"))},disable:function(n){return this.setDisabled(n)},_setDefaultContent:function(){function n(){var t=this;t.document.getElementById("initContent")&&(t.body.innerHTML="<p>"+(f?"":"<br/>")+"<\/p>",t.removeListener("firstBeforeExecCommand focus",n),setTimeout(function(){t.focus();t._selectionChange()},0))}return function(t){var i=this;i.body.innerHTML='<p id="initContent">'+t+"<\/p>";i.addListener("firstBeforeExecCommand focus",n)}}(),setShow:function(){var n=this,t=n.selection.getRange();if(n.container.style.display=="none"){try{t.moveToBookmark(n.lastBk);delete n.lastBk}catch(i){t.setStartAtFirst(n.body).collapse(!0)}setTimeout(function(){t.select(!0)},100);n.container.style.display=""}},show:function(){return this.setShow()},setHide:function(){var n=this;n.lastBk||(n.lastBk=n.selection.getRange().createBookmark(!0));n.container.style.display="none"},hide:function(){return this.setHide()},getLang:function(n){var t=UE.I18N[this.options.lang],i,r;if(!t)throw Error("not import language file");for(n=(n||"").split("."),i=0;r=n[i++];)if(t=t[r],!t)break;return t},getContentLength:function(n,t){var i=this.getContent(!1,!1,!0).length,r,u;if(n)for(t=(t||[]).concat(["hr","img","iframe"]),i=this.getContentTxt().replace(/[\t\r\n]+/g,"").length,r=0;u=t[r++];)i+=this.document.getElementsByTagName(u).length;return i},addInputRule:function(n){this.inputRules.push(n)},filterInputRule:function(n){for(var i=0,t;t=this.inputRules[i++];)t.call(this,n)},addOutputRule:function(n){this.outputRules.push(n)},filterOutputRule:function(n){for(var i=0,t;t=this.outputRules[i++];)t.call(this,n)}};t.inherits(h,s)}();UE.ajax=function(){function r(n){var i=[];for(var t in n)t!="method"&&t!="timeout"&&t!="async"&&((typeof n[t]).toLowerCase()=="function"||(typeof n[t]).toLowerCase()=="object"||i.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t])));return i.join("&")}var n="XMLHttpRequest()",i;try{new ActiveXObject("Msxml2.XMLHTTP");n="ActiveXObject('Msxml2.XMLHTTP')"}catch(u){try{new ActiveXObject("Microsoft.XMLHTTP");n="ActiveXObject('Microsoft.XMLHTTP')"}catch(u){}}return i=new Function("return new "+n),{request:function(n,u){var f=i(),h=!1,c={method:"POST",timeout:5e3,async:!0,data:{},onsuccess:function(){},onerror:function(){}},e,o;if(typeof n=="object"&&(u=n,n=u.url),f&&n){e=u?t.extend(c,u):c;o=r(e);t.isEmptyObject(e.data)||(o+=(o?"&":"")+r(e.data));var l=setTimeout(function(){f.readyState!=4&&(h=!0,f.abort(),clearTimeout(l))},e.timeout),s=e.method.toUpperCase(),a=n+(n.indexOf("?")==-1?"?":"&")+(s=="POST"?"":o+"&noCache="+ +new Date);f.open(s,a,e.async);f.onreadystatechange=function(){if(f.readyState==4)if(h||f.status!=200)e.onerror(f);else e.onsuccess(f)};s=="POST"?(f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send(o)):f.send(null)}}}}();y=UE.filterWord=function(){function r(n){return/(class="?Mso|style="[^"]*\bmso\-|w:WordDocument|<v:)/ig.test(n)}function n(n){return n.replace(/[\d.]+\w+/g,function(n){return t.transUnitToPx(n)})}function u(r){return r.replace(/[\t\r\n]+/g,"").replace(/<!--[\s\S]*?-->/ig,"").replace(/<v:shape [^>]*>[\s\S]*?.<\/v:shape>/gi,function(t){if(i.opera)return"";try{var r=t.match(/width:([ \d.]*p[tx])/i)[1],u=t.match(/height:([ \d.]*p[tx])/i)[1],f=t.match(/src=\s*"([^"]*)"/i)[1];return'<img width="'+n(r)+'" height="'+n(u)+'" src="'+f+'" />'}catch(e){return""}}).replace(/<\/?div[^>]*>/g,"").replace(/v:\w+=(["']?)[^'"]+\1/g,"").replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|xml|meta|link|style|\w+:\w+)(?=[\s\/>]))[^>]*>/gi,"").replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1<\/strong><\/p>").replace(/\s+(class|lang|align)\s*=\s*(['"]?)([\w-]+)\2/ig,function(n,t,i,r){return t=="class"&&r=="MsoListParagraph"?n:""}).replace(/<(font|span)[^>]*>\s*<\/\1>/gi,"").replace(/(<[a-z][^>]*)\sstyle=(["'])([^\2]*?)\2/gi,function(t,i,r,u){for(var s,f,h,e=[],l=u.replace(/^\s+|\s+$/,"").replace(/&#39;/g,"'").replace(/&quot;/gi,"'").split(/;\s*/g),o=0,c;c=l[o];o++)if(h=c.split(":"),h.length==2){if(s=h[0].toLowerCase(),f=h[1].toLowerCase(),/^(background)\w*/.test(s)&&f.replace(/(initial|\s)/g,"").length==0||/^(margin)\w*/.test(s)&&/^0\w+$/.test(f))continue;switch(s){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":/<table/.test(i)||(e[o]=s.replace(/^mso-|-alt$/g,"")+":"+n(f));continue;case"horiz-align":e[o]="text-align:"+f;continue;case"vert-align":e[o]="vertical-align:"+f;continue;case"font-color":case"mso-foreground":e[o]="color:"+f;continue;case"mso-background":case"mso-highlight":e[o]="background:"+f;continue;case"mso-default-height":e[o]="min-height:"+n(f);continue;case"mso-default-width":e[o]="min-width:"+n(f);continue;case"mso-padding-between-alt":e[o]="border-collapse:separate;border-spacing:"+n(f);continue;case"text-line-through":(f=="single"||f=="double")&&(e[o]="text-decoration:line-through");continue;case"mso-zero-height":f=="yes"&&(e[o]="display:none");continue;case"margin":if(!/[1-9]/.test(f))continue}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(s)||/text\-indent|padding|margin/.test(s)&&/\-[\d.]+/.test(f))continue;e[o]=s+":"+h[1]}return i+(e.length?' style="'+e.join(";").replace(/;{2,}/g,";")+'"':"")}).replace(/[\d.]+(cm|pt)/g,function(n){return t.transUnitToPx(n)})}return function(n){return r(n)?u(n):n}}(),function(){function i(n,t,i){return n.push(c),t+(i?1:-1)}function r(n,t){for(var i=0;i<t;i++)n.push(h)}function f(n,t,e,o){switch(n.type){case"root":for(var h=0,s;s=n.children[h++];)e&&s.type=="element"&&!u.$inlineWithA[s.tagName]&&h>1&&(i(t,o,!0),r(t,o)),f(s,t,e,o);break;case"text":l(n,t);break;case"element":a(n,t,e,o);break;case"comment":v(n,t,e)}return t}function l(n,t){t.push(n.parentNode.tagName=="pre"?n.data:n.data.replace(/[ ]{2}/g," &nbsp;"))}function a(n,e,o,s){var h="",c,l,v,a;if(n.attrs){h=[];c=n.attrs;for(l in c)h.push(l+(c[l]!==undefined?'="'+t.unhtml(c[l])+'"':""));h=h.join(" ")}if(e.push("<"+n.tagName+(h?" "+h:"")+(u.$empty[n.tagName]?"/":"")+">"),o&&!u.$inlineWithA[n.tagName]&&n.tagName!="pre"&&n.children&&n.children.length&&(s=i(e,s,!0),r(e,s)),n.children&&n.children.length)for(v=0;a=n.children[v++];)o&&a.type=="element"&&!u.$inlineWithA[a.tagName]&&v>1&&(i(e,s),r(e,s)),f(a,e,o,s);u.$empty[n.tagName]||(o&&!u.$inlineWithA[n.tagName]&&n.tagName!="pre"&&n.children&&n.children.length&&(s=i(e,s),r(e,s)),e.push("<\/"+n.tagName+">"))}function v(n,t){t.push("<!--"+n.data+"-->")}function e(n,t){var i,r,u;if(n.type=="element"&&n.getAttr("id")==t)return n;if(n.children&&n.children.length)for(r=0;u=n.children[r++];)if(i=e(u,t))return i}function o(n,t,i){if(n.type=="element"&&n.tagName==t&&i.push(n),n.children&&n.children.length)for(var u=0,r;r=n.children[u++];)o(r,t,i)}function s(n,t){if(n.children&&n.children.length)for(var r=0,i;i=n.children[r];)s(i,t),i.parentNode&&(i.children&&i.children.length&&t(i),i.parentNode&&r++);else t(n)}var n=UE.uNode=function(n){this.type=n.type;this.data=n.data;this.tagName=n.tagName;this.parentNode=n.parentNode;this.attrs=n.attrs||{};this.children=n.children},h="    ",c="\n";n.createElement=function(t){return/[<>]/.test(t)?UE.htmlparser(t).children[0]:new n({type:"element",children:[],tagName:t})};n.createText=function(n){return new UE.uNode({type:"text",data:t.unhtml(n||"")})};n.prototype={toHtml:function(n){var t=[];return f(this,t,n,0),t.join("")},innerHTML:function(n){var r,i,f;if(this.type!="element"||u.$empty[this.tagName])return this;if(t.isString(n)){if(this.children)for(r=0;i=this.children[r++];)i.parentNode=null;for(this.children=[],f=UE.htmlparser(n),r=0;i=f.children[r++];)this.children.push(i),i.parentNode=this;return this}return f=new UE.uNode({type:"root",children:this.children}),f.toHtml()},innerText:function(t){if(this.type!="element"||u.$empty[this.tagName])return this;if(t){if(this.children)for(var r=0,i;i=this.children[r++];)i.parentNode=null;return this.children=[],this.appendChild(n.createText(t)),this}return this.toHtml().replace(/<[^>]+>/g,"")},getData:function(){return this.type=="element"?"":this.data},firstChild:function(){return this.children?this.children[0]:null},lastChild:function(){return this.children?this.children[this.children.length-1]:null},previousSibling:function(){for(var t=this.parentNode,n=0,i;i=t.children[n];n++)if(i===this)return n==0?null:t.children[n-1]},nextSibling:function(){for(var n=this.parentNode,t=0,i;i=n.children[t++];)if(i===this)return n.children[t]},replaceChild:function(n,t){if(this.children){n.parentNode&&n.parentNode.removeChild(n);for(var i=0,r;r=this.children[i];i++)if(r===t)return this.children.splice(i,1,n),t.parentNode=null,n.parentNode=this,n}},appendChild:function(n){if(this.type=="root"||this.type=="element"&&!u.$empty[this.tagName]){this.children||(this.children=[]);n.parentNode&&n.parentNode.removeChild(n);for(var t=0,i;i=this.children[t];t++)if(i===n){this.children.splice(t,1);break}return this.children.push(n),n.parentNode=this,n}},insertBefore:function(n,t){if(this.children){n.parentNode&&n.parentNode.removeChild(n);for(var i=0,r;r=this.children[i];i++)if(r===t)return this.children.splice(i,0,n),n.parentNode=this,n}},insertAfter:function(n,t){if(this.children){n.parentNode&&n.parentNode.removeChild(n);for(var i=0,r;r=this.children[i];i++)if(r===t)return this.children.splice(i+1,0,n),n.parentNode=this,n}},removeChild:function(n,t){var r,i,u,f;if(this.children)for(r=0;i=this.children[r];r++)if(i===n){if(this.children.splice(r,1),i.parentNode=null,t&&i.children&&i.children.length)for(u=0;f=i.children[u];u++)this.children.splice(r+u,0,f),f.parentNode=this;return i}},getAttr:function(n){return this.attrs&&this.attrs[n.toLowerCase()]},setAttr:function(n,i){if(!n){delete this.attrs;return}if(this.attrs||(this.attrs={}),t.isObject(n))for(var r in n)n[r]?this.attrs[r.toLowerCase()]=n[r]:delete this.attrs[r];else i?this.attrs[n.toLowerCase()]=i:delete this.attrs[n]},getIndex:function(){for(var i=this.parentNode,n=0,t;t=i.children[n];n++)if(t===this)return n;return-1},getNodeById:function(n){var t,i,r;if(this.children&&this.children.length)for(i=0;r=this.children[i++];)if(t=e(r,n))return t},getNodesByTagName:function(n){n=t.trim(n).replace(/[ ]{2,}/g," ").split(" ");var r=[],i=this;return t.each(n,function(n){if(i.children&&i.children.length)for(var u=0,t;t=i.children[u++];)o(t,n,r)}),r},getStyle:function(n){var i=this.getAttr("style"),r,t;return i?(r=new RegExp(n+":([^;]+)","i"),t=i.match(r),t&&t[0])?t[1]:"":""},setStyle:function(n,i){function f(n,i){var u=new RegExp(n+":([^;]+;?)","gi");r=r.replace(u,"");i&&(r=n+":"+t.unhtml(i)+";"+r)}var r=this.getAttr("style"),u;if(r||(r=""),t.isObject(n))for(u in n)f(u,n[u]);else f(n,i);this.setAttr("style",r)},traversal:function(n){return this.children&&this.children.length&&s(this,n),this}}}();p=UE.htmlparser=function(i,r){function a(n,t){if(l[n.tagName]){var i=o.createElement(l[n.tagName]);n.appendChild(i);i.appendChild(o.createText(t));n=i}else n.appendChild(o.createText(t))}function v(n,i,r){var f,e,l,h,c,s;if(f=k[i]){for(e=n;e.type!="root";){if(t.isArray(f)?t.indexOf(f,e.tagName)!=-1:f==e.tagName){n=e;l=!0;break}e=e.parentNode}l||(n=v(n,t.isArray(f)?f[0]:f))}if(h=new o({parentNode:n,type:"element",tagName:i.toLowerCase(),children:u.$empty[i]?null:[]}),r){for(c={};s=w.exec(r);)c[s[1].toLowerCase()]=t.unhtml(s[2]||s[3]||s[4]);h.attrs=c}return n.children.push(h),u.$empty[i]?n:h}function d(n,t){n.children.push(new o({type:"comment",data:t,parentNode:n}))}var c=/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)-->)|(?:([^\s\/>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>))/g,w=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,b={b:1,code:1,i:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,span:1,sub:1,img:1,sup:1,font:1,big:1,small:1,iframe:1,a:1,br:1,pre:1},p;i=i.replace(new RegExp(n.fillChar,"g"),"");r||(i=i.replace(new RegExp("[\\r\\t\\n"+(r?"":" ")+"]*<\/?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n"+(r?"":" ")+"]*","g"),function(n,t){return t&&b[t.toLowerCase()]?n.replace(/(^[\n\r]+)|([\n\r]+$)/g,""):n.replace(new RegExp("^[\\r\\n"+(r?"":" ")+"]+"),"").replace(new RegExp("[\\r\\n"+(r?"":" ")+"]+$"),"")}));for(var o=UE.uNode,k={td:"tr",tr:["tbody","thead","tfoot"],tbody:"table",th:"tr",thead:"table",tfoot:"table",caption:"table",li:["ul","ol"],dt:"dl",dd:"dl",option:"select"},l={ol:"li",ul:"li"},e,h=0,s=0,y=new o({type:"root",children:[]}),f=y;e=c.exec(i);){h=e.index;try{if(h>s&&a(f,i.slice(s,h)),e[3])f=v(f,e[3].toLowerCase(),e[4]);else if(e[1]){if(f.type!="root"){for(p=f;f.type=="element"&&f.tagName!=e[1].toLowerCase();)if(f=f.parentNode,f.type=="root"){f=p;throw"break";}f=f.parentNode}}else e[2]&&d(f,e[2])}catch(g){}s=c.lastIndex}return s<i.length&&a(f,i.slice(s)),y};w=UE.filterNode=function(){function n(i,r){var s,h,v,a,o,y,c,l,f,e;switch(i.type){case"element":if(s=r[i.tagName])if(s==="-")i.parentNode.removeChild(i);else if(t.isFunction(s))if(c=i.parentNode,l=i.getIndex(),s(i),i.parentNode){if(i.children)for(f=0;e=i.children[f];)n(e,r),e.parentNode&&f++}else for(f=l;e=c.children[f];)n(e,r),e.parentNode&&f++;else{if(h=s.$,h&&i.attrs){v={};for(o in h)a=i.getAttr(o),o=="style"&&t.isArray(h[o])&&(y=[],t.each(h[o],function(n){var t;(t=i.getStyle(n))&&y.push(n+":"+t)}),a=y.join(";")),a&&(v[o]=a);i.attrs=v}if(i.children)for(f=0;e=i.children[f];)n(e,r),e.parentNode&&f++}else if(u.$cdata[i.tagName])i.parentNode.removeChild(i);else for(c=i.parentNode,l=i.getIndex(),i.parentNode.removeChild(i,!0),f=l;e=c.children[f];)n(e,r),e.parentNode&&f++;break;case"comment":i.parentNode.removeChild(i)}}return function(i,r){var e,u,f;if(t.isEmptyObject(r))return i;for((e=r["-"])&&t.each(e.split(" "),function(n){r[n]="-"}),u=0;f=i.children[u];)n(f,r),f.parentNode&&u++;return i}}();UE.plugins.defaultfilter=function(){var n=this;n.addInputRule(function(r){var f;r.traversal(function(r){var o,s,e,h,c;if(r.type=="element"){if(!u.$cdata[r.tagName]&&n.options.autoClearEmptyNode&&u.$inline[r.tagName]&&!u.$empty[r.tagName]&&(!r.attrs||t.isEmptyObject(r.attrs))){r.firstChild()?r.tagName=="span"&&(!r.attrs||t.isEmptyObject(r.attrs))&&r.parentNode.removeChild(r,!0):r.parentNode.removeChild(r);return}switch(r.tagName){case"style":case"script":r.setAttr({cdata_tag:r.tagName,cdata_data:encodeURIComponent(r.innerText()||"")});r.tagName="div";r.removeChild(r.firstChild());break;case"a":(f=r.getAttr("href"))&&r.setAttr("_href",f);break;case"img":if((f=r.getAttr("src"))&&/^data:/.test(f)){r.parentNode.removeChild(r);break}r.setAttr("_src",r.getAttr("src"));break;case"span":i.webkit&&(f=r.getStyle("white-space"))&&/nowrap|normal/.test(f)&&(r.setStyle("white-space",""),n.options.autoClearEmptyNode&&t.isEmptyObject(r.attrs)&&r.parentNode.removeChild(r,!0));break;case"p":(f=r.getAttr("align"))&&(r.setAttr("align"),r.setStyle("text-align",f));o=r.getAttr("style");o&&(o=o.replace(/(margin|padding)[^;]+/g,""),r.setAttr("style",o));r.firstChild()||r.innerHTML(UE.browser.ie?"&nbsp;":"<br>");break;case"div":if(r.getAttr("cdata_tag"))break;if(f=r.getAttr("class"),f&&/^line number\d+/.test(f))break;for(e=UE.uNode.createElement("p");s=r.firstChild();)s.type!="text"&&UE.dom.dtd.$block[s.tagName]?e.firstChild()?(r.parentNode.insertBefore(e,r),e=UE.uNode.createElement("p")):r.parentNode.insertBefore(s,r):e.appendChild(s);e.firstChild()&&r.parentNode.insertBefore(e,r);r.parentNode.removeChild(r);break;case"dl":r.tagName="ul";break;case"dt":case"dd":r.tagName="li";break;case"li":h=r.getAttr("class");h&&/list\-/.test(h)||r.setAttr();c=r.getNodesByTagName("ol ul");UE.utils.each(c,function(n){r.parentNode.insertAfter(n,r)});break;case"td":case"th":case"caption":r.children&&r.children.length||r.appendChild(i.ie?UE.uNode.createText(" "):UE.uNode.createElement("br"))}}r.type=="comment"&&r.parentNode.removeChild(r)})});n.addOutputRule(function(i){var r;i.traversal(function(i){if(i.type=="element"){if(n.options.autoClearEmptyNode&&u.$inline[i.tagName]&&!u.$empty[i.tagName]&&(!i.attrs||t.isEmptyObject(i.attrs))){i.firstChild()?i.tagName=="span"&&(!i.attrs||t.isEmptyObject(i.attrs))&&i.parentNode.removeChild(i,!0):i.parentNode.removeChild(i);return}switch(i.tagName){case"div":(r=i.getAttr("cdata_tag"))&&(i.tagName=r,i.appendChild(UE.uNode.createText(i.getAttr("cdata_data"))),i.setAttr({cdata_tag:"",cdata_data:""}));break;case"a":(r=i.getAttr("_href"))&&i.setAttr({href:r,_href:""});break;case"img":(r=i.getAttr("_src"))&&i.setAttr({src:i.getAttr("_src"),_src:""})}}})})};UE.commands.inserthtml={execCommand:function(r,f,e){var l=this,h,b,g,c,s,w,k,nt,y,p,d,tt,it,v,a;if(f&&l.fireEvent("beforeinserthtml",f)!==!0){if(h=l.selection.getRange(),b=h.document.createElement("div"),b.style.display="inline",e||(g=UE.htmlparser(f),l.options.filterRules&&UE.filterNode(g,l.options.filterRules),l.filterInputRule(g),f=g.toHtml()),b.innerHTML=t.trim(f),!h.collapsed&&(c=h.startContainer,n.isFillChar(c)&&h.setStartBefore(c),c=h.endContainer,n.isFillChar(c)&&h.setEndAfter(c),h.txtToElmBoundary(),h.endContainer&&h.endContainer.nodeType==1&&(c=h.endContainer.childNodes[h.endOffset],c&&n.isBr(c)&&h.setEndAfter(c)),h.startOffset==0&&(c=h.startContainer,n.isBoundaryNode(c,"firstChild")&&(c=h.endContainer,h.endOffset==(c.nodeType==3?c.nodeValue.length:c.childNodes.length)&&n.isBoundaryNode(c,"lastChild")&&(l.body.innerHTML="<p>"+(i.ie?"":"<br/>")+"<\/p>",h.setStart(l.body.firstChild,0).collapse(!0)))),h.collapsed||h.deleteContents(),h.startContainer.nodeType==1&&(s=h.startContainer.childNodes[h.startOffset],s&&n.isBlockElm(s)&&(v=s.previousSibling)&&n.isBlockElm(v)))){for(h.setEnd(v,v.childNodes.length).collapse();s.firstChild;)v.appendChild(s.firstChild);n.remove(s)}if(nt=0,h.inFillChar()&&(s=h.startContainer,n.isFillChar(s)?(h.setStartBefore(s).collapse(!0),n.remove(s)):n.isFillChar(s,!0)&&(s.nodeValue=s.nodeValue.replace(o,""),h.startOffset--,h.collapsed&&h.collapse(!0))),p=n.findParentByTagName(h.startContainer,"li",!0),p){while(s=b.firstChild){while(s&&(s.nodeType==3||!n.isBlockElm(s)||s.tagName=="HR"))a=s.nextSibling,h.insertNode(s).collapse(),d=s,s=a;if(s)if(/^(ol|ul)$/i.test(s.tagName)){while(s.firstChild)d=s.firstChild,n.insertAfter(p,s.firstChild),p=p.nextSibling;n.remove(s)}else a=s.nextSibling,tt=l.document.createElement("li"),n.insertAfter(p,tt),tt.appendChild(s),d=s,s=a,p=tt}p=n.findParentByTagName(h.startContainer,"li",!0);n.isEmptyBlock(p)&&n.remove(p);d&&h.setStartAfter(d).collapse(!0).select(!0)}else{while(s=b.firstChild){if(nt){for(it=l.document.createElement("p");s&&(s.nodeType==3||!u.$block[s.tagName]);)y=s.nextSibling,it.appendChild(s),s=y;it.firstChild&&(s=it)}if(h.insertNode(s),y=s.nextSibling,!nt&&s.nodeType==n.NODE_ELEMENT&&n.isBlockElm(s)&&(w=n.findParent(s,function(t){return n.isBlockElm(t)}),w&&w.tagName.toLowerCase()!="body"&&!(u[w.tagName][s.nodeName]&&s.parentNode===w))){if(u[w.tagName][s.nodeName])for(k=s.parentNode;k!==w;)v=k,k=k.parentNode;else v=w;n.breakParent(s,v||k);v=s.previousSibling;n.trimWhiteTextNode(v);v.childNodes.length||n.remove(v);!i.ie&&(a=s.nextSibling)&&n.isBlockElm(a)&&a.lastChild&&!n.isBr(a.lastChild)&&a.appendChild(l.document.createElement("br"));nt=1}if(a=s.nextSibling,!b.firstChild&&a&&n.isBlockElm(a)){h.setStart(a,0).collapse(!0);break}h.setEndAfter(s).collapse()}if(s=h.startContainer,y&&n.isBr(y)&&n.remove(y),n.isBlockElm(s)&&n.isEmptyNode(s))if(y=s.nextSibling)n.remove(s),y.nodeType==1&&u.$block[y.tagName]&&h.setStart(y,0).collapse(!0).shrinkBoundary();else try{s.innerHTML=i.ie?n.fillChar:"<br/>"}catch(rt){h.setStartBefore(s);n.remove(s)}try{h.select(!0)}catch(rt){}}setTimeout(function(){h=l.selection.getRange();h.scrollToView(l.autoHeightEnabled,l.autoHeightEnabled?n.getXY(l.iframe).y:0);l.fireEvent("afterinserthtml")},200)}}};UE.plugins.autotypeset=function(){function o(t,i){return!t||t.nodeType==3?0:n.isBr(t)?1:t&&t.parentNode&&l[t.tagName.toLowerCase()]?f&&f.contains(t)||t.getAttribute("pagebreak")?0:i?!n.isEmptyBlock(t):n.isEmptyBlock(t,new RegExp("[\\s"+n.fillChar+"]","g")):void 0}function s(t){t.style.cssText||(n.removeAttributes(t,["style"]),t.tagName.toLowerCase()=="span"&&n.hasNoAttributes(t)&&n.remove(t,!0))}function e(t,r){var y=this,w,d,g,e,nt,b,v,l,p,a,k,tt;if(r){if(!i.pasteFilter)return;w=y.document.createElement("div");w.innerHTML=r.html}else w=y.document.body;for(d=n.getElementsByTagName(w,"*"),g=0;e=d[g++];)if(y.fireEvent("excludeNodeinautotype",e)!==!0){if(i.clearFontSize&&e.style.fontSize&&(n.removeStyle(e,"font-size"),s(e)),i.clearFontFamily&&e.style.fontFamily&&(n.removeStyle(e,"font-family"),s(e)),o(e)){if(i.mergeEmptyline)for(a=e.nextSibling,nt=n.isBr(e);o(a);){if(l=a,a=l.nextSibling,nt&&(!a||a&&!n.isBr(a)))break;n.remove(l)}if(i.removeEmptyline&&n.inDoc(e,w)&&!c[e.parentNode.tagName.toLowerCase()]){if(n.isBr(e)&&(a=e.nextSibling,a&&!n.isBr(a)))continue;n.remove(e);continue}}if(o(e,!0)&&e.tagName!="SPAN"&&(i.indent&&(e.style.textIndent=i.indentValue),i.textAlign&&(e.style.textAlign=i.textAlign)),i.removeClass&&e.className&&!h[e.className.toLowerCase()]){if(f&&f.contains(e))continue;n.removeAttributes(e,["class"])}if(i.imageBlockLine&&e.tagName.toLowerCase()=="img"&&!e.getAttribute("emotion"))if(r){b=e;switch(i.imageBlockLine){case"left":case"right":case"none":for(v=b.parentNode;u.$inline[v.tagName]||v.tagName=="A";)v=v.parentNode;if(l=v,l.tagName=="P"&&n.getStyle(l,"text-align")=="center"&&!n.isBody(l)&&n.getChildCount(l,function(t){return!n.isBr(t)&&!n.isWhitespace(t)})==1)if(p=l.previousSibling,a=l.nextSibling,p&&a&&p.nodeType==1&&a.nodeType==1&&p.tagName==a.tagName&&n.isBlockElm(p)){for(p.appendChild(l.firstChild);a.firstChild;)p.appendChild(a.firstChild);n.remove(l);n.remove(a)}else n.setStyle(l,"text-align","");n.setStyle(b,"float",i.imageBlockLine);break;case"center":if(y.queryCommandValue("imagefloat")!="center"){for(v=b.parentNode,n.setStyle(b,"float","none"),l=b;v&&n.getChildCount(v,function(t){return!n.isBr(t)&&!n.isWhitespace(t)})==1&&(u.$inline[v.tagName]||v.tagName=="A");)l=v,v=v.parentNode;k=y.document.createElement("p");n.setAttributes(k,{style:"text-align:center"});l.parentNode.insertBefore(k,l);k.appendChild(l);n.setStyle(l,"float","")}}}else tt=y.selection.getRange(),tt.selectNode(e).select(),y.execCommand("imagefloat",i.imageBlockLine);i.removeEmptyNode&&i.removeTagNames[e.tagName.toLowerCase()]&&n.hasNoAttributes(e)&&n.isEmptyBlock(e)&&n.remove(e)}r&&(r.html=w.innerHTML)}this.setOpt({autotypeset:{mergeEmptyline:!0,removeClass:!0,removeEmptyline:!1,textAlign:"left",imageBlockLine:"center",pasteFilter:!1,clearFontSize:!1,clearFontFamily:!1,removeEmptyNode:!1,removeTagNames:t.extend({div:1},u.$removeEmpty),indent:!1,indentValue:"2em"}});var r=this,i=r.options.autotypeset,h={selectTdClass:1,pagebreak:1,anchorclass:1},c={li:1},l={div:1,p:1,blockquote:1,center:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,span:1},f;i&&(i.pasteFilter&&r.addListener("beforepaste",e),r.commands.autotypeset={execCommand:function(){r.removeListener("beforepaste",e);i.pasteFilter&&r.addListener("beforepaste",e);e.call(r)}})};UE.plugins.autosubmit=function(){var t=this;t.commands.autosubmit={execCommand:function(){var t=this,i=n.findParentByTagName(t.iframe,"form",!1);if(i){if(t.fireEvent("beforesubmit")===!1)return;t.sync();i.submit()}}};t.addshortcutkey({autosubmit:"ctrl+13"})};UE.plugins.background=function(){var t=this;t.addListener("getAllHtml",function(r,u){var f=this.body,e=n.getComputedStyle(f,"background-image"),c="",o,s,h;c=e.indexOf(t.options.imagePath)>0?e.substring(e.indexOf(t.options.imagePath),e.length-1).replace(/"|\(|\)/ig,""):e!="none"?e.replace(/url\("?|"?\)/ig,""):"";o='<style type="text/css">body{';s={"background-color":n.getComputedStyle(f,"background-color")||"#ffffff","background-image":c?"url("+c+")":"","background-repeat":n.getComputedStyle(f,"background-repeat")||"","background-position":i.ie?n.getComputedStyle(f,"background-position-x")+" "+n.getComputedStyle(f,"background-position-y"):n.getComputedStyle(f,"background-position"),height:n.getComputedStyle(f,"height")};for(h in s)s.hasOwnProperty(h)&&(o+=h+":"+s[h]+";");o+="}<\/style> ";u.push(o)})};UE.commands.imagefloat={execCommand:function(t,i){var h=this,c=h.selection.getRange(),e,f,r,s,o;if(!c.collapsed&&(e=c.getClosedNode(),e&&e.tagName=="IMG"))switch(i){case"left":case"right":case"none":for(f=e.parentNode;u.$inline[f.tagName]||f.tagName=="A";)f=f.parentNode;if(r=f,r.tagName=="P"&&n.getStyle(r,"text-align")=="center"){if(!n.isBody(r)&&n.getChildCount(r,function(t){return!n.isBr(t)&&!n.isWhitespace(t)})==1)if(s=r.previousSibling,o=r.nextSibling,s&&o&&s.nodeType==1&&o.nodeType==1&&s.tagName==o.tagName&&n.isBlockElm(s)){for(s.appendChild(r.firstChild);o.firstChild;)s.appendChild(o.firstChild);n.remove(r);n.remove(o)}else n.setStyle(r,"text-align","");c.selectNode(e).select()}n.setStyle(e,"float",i=="none"?"":i);i=="none"&&n.removeAttributes(e,"align");break;case"center":if(h.queryCommandValue("imagefloat")!="center"){for(f=e.parentNode,n.setStyle(e,"float",""),n.removeAttributes(e,"align"),r=e;f&&n.getChildCount(f,function(t){return!n.isBr(t)&&!n.isWhitespace(t)})==1&&(u.$inline[f.tagName]||f.tagName=="A");)r=f,f=f.parentNode;c.setStartBefore(r).setCursor(!1);f=h.document.createElement("div");f.appendChild(r);n.setStyle(r,"float","");h.execCommand("insertHtml",'<p id="_img_parent_tmp" style="text-align:center">'+f.innerHTML+"<\/p>");r=h.document.getElementById("_img_parent_tmp");r.removeAttribute("id");r=r.firstChild;c.selectNode(r).select();o=r.parentNode.nextSibling;o&&n.isEmptyNode(o)&&n.remove(o)}}},queryCommandValue:function(){var r=this.selection.getRange(),t,i;return r.collapsed?"none":(t=r.getClosedNode(),t&&t.nodeType==1&&t.tagName=="IMG")?(i=t.getAttribute("align")||n.getComputedStyle(t,"float"),i=="none"&&(i=n.getComputedStyle(t.parentNode,"text-align")=="center"?"center":i),{left:1,right:1,center:1}[i]?i:"none"):"none"},queryCommandState:function(){var t=this.selection.getRange(),n;return t.collapsed?-1:(n=t.getClosedNode(),n&&n.nodeType==1&&n.tagName=="IMG")?0:-1}};UE.commands.insertimage={execCommand:function(i,r){var s,l,h,f,u,a;if(r=t.isArray(r)?r:[r],r.length){var o=this,c=o.selection.getRange(),e=c.getClosedNode();if(e&&/img/i.test(e.tagName)&&e.className!="edui-faked-video"&&!e.getAttribute("word_img"))s=r.shift(),l=s.floatStyle,delete s.floatStyle,n.setAttributes(e,s),o.execCommand("imagefloat",l),r.length>0&&(c.setStartAfter(e).setCursor(!1,!0),o.execCommand("insertimage",r));else{if(h=[],f="",u=r[0],r.length==1)f='<img src="'+u.src+'" '+(u._src?' _src="'+u._src+'" ':"")+(u.width?'width="'+u.width+'" ':"")+(u.height?' height="'+u.height+'" ':"")+(u.floatStyle=="left"||u.floatStyle=="right"?' style="float:'+u.floatStyle+';"':"")+(u.title&&u.title!=""?' title="'+u.title+'"':"")+(u.border&&u.border!="0"?' border="'+u.border+'"':"")+(u.alt&&u.alt!=""?' alt="'+u.alt+'"':"")+(u.hspace&&u.hspace!="0"?' hspace = "'+u.hspace+'"':"")+(u.vspace&&u.vspace!="0"?' vspace = "'+u.vspace+'"':"")+"/>",u.floatStyle=="center"&&(f='<p style="text-align: center">'+f+"<\/p>"),h.push(f);else for(a=0;u=r[a++];)f="<p "+(u.floatStyle=="center"?'style="text-align: center" ':"")+'><img src="'+u.src+'" '+(u.width?'width="'+u.width+'" ':"")+(u._src?' _src="'+u._src+'" ':"")+(u.height?' height="'+u.height+'" ':"")+' style="'+(u.floatStyle&&u.floatStyle!="center"?"float:"+u.floatStyle+";":"")+(u.border||"")+'" '+(u.title?' title="'+u.title+'"':"")+" /><\/p>",h.push(f);o.execCommand("insertHtml",h.join(""))}}}};UE.plugins.justify=function(){var f=this,i=n.isBlockElm,r={left:1,right:1,center:1,justify:1},u=function(r,u){var v=r.createBookmark(),c=function(t){return t.nodeType==1?t.tagName.toLowerCase()!="br"&&!n.isBookmarkNode(t):!n.isWhitespace(t)},o,s,a;r.enlarge(!0);for(var h=r.createBookmark(),f=n.getNextDomNode(h.start,!1,c),e=r.cloneRange(),l;f&&!(n.getPosition(f,h.end)&n.POSITION_FOLLOWING);)if(f.nodeType!=3&&i(f))f=n.getNextDomNode(f,!0,c);else{for(e.setStartBefore(f);f&&f!==h.end&&!i(f);)l=f,f=n.getNextDomNode(f,!1,null,function(n){return!i(n)});e.setEndAfter(l);o=e.getCommonAncestor();!n.isBody(o)&&i(o)?(n.setStyles(o,t.isString(u)?{"text-align":u}:u),f=o):(s=r.document.createElement("p"),n.setStyles(s,t.isString(u)?{"text-align":u}:u),a=e.extractContents(),s.appendChild(a),e.insertNode(s),f=s);f=n.getNextDomNode(f,!1,c)}return r.moveToBookmark(h).moveToBookmark(v)};UE.commands.justify={execCommand:function(t,i){var r=this.selection.getRange(),f;return r.collapsed&&(f=this.document.createTextNode("p"),r.insertNode(f)),u(r,i),f&&(r.setStartBefore(f).collapse(!0),n.remove(f)),r.select(),!0},queryCommandValue:function(){var i=this.selection.getStart(),t=n.getComputedStyle(i,"text-align");return r[t]?t:"left"},queryCommandState:function(){var t=this.selection.getStart(),i=t&&n.findParentByTagName(t,["td","th","caption"],!0);return i?-1:0}}};UE.plugins.font=function(){function f(i){var e=i.collapsed,f=i.createBookmark(),r;if(e)for(r=f.start.parentNode;u.$inline[r.tagName];)r=r.parentNode;else r=n.getCommonAncestor(f.start,f.end);t.each(n.getElementsByTagName(r,"span"),function(t){if(t.parentNode&&!n.isBookmarkNode(t)){if(/^\s*border\s*:\s*none;\s*/i.test(t.style.cssText)){n.remove(t,!0);return}/border/i.test(t.style.cssText)&&t.parentNode.tagName=="SPAN"&&/border/i.test(t.parentNode.style.cssText)&&(t.style.cssText=t.style.cssText.replace(/border[^:]*:[^;]+;?/gi,""));for(var i=t.nextSibling;i&&i.nodeType==1&&i.tagName=="SPAN";){if(n.isBookmarkNode(i)?t.appendChild(i):i.style.cssText==t.style.cssText&&(n.moveChild(i,t),n.remove(i)),t.nextSibling===i)break;i=t.nextSibling}}});i.moveToBookmark(f)}var s=this,h={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family",underline:"text-decoration",strikethrough:"text-decoration",fontborder:"border"},r={underline:1,strikethrough:1,fontborder:1},e;s.setOpt({fontfamily:[{name:"songti",val:",SimSun"},{name:"yahei",val:",Microsoft YaHei"},{name:"kaiti",val:",_GB2312, SimKai"},{name:"heiti",val:", SimHei"},{name:"lishu",val:", SimLi"},{name:"andaleMono",val:"andale mono"},{name:"arial",val:"arial, helvetica,sans-serif"},{name:"arialBlack",val:"arial black,avant garde"},{name:"comicSansMs",val:"comic sans ms"},{name:"impact",val:"impact,chicago"},{name:"timesNewRoman",val:"times new roman"}],fontsize:[10,11,12,14,16,18,20,24,36]});s.addInputRule(function(n){t.each(n.getNodesByTagName("u s del font"),function(n){var t,i,r;if(n.tagName=="font"){t=[];for(i in n.attrs)switch(i){case"size":t.push("font-size:"+n.attrs[i]+"px");break;case"color":t.push("color:"+n.attrs[i]);break;case"face":t.push("font-family:"+n.attrs[i]);break;case"style":t.push(n.attrs[i])}n.attrs={style:t.join(";")}}else r=n.tagName=="u"?"underline":"line-through",n.attrs={style:(n.getAttr("style")||"")+"text-decoration:"+r+";"};n.tagName="span"})});for(e in h)(function(t,e){UE.commands[t]={execCommand:function(u,s){var v,h,c,l,y;if(s=s||(this.queryCommandState(u)?"none":u=="underline"?"underline":u=="fontborder"?"1px solid #000":"line-through"),v=this,h=this.selection.getRange(),s=="default")h.collapsed&&(c=v.document.createTextNode("font"),h.insertNode(c).select()),v.execCommand("removeFormat","span,a",e),c&&(h.setStartBefore(c).setCursor(),n.remove(c));else if(h.collapsed){if(l=n.findParentByTagName(h.startContainer,"span",!0),c=v.document.createTextNode("font"),!l||l.children.length||l[i.ie?"innerText":"textContent"].replace(o,"").length){if(h.insertNode(c),h.selectNode(c).select(),l=h.document.createElement("span"),r[t]){if(n.findParentByTagName(c,"a",!0)){h.setStartBefore(c).setCursor();n.remove(c);return}v.execCommand("removeFormat","span,a",e)}if(l.style.cssText=e+":"+s,c.parentNode.insertBefore(l,c),!i.ie||i.ie&&i.version==9)for(y=l.parentNode;!n.isBlockElm(y);)y.tagName=="SPAN"&&(l.style.cssText=y.style.cssText+";"+l.style.cssText),y=y.parentNode;a?setTimeout(function(){h.setStart(l,0).collapse(!0);f(h,v);h.select()}):(h.setStart(l,0).collapse(!0),f(h,v),h.select())}else h.insertNode(c),r[t]&&(h.selectNode(c).select(),v.execCommand("removeFormat","span,a",e,null),l=n.findParentByTagName(c,"span",!0),h.setStartBefore(c)),l&&(l.style.cssText+=";"+e+":"+s),h.collapse(!0).select();n.remove(c)}else r[t]&&v.queryCommandValue(t)&&v.execCommand("removeFormat","span,a",e),h=v.selection.getRange(),h.applyInlineStyle("span",{style:e+":"+s}),f(h,v),h.select();return!0},queryCommandValue:function(t){var o=this.selection.getStart(),i,s,r,f;if(t=="underline"||t=="strikethrough"){for(i=o;i&&!n.isBlockElm(i)&&!n.isBody(i);){if(i.nodeType==1&&(s=n.getComputedStyle(i,e),s!="none"))return s;i=i.parentNode}return"none"}if(t=="fontborder"){for(r=o;r&&u.$inline[r.tagName];){if((f=n.getComputedStyle(r,"border"))&&/1px/.test(f)&&/solid/.test(f))return f;r=r.parentNode}return""}return n.getComputedStyle(o,e)},queryCommandState:function(n){if(!r[n])return 0;var t=this.queryCommandValue(n);return n=="fontborder"?/1px/.test(t)&&/solid/.test(t):t==(n=="underline"?"underline":"line-through")}}})(e,h[e])};UE.plugins.link=function(){function r(t){var i=t.startContainer,r=t.endContainer;(i=n.findParentByTagName(i,"a",!0))&&t.setStartBefore(i);(r=n.findParentByTagName(r,"a",!0))&&t.setEndAfter(r)}function u(u,f,e){var s=u.cloneRange(),l=e.queryCommandValue("link"),o,h,c;r(u=u.adjustmentBoundary());o=u.startContainer;o.nodeType==1&&l&&(o=o.childNodes[u.startOffset],o&&o.nodeType==1&&o.tagName=="A"&&/^(?:https?|ftp|file)\s*:\s*\/\//.test(o[i.ie?"innerText":"textContent"])&&(o[i.ie?"innerText":"textContent"]=t.html(f.textValue||f.href)));(!s.collapsed||l)&&(u.removeInlineStyle("a"),s=u.cloneRange());s.collapsed?(h=u.document.createElement("a"),c="",f.textValue?(c=t.html(f.textValue),delete f.textValue):c=t.html(f.href),n.setAttributes(h,f),o=n.findParentByTagName(s.startContainer,"a",!0),o&&n.isInNodeEndBoundary(s,o)&&u.setStartAfter(o).collapse(!0),h[i.ie?"innerText":"textContent"]=c,u.insertNode(h).selectNode(h)):u.applyInlineStyle("a",f)}UE.commands.unlink={execCommand:function(){var t=this.selection.getRange(),i;(!t.collapsed||n.findParentByTagName(t.startContainer,"a",!0))&&(i=t.createBookmark(),r(t),t.removeInlineStyle("a").moveToBookmark(i).select())},queryCommandState:function(){return!this.highlight&&this.queryCommandValue("link")?0:-1}};UE.commands.link={execCommand:function(n,i){var r;i._href&&(i._href=t.unhtml(i._href,/[<">]/g));i.href&&(i.href=t.unhtml(i.href,/[<">]/g));i.textValue&&(i.textValue=t.unhtml(i.textValue,/[<">]/g));u(r=this.selection.getRange(),i,this);r.collapse().select(!0)},queryCommandValue:function(){var t=this.selection.getRange(),i,o,f,e,s,r;if(t.collapsed){if(i=t.startContainer,i=i.nodeType==1?i:i.parentNode,i&&(i=n.findParentByTagName(i,"a",!0))&&!n.isInNodeEndBoundary(t,i))return i}else{t.shrinkBoundary();var h=t.startContainer.nodeType==3||!t.startContainer.childNodes[t.startOffset]?t.startContainer:t.startContainer.childNodes[t.startOffset],c=t.endContainer.nodeType==3||t.endOffset==0?t.endContainer:t.endContainer.childNodes[t.endOffset-1],u=t.getCommonAncestor();if(i=n.findParentByTagName(u,"a",!0),!i&&u.nodeType==1)for(o=u.getElementsByTagName("a"),s=0;r=o[s++];)if(f=n.getPosition(r,h),e=n.getPosition(r,c),(f&n.POSITION_FOLLOWING||f&n.POSITION_CONTAINS)&&(e&n.POSITION_PRECEDING||e&n.POSITION_CONTAINS)){i=r;break}return i}},queryCommandState:function(){var n=this.selection.getRange().getClosedNode(),t=n&&n.className=="edui-faked-video";return t?-1:0}}};UE.plugins.insertframe=function(){function t(){n._iframe&&delete n._iframe}var n=this;n.addListener("selectionchange",function(){t()})};UE.commands.scrawl={queryCommandState:function(){return i.ie&&i.version<=8?-1:0}};UE.plugins.removeformat=function(){var t=this;t.setOpt({removeFormatTags:"b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var",removeFormatAttributes:"class,style,lang,width,height,align,hspace,valign"});t.commands.removeformat={execCommand:function(t,r,f,o,s){function y(n){var t,r,u;if(n.nodeType==3||n.tagName.toLowerCase()!="span")return 0;if(i.ie&&(t=n.attributes,t.length)){for(r=0,u=t.length;r<u;r++)if(t[r].specified)return 0;return 1}return!n.attributes.length}function w(t){var k=t.createBookmark(),o,r,w,e,i,a,b;for(t.collapsed&&t.enlarge(!0),s||(o=n.findParentByTagName(t.startContainer,"a",!0),o&&t.setStartBefore(o),o=n.findParentByTagName(t.endContainer,"a",!0),o&&t.setEndAfter(o)),h=t.createBookmark(),i=h.start;(c=i.parentNode)&&!n.isBlockElm(c);)n.breakParent(i,c),n.clearEmptySibling(i);if(h.end){for(i=h.end;(c=i.parentNode)&&!n.isBlockElm(c);)n.breakParent(i,c),n.clearEmptySibling(i);for(r=n.getNextDomNode(h.start,!1,v);r;){if(r==h.end)break;w=n.getNextDomNode(r,!0,v);u.$empty[r.tagName.toLowerCase()]||n.isBookmarkNode(r)||(p.test(r.tagName)?f?(n.removeStyle(r,f),y(r)&&f!="text-decoration"&&n.remove(r,!0)):n.remove(r,!0):u.$tableContent[r.tagName]||u.$list[r.tagName]||(n.removeAttributes(r,l),y(r)&&n.remove(r,!0)));r=w}}for(e=h.start.parentNode,!n.isBlockElm(e)||u.$tableContent[e.tagName]||u.$list[e.tagName]||n.removeAttributes(e,l),e=h.end.parentNode,h.end&&n.isBlockElm(e)&&!u.$tableContent[e.tagName]&&!u.$list[e.tagName]&&n.removeAttributes(e,l),t.moveToBookmark(h).moveToBookmark(k),i=t.startContainer,b=t.collapsed;i.nodeType==1&&n.isEmptyNode(i)&&u.$removeEmpty[i.tagName];)a=i.parentNode,t.setStartBefore(i),t.startContainer===t.endContainer&&t.endOffset--,n.remove(i),i=a;if(!b)for(i=t.endContainer;i.nodeType==1&&n.isEmptyNode(i)&&u.$removeEmpty[i.tagName];)a=i.parentNode,t.setEndBefore(i),n.remove(i),i=a}var p=new RegExp("^(?:"+(r||this.options.removeFormatTags).replace(/,/g,"|")+")$","i"),l=f?[]:(o||this.options.removeFormatAttributes).split(","),a=new e.Range(this.document),h,c,v=function(n){return n.nodeType==1};a=this.selection.getRange();w(a);a.select()}}};UE.plugins.blockquote=function(){function t(t){return n.filterNodeList(t.selection.getStartElementPath(),"blockquote")}var i=this;i.commands.blockquote={execCommand:function(i,r){var l=this.selection.getRange(),c=t(this),b=u.blockquote,nt=l.createBookmark(),k,a,g,v,w;if(c){var y=l.startContainer,s=n.isBlockElm(y)?y:n.findParent(y,function(t){return n.isBlockElm(t)}),p=l.endContainer,h=n.isBlockElm(p)?p:n.findParent(p,function(t){return n.isBlockElm(t)});for(s=n.findParentByTagName(s,"li",!0)||s,h=n.findParentByTagName(h,"li",!0)||h,s.tagName=="LI"||s.tagName=="TD"||s===c||n.isBody(s)?n.remove(c,!0):n.breakParent(s,c),s!==h&&(c=n.findParentByTagName(h,"blockquote"),c&&(h.tagName=="LI"||h.tagName=="TD"||n.isBody(h)?c.parentNode&&n.remove(c,!0):n.breakParent(h,c))),k=n.getElementsByTagName(this.document,"blockquote"),v=0;a=k[v++];)a.childNodes.length?n.getPosition(a,s)&n.POSITION_FOLLOWING&&n.getPosition(a,h)&n.POSITION_PRECEDING&&n.remove(a,!0):n.remove(a)}else{for(var e=l.cloneRange(),f=e.startContainer.nodeType==1?e.startContainer:e.startContainer.parentNode,o=f,d=1;;){if(n.isBody(f)){o!==f?l.collapsed?(e.selectNode(o),d=0):e.setStartBefore(o):e.setStart(f,0);break}if(!b[f.tagName]){l.collapsed?e.selectNode(o):e.setStartBefore(o);break}o=f;f=f.parentNode}if(d)for(o=f=f=e.endContainer.nodeType==1?e.endContainer:e.endContainer.parentNode;;){if(n.isBody(f)){o!==f?e.setEndAfter(o):e.setEnd(f,f.childNodes.length);break}if(!b[f.tagName]){e.setEndAfter(o);break}o=f;f=f.parentNode}for(f=l.document.createElement("blockquote"),n.setAttributes(f,r),f.appendChild(e.extractContents()),e.insertNode(f),g=n.getElementsByTagName(f,"blockquote"),v=0;w=g[v++];)w.parentNode&&n.remove(w,!0)}l.moveToBookmark(nt).select()},queryCommandState:function(){return t(this)?1:0}}};UE.commands.touppercase=UE.commands.tolowercase={execCommand:function(t){var o=this,r=o.selection.getRange();if(r.collapsed)return r;for(var u=r.createBookmark(),f=u.end,e=function(t){return!n.isBr(t)&&!n.isWhitespace(t)},i=n.getNextDomNode(u.start,!1,e);i&&n.getPosition(i,f)&n.POSITION_PRECEDING;)if(i.nodeType==3&&(i.nodeValue=i.nodeValue[t=="touppercase"?"toUpperCase":"toLowerCase"]()),i=n.getNextDomNode(i,!0,e),i===f)break;r.moveToBookmark(u).select()}};UE.commands.indent={execCommand:function(){var n=this,t=n.queryCommandState("indent")?"0em":n.options.indentValue||"2em";n.execCommand("Paragraph","p",{style:"text-indent:"+t})},queryCommandState:function(){var t=n.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return t&&t.style.textIndent&&parseInt(t.style.textIndent)?1:0}};UE.commands.print={execCommand:function(){this.window.print()},notNeedUndo:1};UE.commands.preview={execCommand:function(){var t=window.open("","_blank",""),n=t.document;n.open();n.write('<html><head><script src="'+this.options.UEDITOR_HOME_URL+"ueditor.parse.js\"><\/script><script>setTimeout(function(){uParse('div',{    'highlightJsUrl':'"+this.options.UEDITOR_HOME_URL+"third-party/SyntaxHighlighter/shCore.js',    'highlightCssUrl':'"+this.options.UEDITOR_HOME_URL+"third-party/SyntaxHighlighter/shCoreDefault.css'})},300)<\/script><\/head><body><div>"+this.getContent(null,null,!0)+"<\/div><\/body><\/html>");n.close()},notNeedUndo:1};UE.plugins.selectall=function(){var t=this;t.commands.selectall={execCommand:function(){var u=this,t=u.body,r=u.selection.getRange();r.selectNodeContents(t);n.isEmptyBlock(t)&&(i.opera&&t.firstChild&&t.firstChild.nodeType==1&&r.setStartAtFirst(t.firstChild),r.collapse(!0));r.select(!0)},notNeedUndo:1};t.addshortcutkey({selectAll:"ctrl+65"})};UE.plugins.paragraph=function(){var u=this,r=n.isBlockElm,f=["TD","LI","PRE"],e=function(i,u,e,o){var p=i.createBookmark(),v=function(t){return t.nodeType==1?t.tagName.toLowerCase()!="br"&&!n.isBookmarkNode(t):!n.isWhitespace(t)},s,h;i.enlarge(!0);for(var l=i.createBookmark(),c=n.getNextDomNode(l.start,!1,v),a=i.cloneRange(),y;c&&!(n.getPosition(c,l.end)&n.POSITION_FOLLOWING);)if(c.nodeType!=3&&r(c))c=n.getNextDomNode(c,!0,v);else{for(a.setStartBefore(c);c&&c!==l.end&&!r(c);)y=c,c=n.getNextDomNode(c,!1,null,function(n){return!r(n)});a.setEndAfter(y);s=i.document.createElement(u);e&&(n.setAttributes(s,e),o&&o=="customstyle"&&e.style&&(s.style.cssText=e.style));s.appendChild(a.extractContents());n.isEmptyNode(s)&&n.fillChar(i.document,s);a.insertNode(s);h=s.parentNode;r(h)&&!n.isBody(s.parentNode)&&t.indexOf(f,h.tagName)==-1&&(o&&o=="customstyle"||(h.getAttribute("dir")&&s.setAttribute("dir",h.getAttribute("dir")),h.style.cssText&&(s.style.cssText=h.style.cssText+";"+s.style.cssText),h.style.textAlign&&!s.style.textAlign&&(s.style.textAlign=h.style.textAlign),h.style.textIndent&&!s.style.textIndent&&(s.style.textIndent=h.style.textIndent),h.style.padding&&!s.style.padding&&(s.style.padding=h.style.padding)),e&&/h\d/i.test(h.tagName)&&!/h\d/i.test(s.tagName)?(n.setAttributes(h,e),o&&o=="customstyle"&&e.style&&(h.style.cssText=e.style),n.remove(s,!0),s=h):n.remove(s.parentNode,!0));c=t.indexOf(f,h.tagName)!=-1?h:s;c=n.getNextDomNode(c,!1,v)}return i.moveToBookmark(l).moveToBookmark(p)};u.setOpt("paragraph",{p:"",h1:"",h2:"",h3:"",h4:"",h5:"",h6:""});u.commands.paragraph={execCommand:function(t,r,u,f){var o=this.selection.getRange(),s,h,c;return o.collapsed&&(s=this.document.createTextNode("p"),o.insertNode(s),i.ie&&(h=s.previousSibling,h&&n.isWhitespace(h)&&n.remove(h),h=s.nextSibling,h&&n.isWhitespace(h)&&n.remove(h))),o=e(o,r,u,f),s&&(o.setStartBefore(s).collapse(!0),pN=s.parentNode,n.remove(s),n.isBlockElm(pN)&&n.isEmptyNode(pN)&&n.fillNode(this.document,pN)),i.gecko&&o.collapsed&&o.startContainer.nodeType==1&&(c=o.startContainer.childNodes[o.startOffset],c&&c.nodeType==1&&c.tagName.toLowerCase()==r&&o.setStart(c,0).collapse(!0)),o.select(),!0},queryCommandValue:function(){var t=n.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return t?t.tagName.toLowerCase():""}}},function(){var t=n.isBlockElm,i=function(t){return n.filterNodeList(t.selection.getStartElementPath(),function(n){return n.getAttribute("dir")})},r=function(r,u,f){var a,l=function(t){return t.nodeType==1?!n.isBookmarkNode(t):!n.isWhitespace(t)},v=i(u),s,h,p;if(v&&r.collapsed)return v.setAttribute("dir",f),r;a=r.createBookmark();r.enlarge(!0);for(var c=r.createBookmark(),e=n.getNextDomNode(c.start,!1,l),o=r.cloneRange(),y;e&&!(n.getPosition(e,c.end)&n.POSITION_FOLLOWING);)if(e.nodeType!=3&&t(e))e=n.getNextDomNode(e,!0,l);else{for(o.setStartBefore(e);e&&e!==c.end&&!t(e);)y=e,e=n.getNextDomNode(e,!1,null,function(n){return!t(n)});o.setEndAfter(y);s=o.getCommonAncestor();!n.isBody(s)&&t(s)?(s.setAttribute("dir",f),e=s):(h=r.document.createElement("p"),h.setAttribute("dir",f),p=o.extractContents(),h.appendChild(p),o.insertNode(h),e=h);e=n.getNextDomNode(e,!1,l)}return r.moveToBookmark(c).moveToBookmark(a)};UE.commands.directionality={execCommand:function(t,i){var u=this.selection.getRange(),f;return u.collapsed&&(f=this.document.createTextNode("d"),u.insertNode(f)),r(u,this,i),f&&(u.setStartBefore(f).collapse(!0),n.remove(f)),u.select(),!0},queryCommandValue:function(){var n=i(this);return n?n.getAttribute("dir"):"ltr"}}}();UE.plugins.horizontal=function(){var t=this;t.commands.horizontal={execCommand:function(n){var r=this,i,u,t;if(r.queryCommandState(n)!==-1)return r.execCommand("insertHtml","<hr>"),i=r.selection.getRange(),u=i.startContainer,u.nodeType!=1||u.childNodes[i.startOffset]||(t=u.childNodes[i.startOffset-1])&&t.nodeType==1&&t.tagName=="HR"&&(r.options.enterTag=="p"?(t=r.document.createElement("p"),i.insertNode(t),i.setStart(t,0).setCursor()):(t=r.document.createElement("br"),i.insertNode(t),i.setStartBefore(t).setCursor())),!0},queryCommandState:function(){return n.filterNodeList(this.selection.getStartElementPath(),"table")?-1:0}};t.addListener("delkeyup",function(){var i=this.selection.getRange(),t;n.isBody(i.startContainer)&&(t=i.startContainer.childNodes[i.startOffset-1],t&&t.nodeName=="HR"&&n.remove(t))})};UE.commands.time=UE.commands.date={execCommand:function(n){var t=new Date;this.execCommand("insertHtml",n=="time"?t.getHours()+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds()):t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate()))}};UE.plugins.rowspacing=function(){var t=this;t.setOpt({rowspacingtop:["5","10","15","20","25"],rowspacingbottom:["5","10","15","20","25"]});t.commands.rowspacing={execCommand:function(n,t,i){return this.execCommand("paragraph","p",{style:"margin-"+i+":"+t+"px"}),!0},queryCommandValue:function(t,i){var u=n.filterNodeList(this.selection.getStartElementPath(),function(t){return n.isBlockElm(t)}),r;return u?(r=n.getComputedStyle(u,"margin-"+i).replace(/[^\d]/g,""),r?r:0):0}}};UE.plugins.lineheight=function(){var t=this;t.setOpt({lineheight:["1","1.5","1.75","2","3","4","5"]});t.commands.lineheight={execCommand:function(n,t){return this.execCommand("paragraph","p",{style:"line-height:"+(t=="1"?"normal":t+"em")}),!0},queryCommandValue:function(){var i=n.filterNodeList(this.selection.getStartElementPath(),function(t){return n.isBlockElm(t)}),t;if(i)return t=n.getComputedStyle(i,"line-height"),t=="normal"?1:t.replace(/[^\d.]*/ig,"")}}};UE.plugins.insertcode=function(){var r=this,f;r.ready(function(){t.cssRule("pre","pre{margin:.5em 0;padding:.4em .6em;border-radius:8px;background:#f8f8f8;line-height:1.5}",r.document)});r.setOpt("insertcode",{as3:"ActionScript3",bash:"Bash/Shell",cpp:"C/C++",css:"Css",cf:"CodeFunction","c#":"C#",delphi:"Delphi",diff:"Diff",erlang:"Erlang",groovy:"Groovy",html:"Html",java:"Java",jfx:"JavaFx",js:"Javascript",pl:"Perl",php:"Php",plain:"Plain Text",ps:"PowerShell",python:"Python",ruby:"Ruby",scala:"Scala",sql:"Sql",vb:"Vb",xml:"Xml"});r.commands.insertcode={execCommand:function(r,f){var s=this,h=s.selection.getRange(),o=n.findParentByTagName(h.startContainer,"pre",!0),e,a,l,c;o?o.className="brush:"+f+";toolbar:false;":(e="",h.collapsed?e=i.ie?i.version>8?"":"&nbsp;":"<br/>":(a=h.extractContents(),l=s.document.createElement("div"),l.appendChild(a),t.each(UE.filterNode(UE.htmlparser(l.innerHTML.replace(/[\r\t]/g,"")),s.options.filterTxtRules).children,function(n){if(i.ie&&i.version>8)n.type=="element"?n.tagName=="br"?e+="\n":u.$empty[n.tagName]||(t.each(n.children,function(t){t.type=="element"?t.tagName=="br"?e+="\n":u.$empty[n.tagName]||(e+=t.innerText()):e+=t.data}),/\n$/.test(e)||(e+="\n")):e+=n.data+"\n",!n.nextSibling()&&/\n$/.test(e)&&(e=e.replace(/\n$/,""));else if(i.ie)n.type=="element"?n.tagName=="br"?e+="<br>":u.$empty[n.tagName]||(t.each(n.children,function(t){t.type=="element"?t.tagName=="br"?e+="<br>":u.$empty[n.tagName]||(e+=t.innerText()):e+=t.data}),/br>$/.test(e)||(e+="<br>")):e+=n.data+"<br>",!n.nextSibling()&&/<br>$/.test(e)&&(e=e.replace(/<br>$/,""));else if(e+=n.type=="element"?u.$empty[n.tagName]?"":n.innerText():n.data,!/br\/?\s*>$/.test(e)){if(!n.nextSibling())return;e+="<br>"}})),s.execCommand("inserthtml",'<pre id="coder"class="brush:'+f+';toolbar:false">'+e+"<\/pre>",!0),o=s.document.getElementById("coder"),n.removeAttributes(o,"id"),c=o.previousSibling,c&&n.isEmptyBlock(c)&&n.remove(c),h=s.selection.getRange(),n.isEmptyBlock(o)?h.setStart(o,0).setCursor(!1,!0):h.selectNodeContents(o).select())},queryCommandValue:function(){var i=this.selection.getStartElementPath(),n="";return t.each(i,function(t){if(t.nodeName=="PRE"){var i=t.className.match(/brush:([^;]+)/);return n=i&&i[1]?i[1]:"",!1}}),n}};r.addInputRule(function(n){t.each(n.getNodesByTagName("pre"),function(n){var r=n.getNodesByTagName("br"),u;if(r.length){i.ie&&i.version>8&&t.each(r,function(n){var t=UE.uNode.createText("\n");n.parentNode.insertBefore(t,n);n.parentNode.removeChild(n)});return}i.ie&&i.version>8||(u=n.innerText().split(/\n/),n.innerHTML(""),t.each(u,function(t){t.length&&n.appendChild(UE.uNode.createText(t));n.appendChild(UE.uNode.createElement("br"))}))})});r.addOutputRule(function(n){t.each(n.getNodesByTagName("pre"),function(n){var i="";t.each(n.children,function(n){i+=n.type=="text"?n.data.replace(/[ ]/g,"&nbsp;"):"\n"});n.innerText(i.replace(/(&nbsp;|\n)+$/,""))})});r.notNeedCodeQuery={help:1,undo:1,redo:1,source:1,print:1,searchreplace:1,fullscreen:1,preview:1,insertparagraph:1,elementpath:1,highlightcode:1,insertcode:1,inserthtml:1,selectall:1};f=r.queryCommandState;r.queryCommandState=function(n){var t=this;return!t.notNeedCodeQuery[n.toLowerCase()]&&t.selection&&t.queryCommandValue("insertcode")?-1:UE.Editor.prototype.queryCommandState.apply(this,arguments)};r.addListener("beforeenterkeydown",function(){var u=r.selection.getRange(),t=n.findParentByTagName(u.startContainer,"pre",!0),a,s,c,v,h,e,l,f,o;if(t){if(r.fireEvent("saveScene"),u.collapsed||u.deleteContents(),i.ie)if(i.version>8)s=r.document.createTextNode("\n"),c=u.startContainer,u.startOffset==0?(v=c.previousSibling,v&&(u.insertNode(s),h=r.document.createTextNode(" "),u.setStartAfter(s).insertNode(h).setStart(h,0).collapse(!0).select(!0))):(u.insertNode(s).setStartAfter(s),h=r.document.createTextNode(" "),c=u.startContainer.childNodes[u.startOffset],c&&!/^\n/.test(c.nodeValue)&&u.setStartBefore(s),u.insertNode(h).setStart(h,0).collapse(!0).select(!0));else{for(e=r.document.createElement("br"),u.insertNode(e),u.insertNode(r.document.createTextNode(n.fillChar)),u.setStartAfter(e),t=e.previousSibling;t;)if(l=t,t=t.previousSibling,!t||t.nodeName=="BR"){t=l;break}if(t){for(f="";t&&t.nodeName!="BR"&&new RegExp("^[ "+n.fillChar+"]*$").test(t.nodeValue);)f+=t.nodeValue,t=t.nextSibling;t.nodeName!="BR"&&(o=t.nodeValue.match(new RegExp("^([ "+n.fillChar+"]+)")),o&&o[1]&&(f+=o[1]));f=r.document.createTextNode(f);u.insertNode(f).setStartAfter(f)}u.collapse(!0).select()}else{for(e=r.document.createElement("br"),u.insertNode(e).setStartAfter(e).collapse(!0),a=e.nextSibling,a?u.setStartAfter(e):u.insertNode(e.cloneNode(!1)),t=e.previousSibling;t;)if(l=t,t=t.previousSibling,!t||t.nodeName=="BR"){t=l;break}if(t){for(f="";t&&t.nodeName!="BR"&&new RegExp("^[\\s"+n.fillChar+"]*$").test(t.nodeValue);)f+=t.nodeValue,t=t.nextSibling;t.nodeName!="BR"&&(o=t.nodeValue.match(new RegExp("^([\\s"+n.fillChar+"]+)")),o&&o[1]&&(f+=o[1]));f&&(f=r.document.createTextNode(f),u.insertNode(f).setStartAfter(f))}u.collapse(!0).select(!0)}return r.fireEvent("saveScene"),!0}});r.addListener("tabkeydown",function(t,i){var o=r.selection.getRange(),f=n.findParentByTagName(o.startContainer,"pre",!0),e,u,s,h;if(f){if(r.fireEvent("saveScene"),!i.shiftKey)if(o.collapsed)h=r.document.createTextNode("    "),o.insertNode(h).setStartAfter(h).collapse(!0).select(!0);else{for(e=o.createBookmark(),u=e.start.previousSibling;u;){if(f.firstChild===u&&!n.isBr(u)){f.insertBefore(r.document.createTextNode("    "),u);break}if(n.isBr(u)){f.insertBefore(r.document.createTextNode("    "),u.nextSibling);break}u=u.previousSibling}for(s=e.end,u=e.start.nextSibling,f.firstChild===e.start&&f.insertBefore(r.document.createTextNode("    "),u.nextSibling);u&&u!==s;){if(n.isBr(u)&&u.nextSibling){if(u.nextSibling===s)break;f.insertBefore(r.document.createTextNode("    "),u.nextSibling)}u=u.nextSibling}o.moveToBookmark(e).select()}return r.fireEvent("saveScene"),!0}});r.addListener("beforeinserthtml",function(r,f){var s=this,h=s.selection.getRange(),l=n.findParentByTagName(h.startContainer,"pre",!0),e,c,o;if(l)return h.collapsed||h.deleteContents(),e="",i.ie&&i.version>8?(t.each(UE.filterNode(UE.htmlparser(f),s.options.filterTxtRules).children,function(n){n.type=="element"?n.tagName=="br"?e+="\n":u.$empty[n.tagName]||(t.each(n.children,function(t){t.type=="element"?t.tagName=="br"?e+="\n":u.$empty[n.tagName]||(e+=t.innerText()):e+=t.data}),/\n$/.test(e)||(e+="\n")):e+=n.data+"\n";!n.nextSibling()&&/\n$/.test(e)&&(e=e.replace(/\n$/,""))}),c=s.document.createTextNode(t.html(e.replace(/&nbsp;/g," "))),h.insertNode(c).selectNode(c).select()):(o=s.document.createDocumentFragment(),t.each(UE.filterNode(UE.htmlparser(f),s.options.filterTxtRules).children,function(n){n.type=="element"?n.tagName=="br"?o.appendChild(s.document.createElement("br")):u.$empty[n.tagName]||(t.each(n.children,function(i){i.type=="element"?i.tagName=="br"?o.appendChild(s.document.createElement("br")):u.$empty[n.tagName]||o.appendChild(s.document.createTextNode(t.html(i.innerText().replace(/&nbsp;/g," ")))):o.appendChild(s.document.createTextNode(t.html(i.data.replace(/&nbsp;/g," "))))}),o.lastChild.nodeName!="BR"&&o.appendChild(s.document.createElement("br"))):o.appendChild(s.document.createTextNode(t.html(n.data.replace(/&nbsp;/g," "))));n.nextSibling()||o.lastChild.nodeName!="BR"||o.removeChild(o.lastChild)}),h.insertNode(o).select()),!0});r.addListener("keydown",function(t,i){var e=this,s=i.keyCode||i.which,r,f,o,u;if(s==40&&(r=e.selection.getRange(),o=r.startContainer,r.collapsed&&(f=n.findParentByTagName(r.startContainer,"pre",!0))&&!f.nextSibling)){for(u=f.lastChild;u&&u.nodeName=="BR";)u=u.previousSibling;(u===o||r.startContainer===f&&r.startOffset==f.childNodes.length)&&(e.execCommand("insertparagraph"),n.preventDefault(i))}})};UE.commands.cleardoc={execCommand:function(){var n=this,i=n.options.enterTag,t=n.selection.getRange();i=="br"?(n.body.innerHTML="<br/>",t.setStart(n.body,0).setCursor()):(n.body.innerHTML="<p>"+(f?"":"<br/>")+"<\/p>",t.setStart(n.body.firstChild,0).setCursor(!1,!0));setTimeout(function(){n.fireEvent("clearDoc")},0)}};UE.plugins.anchor=function(){var i=this;i.ready(function(){t.cssRule("anchor",".anchorclass{background: url('"+i.options.UEDITOR_HOME_URL+"themes/default/images/anchor.gif') no-repeat scroll left center transparent;border: 1px dotted #0000FF;cursor: auto;display: inline-block;height: 16px;width: 15px;}",i.document)});i.addOutputRule(function(n){t.each(n.getNodesByTagName("img"),function(n){var t;(t=n.getAttr("anchorname"))&&(n.tagName="a",n.setAttr({anchorname:"",name:t,"class":""}))})});i.addInputRule(function(n){t.each(n.getNodesByTagName("a"),function(n){var t;(t=n.getAttr("name"))&&!n.getAttr("href")&&(n.tagName="img",n.setAttr({anchorname:n.getAttr("name"),"class":"anchorclass"}),n.setAttr("name"))})});i.commands.anchor={execCommand:function(t,i){var u=this.selection.getRange(),r=u.getClosedNode(),f;r&&r.getAttribute("anchorname")?i?r.setAttribute("anchorname",i):(u.setStartBefore(r).setCursor(),n.remove(r)):i&&(f=this.document.createElement("img"),u.collapse(!0),n.setAttributes(f,{anchorname:i,"class":"anchorclass"}),u.insertNode(f).setStartAfter(f).setCursor(!1,!0))}}};UE.plugins.wordcount=function(){var t=this,i;t.addListener("contentchange",function(){t.fireEvent("wordcount")});t.addListener("ready",function(){var t=this;n.on(t.body,"keyup",function(n){var r=n.keyCode||n.which;r in{"16":1,"18":1,"20":1,"37":1,"38":1,"39":1,"40":1}||(clearTimeout(i),i=setTimeout(function(){t.fireEvent("wordcount")},200))})})};UE.plugins.pagebreak=function(){function r(t){if(n.isEmptyBlock(t)){for(var r=t.firstChild,u;r&&r.nodeType==1&&n.isEmptyBlock(r);)u=r,r=r.firstChild;u||(u=t);n.fillNode(i.document,u)}}function u(n){return n&&n.nodeType==1&&n.tagName=="HR"&&n.className=="pagebreak"}var i=this,f=["td"];i.setOpt("pageBreakTag","_ueditor_page_break_tag_");i.ready(function(){t.cssRule("pagebreak",".pagebreak{display:block;clear:both !important;cursor:default !important;width: 100% !important;margin:0;}",i.document)});i.addInputRule(function(n){n.traversal(function(n){if(n.type=="text"&&n.data==i.options.pageBreakTag){var t=UE.uNode.createElement('<hr class="pagebreak" noshade="noshade" size="5" style="-webkit-user-select: none;">');n.parentNode.insertBefore(t,n);n.parentNode.removeChild(n)}})});i.addOutputRule(function(n){t.each(n.getNodesByTagName("hr"),function(n){if(n.getAttr("class")=="pagebreak"){var t=UE.uNode.createText(i.options.pageBreakTag);n.parentNode.insertBefore(t,n);n.parentNode.removeChild(n)}})});i.commands.pagebreak={execCommand:function(){var o=i.selection.getRange(),t=i.document.createElement("hr"),l,a,y,h,e,s,c,v;if(n.setAttributes(t,{"class":"pagebreak",noshade:"noshade",size:"5"}),n.unSelectable(t),l=n.findParentByTagName(o.startContainer,f,!0),a=[],l)switch(l.tagName){case"TD":e=l.parentNode;e.previousSibling?(e.parentNode.insertBefore(t,e),a=n.findParents(t)):(y=n.findParentByTagName(e,"table"),y.parentNode.insertBefore(t,y),a=n.findParents(t,!0));e=a[1];t!==e&&n.breakParent(t,e);i.fireEvent("afteradjusttable",i.document)}else{if(!o.collapsed)for(o.deleteContents(),h=o.startContainer;!n.isBody(h)&&n.isBlockElm(h)&&n.isEmptyNode(h);)o.setStartBefore(h).collapse(!0),n.remove(h),h=o.startContainer;for(o.insertNode(t),e=t.parentNode;!n.isBody(e);)n.breakParent(t,e),s=t.nextSibling,s&&n.isEmptyBlock(s)&&n.remove(s),e=t.parentNode;s=t.nextSibling;c=t.previousSibling;u(c)?n.remove(c):c&&r(c);s?(u(s)?n.remove(s):r(s),o.setEndAfter(t).collapse(!1)):(v=i.document.createElement("p"),t.parentNode.appendChild(v),n.fillNode(i.document,v),o.setStart(v,0).collapse(!0));o.select(!0)}}}};UE.plugins.wordimage=function(){var i=this,r;i.addInputRule(function(n){t.each(n.getNodesByTagName("img"),function(n){var t=n.attrs,f=parseInt(t.width)<128||parseInt(t.height)<43,r=i.options,u=r.UEDITOR_HOME_URL+"themes/default/images/spacer.gif";t._src&&t._src.indexOf("file:///")!==-1&&n.setAttr({width:t.width,height:t.height,alt:t.alt,word_img:t._src,src:u,_src:u,style:"background:url("+(f?r.themePath+r.theme+"/images/word.gif":r.langPath+r.lang+"/images/localimage.png")+") no-repeat center center;border:1px solid #ddd"})})});i.commands.wordimage={execCommand:function(){var t,f,e,u;for(r=n.getElementsByTagName(i.document.body,"img"),t=[],f=0;e=r[f++];)u=e.getAttribute("word_img"),u&&t.push(u);r.length&&(this.word_img=t)},queryCommandState:function(){r=n.getElementsByTagName(i.document.body,"img");for(var u=0,t;t=r[u++];)if(t.getAttribute("word_img"))return 1;return-1}}};UE.plugins.dragdrop=function(){var t=this;t.ready(function(){n.on(this.body,"dragend",function(){var f=t.selection.getRange(),u=f.getClosedNode()||t.selection.getStart(),r,i;if(u&&u.tagName=="IMG"){for(r=u.previousSibling;i=u.nextSibling;)if(i.nodeType!=1||i.tagName!="SPAN"||i.firstChild)break;else n.remove(i);(!r||r.nodeType!=1||n.isEmptyBlock(r))&&r||i&&(!i||n.isEmptyBlock(i))||(r&&r.tagName=="P"&&!n.isEmptyBlock(r)?(r.appendChild(u),n.moveChild(i,r),n.remove(i)):i&&i.tagName=="P"&&!n.isEmptyBlock(i)&&i.insertBefore(u,i.firstChild),r&&r.tagName=="P"&&n.isEmptyBlock(r)&&n.remove(r),i&&i.tagName=="P"&&n.isEmptyBlock(i)&&n.remove(i),f.selectNode(u).select(),t.fireEvent("saveScene"))}})});t.addListener("keyup",function(i,r){var e=r.keyCode||r.which,f,u;e==13&&(f=t.selection.getRange(),(u=n.findParentByTagName(f.startContainer,"p",!0))&&n.getComputedStyle(u,"text-align")=="center"&&n.removeStyle(u,"text-align"))})};UE.plugins.undo=function(){function c(n,t){if(n.length!=t.length)return 0;for(var i=0,r=n.length;i<r;i++)if(n[i]!=t[i])return 0;return 1}function k(n,t){return n.collapsed!=t.collapsed?0:!c(n.startAddress,t.startAddress)||!c(n.endAddress,t.endAddress)?0:1}function d(){this.list=[];this.index=0;this.hasUndo=!1;this.hasRedo=!1;this.undo=function(){if(this.hasUndo){if(!this.list[this.index-1]&&this.list.length==1){this.reset();return}while(this.list[this.index].content==this.list[this.index-1].content)if(this.index--,this.index==0)return this.restore(0);this.restore(--this.index)}};this.redo=function(){if(this.hasRedo){while(this.list[this.index].content==this.list[this.index+1].content)if(this.index++,this.index==this.list.length-1)return this.restore(this.index);this.restore(++this.index)}};this.restore=function(){var r=this.editor,f=this.list[this.index],o=UE.htmlparser(f.content.replace(w,"")),u;r.options.autoClearEmptyNode=!1;r.filterInputRule(o);r.options.autoClearEmptyNode=h;r.document.body.innerHTML=o.toHtml();r.fireEvent("afterscencerestore");i.ie&&t.each(n.getElementsByTagName(r.document,"td th caption p"),function(t){n.isEmptyNode(t)&&n.fillNode(r.document,t)});try{u=new e.Range(r.document).moveToAddress(f.address);u.select(b[u.startContainer.nodeName.toLowerCase()])}catch(s){}this.update();this.clearKey();r.fireEvent("reset",!0)};this.getScene=function(){var n=this.editor,u=n.selection.getRange(),f=u.createAddress(!1,!0),r,t;n.fireEvent("beforegetscene");r=UE.htmlparser(n.body.innerHTML,!0);n.options.autoClearEmptyNode=!1;n.filterOutputRule(r);n.options.autoClearEmptyNode=h;t=r.toHtml();i.ie&&(t=t.replace(/>&nbsp;</g,"><").replace(/\s*</g,"<").replace(/>\s*/g,">"));n.fireEvent("aftergetscene");try{}catch(e){}return{address:f,content:t}};this.save=function(n,t){clearTimeout(o);var i=this.getScene(t),r=this.list[this.index];r&&r.content==i.content&&(n?1:k(r.address,i.address))||(this.list=this.list.slice(0,this.index+1),this.list.push(i),this.list.length>y&&this.list.shift(),this.index=this.list.length-1,this.clearKey(),this.update())};this.update=function(){this.hasRedo=!!this.list[this.index+1];this.hasUndo=!!this.list[this.index-1]};this.reset=function(){this.list=[];this.index=0;this.hasUndo=!1;this.hasRedo=!1;this.clearKey()};this.clearKey=function(){s=0;v=null}}function l(){this.undoManger.save()}var o,r=this,y=r.options.maxUndoCount||20,p=r.options.maxInputCount||20,w=new RegExp(n.fillChar+"|<\/hr>","gi"),b={ol:1,ul:1,table:1,tbody:1,tr:1,body:1},h=r.options.autoClearEmptyNode,f;r.undoManger=new d;r.undoManger.editor=r;r.addListener("saveScene",function(){var n=Array.prototype.splice.call(arguments,1);this.undoManger.save.apply(this.undoManger,n)});r.addListener("beforeexeccommand",l);r.addListener("afterexeccommand",l);r.addListener("reset",function(n,t){t||this.undoManger.reset()});r.commands.redo=r.commands.undo={execCommand:function(n){this.undoManger[n]()},queryCommandState:function(n){return this.undoManger["has"+(n.toLowerCase()=="undo"?"Undo":"Redo")]?0:-1},notNeedUndo:1};var a={16:1,17:1,18:1,37:1,38:1,39:1,40:1},s=0,v,u=!1;r.addListener("ready",function(){n.on(this.body,"compositionstart",function(){u=!0});n.on(this.body,"compositionend",function(){u=!1})});r.addshortcutkey({Undo:"ctrl+90",Redo:"ctrl+89"});f=!0;r.addListener("keydown",function(n,t){var i=this,e=t.keyCode||t.which;if(!a[e]&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&!t.altKey){if(u)return;if(!i.selection.getRange().collapsed){i.undoManger.save(!1,!0);f=!1;return}i.undoManger.list.length==0&&i.undoManger.save(!0);clearTimeout(o);function r(n){n.selection.getRange().collapsed&&n.fireEvent("contentchange");n.undoManger.save(!1,!0);n.fireEvent("selectionchange")}o=setTimeout(function(){if(u){var n=setInterval(function(){u||(r(i),clearInterval(n))},300);return}r(i)},200);v=e;s++;s>=p&&r(i)}});r.addListener("keyup",function(n,t){var i=t.keyCode||t.which;if(!a[i]&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&!t.altKey){if(u)return;f||(this.undoManger.save(!1,!0),f=!0)}})};UE.plugins.paste=function(){function o(t){var u=this.document;if(!u.getElementById("baidu_pastebin")){var f=this.selection.getRange(),e=f.createBookmark(),r=u.createElement("div");r.id="baidu_pastebin";i.webkit&&r.appendChild(u.createTextNode(n.fillChar+n.fillChar));u.body.appendChild(r);e.start.style.display="";r.style.cssText="position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:"+n.getXY(e.start).y+"px";f.selectNodeContents(r).select(!0);setTimeout(function(){if(i.webkit)for(var s=0,h=u.querySelectorAll("#baidu_pastebin"),o;o=h[s++];)if(n.isEmptyNode(o))n.remove(o);else{r=o;break}try{r.parentNode.removeChild(r)}catch(c){}f.moveToBookmark(e).select(!0);t(r)},0)}}function s(o){var c,k,p,d,v,g,a,b,nt,w,tt,it,s,l,h,y;if(o.firstChild){for(k=n.getElementsByTagName(o,"span"),s=0;p=k[s++];)(p.id=="_baidu_cut_start"||p.id=="_baidu_cut_end")&&n.remove(p);if(i.webkit){for(w=o.querySelectorAll("div br"),s=0;d=w[s++];)v=d.parentNode,v.tagName=="DIV"&&v.childNodes.length==1&&(v.innerHTML="<p><br/><\/p>",n.remove(v));for(g=o.querySelectorAll("#baidu_pastebin"),s=0;a=g[s++];){for(b=r.document.createElement("p"),a.parentNode.insertBefore(b,a);a.firstChild;)b.appendChild(a.firstChild);n.remove(a)}for(nt=o.querySelectorAll("meta"),s=0;l=nt[s++];)n.remove(l);for(w=o.querySelectorAll("br"),s=0;l=w[s++];)/^apple-/i.test(l.className)&&n.remove(l)}if(i.gecko)for(tt=o.querySelectorAll("[_moz_dirty]"),s=0;l=tt[s++];)l.removeAttribute("_moz_dirty");if(!i.ie)for(it=o.querySelectorAll("span.Apple-style-span"),s=0;l=it[s++];)n.remove(l,!0);if(c=o.innerHTML,c=UE.filterWord(c),h=UE.htmlparser(c,!0),r.options.filterRules&&UE.filterNode(h,r.options.filterRules),r.filterInputRule(h),i.webkit&&(y=h.lastChild(),y&&y.type=="element"&&y.tagName=="br"&&h.removeChild(y),t.each(r.body.querySelectorAll("div"),function(t){n.isEmptyBlock(t)&&n.remove(t)})),c={html:h.toHtml()},r.fireEvent("beforepaste",c,h),!c.html)return;h=UE.htmlparser(c.html,!0);r.queryCommandState("pasteplain")===1?r.execCommand("insertHtml",UE.filterNode(h,r.options.filterTxtRules).toHtml(),!0):(UE.filterNode(h,r.options.filterTxtRules),f=h.toHtml(),u=c.html,e=r.selection.getRange().createAddress(!0),r.execCommand("insertHtml",u,!0));r.fireEvent("afterpaste",c)}}var r=this,f,u,e;r.addListener("pasteTransfer",function(i,o){var s,h,l,c,a,v,y;if(e&&f&&u&&f!=u){if(s=r.selection.getRange(),s.moveToAddress(e,!0),!s.collapsed){while(!n.isBody(s.startContainer)){if(h=s.startContainer,h.nodeType==1){if(h=h.childNodes[s.startOffset],!h){s.setStartBefore(s.startContainer);continue}l=h.previousSibling;l&&l.nodeType==3&&new RegExp("^[\n\r\t "+n.fillChar+"]*$").test(l.nodeValue)&&s.setStartBefore(l)}if(s.startOffset==0)s.setStartBefore(s.startContainer);else break}while(!n.isBody(s.endContainer)){if(c=s.endContainer,c.nodeType==1){if(c=c.childNodes[s.endOffset],!c){s.setEndAfter(s.endContainer);continue}a=c.nextSibling;a&&a.nodeType==3&&new RegExp("^[\n\r\t"+n.fillChar+"]*$").test(a.nodeValue)&&s.setEndAfter(a)}if(s.endOffset==s.endContainer.childNodes.length)s.setEndAfter(s.endContainer);else break}}s.deleteContents();s.select(!0);r.__hasEnterExecCommand=!0;v=u;o===2?v=v.replace(/<(\/?)([\w\-]+)([^>]*)>/gi,function(n,i,r,u){return(r=r.toLowerCase(),{img:1}[r])?n:(u=u.replace(/([\w\-]*?)\s*=\s*(("([^"]*)")|('([^']*)')|([^\s>]+))/gi,function(n,t,i){return{src:1,href:1,name:1}[t.toLowerCase()]?t+"="+i+" ":""}),{span:1,div:1}[r]?"":"<"+i+r+" "+t.trim(u)+">")}):o&&(v=f);r.execCommand("inserthtml",v,!0);r.__hasEnterExecCommand=!1;y=r.selection.getRange().createAddress(!0);e.endAddress=y.startAddress}});r.addListener("ready",function(){n.on(r.body,"cut",function(){var n=r.selection.getRange();!n.collapsed&&r.undoManger&&r.undoManger.save()});n.on(r.body,i.ie||i.opera?"keydown":"paste",function(n){(i.ie||i.opera)&&(!n.ctrlKey&&!n.metaKey||n.keyCode!="86")||o.call(r,function(n){s(n)})})})};UE.plugins.list=function(){function y(n){var t=[];for(var i in n)t.push(i);return t}function e(t){var i=t.className;return n.hasClass(t,/custom_/)?i.match(/custom_(\w+)/)[1]:n.getStyle(t,"list-style-type")}function p(i,r){t.each(n.getElementsByTagName(i,"ol ul"),function(u){var l,y,w,a,c,v,p;n.inDoc(u,i)&&(l=u.parentNode,l.tagName==u.tagName&&(y=e(u)||(u.tagName=="OL"?"decimal":"disc"),w=e(l)||(l.tagName=="OL"?"decimal":"disc"),y==w&&(a=t.indexOf(f[u.tagName],y),a=a+1==f[u.tagName].length?0:a+1,h(u,f[u.tagName][a]))),c=0,v=2,n.hasClass(u,/custom_/)?/[ou]l/i.test(l.tagName)&&n.hasClass(l,/custom_/)||(v=1):/[ou]l/i.test(l.tagName)&&n.hasClass(l,/custom_/)&&(v=3),p=n.getStyle(u,"list-style-type"),p&&(u.style.cssText="list-style-type:"+p),u.className=t.trim(u.className.replace(/list-paddingleft-\w+/,""))+" list-paddingleft-"+v,t.each(n.getElementsByTagName(u,"li"),function(t){var r,i,f;if(t.style.cssText&&(t.style.cssText=""),!t.firstChild){n.remove(t);return}if(t.parentNode===u){if(c++,n.hasClass(u,/custom_/))if(r=1,i=e(u),u.tagName=="OL"){if(i)switch(i){case"cn":case"cn1":case"cn2":c>10&&(c%10==0||c>10&&c<20)?r=2:c>20&&(r=3);break;case"num2":c>9&&(r=2)}t.className="list-"+o[i]+c+" list-"+i+"-paddingleft-"+r}else t.className="list-"+o[i]+" list-"+i+"-paddingleft";else t.className=t.className.replace(/list-[\w\-]+/gi,"");f=t.getAttribute("class");f===null||f.replace(/\s/g,"")||n.removeAttributes(t,"class")}}),r||s(u,u.tagName.toLowerCase(),e(u)||n.getStyle(u,"list-style-type"),!0))})}function s(t,i,r,u){var f=t.nextSibling,o;f&&f.nodeType==1&&f.tagName.toLowerCase()==i&&(e(f)||n.getStyle(f,"list-style-type")||(i=="ol"?"decimal":"disc"))==r&&(n.moveChild(f,t),f.childNodes.length==0&&n.remove(f));f&&n.isFillChar(f)&&n.remove(f);o=t.previousSibling;o&&o.nodeType==1&&o.tagName.toLowerCase()==i&&(e(o)||n.getStyle(o,"list-style-type")||(i=="ol"?"decimal":"disc"))==r&&n.moveChild(t,o);o&&n.isFillChar(o)&&n.remove(o);!u&&n.isEmptyBlock(t)&&n.remove(t);e(t)&&p(t.ownerDocument,!0)}function h(t,i){o[i]&&(t.className="custom_"+i);try{n.setStyle(t,"list-style-type",i)}catch(r){}}function a(t){var i=t.previousSibling;i&&n.isEmptyBlock(i)&&n.remove(i);i=t.nextSibling;i&&n.isEmptyBlock(i)&&n.remove(i)}function w(t){while(t&&!n.isBody(t)){if(t.nodeName=="TABLE")return null;if(t.nodeName=="LI")return t;t=t.parentNode}}var r=this,v={TD:1,PRE:1,BLOCKQUOTE:1},o={cn:"cn-1-",cn1:"cn-2-",cn2:"cn-3-",num:"num-1-",num1:"num-2-",num2:"num-3-",dash:"dash",dot:"dot"},f,l,c;r.setOpt({insertorderedlist:{num:"",num1:"",num2:"",cn:"",cn1:"",cn2:"",decimal:"","lower-alpha":"","lower-roman":"","upper-alpha":"","upper-roman":""},insertunorderedlist:{circle:"",disc:"",square:"",dash:"",dot:""},listDefaultPaddingLeft:"30",listiconpath:"http://bj.bcebos.com/listicon/",maxListLevel:-1});f={OL:y(r.options.insertorderedlist),UL:y(r.options.insertunorderedlist)};l=r.options.listiconpath;for(c in o)r.options.insertorderedlist.hasOwnProperty(c)||r.options.insertunorderedlist.hasOwnProperty(c)||delete o[c];r.ready(function(){var u=[],n,f;for(n in o){if(n=="dash"||n=="dot")u.push("li.list-"+o[n]+"{background-image:url("+l+o[n]+".gif)}"),u.push("ul.custom_"+n+"{list-style:none;}ul.custom_"+n+" li{background-position:0 3px;background-repeat:no-repeat}");else{for(f=0;f<99;f++)u.push("li.list-"+o[n]+f+"{background-image:url("+l+"list-"+o[n]+f+".gif)}");u.push("ol.custom_"+n+"{list-style:none;}ol.custom_"+n+" li{background-position:0 3px;background-repeat:no-repeat}")}switch(n){case"cn":u.push("li.list-"+n+"-paddingleft-1{padding-left:25px}");u.push("li.list-"+n+"-paddingleft-2{padding-left:40px}");u.push("li.list-"+n+"-paddingleft-3{padding-left:55px}");break;case"cn1":u.push("li.list-"+n+"-paddingleft-1{padding-left:30px}");u.push("li.list-"+n+"-paddingleft-2{padding-left:40px}");u.push("li.list-"+n+"-paddingleft-3{padding-left:55px}");break;case"cn2":u.push("li.list-"+n+"-paddingleft-1{padding-left:40px}");u.push("li.list-"+n+"-paddingleft-2{padding-left:55px}");u.push("li.list-"+n+"-paddingleft-3{padding-left:68px}");break;case"num":case"num1":u.push("li.list-"+n+"-paddingleft-1{padding-left:25px}");break;case"num2":u.push("li.list-"+n+"-paddingleft-1{padding-left:35px}");u.push("li.list-"+n+"-paddingleft-2{padding-left:40px}");break;case"dash":u.push("li.list-"+n+"-paddingleft{padding-left:35px}");break;case"dot":u.push("li.list-"+n+"-paddingleft{padding-left:20px}")}}u.push(".list-paddingleft-1{padding-left:0}");u.push(".list-paddingleft-2{padding-left:"+r.options.listDefaultPaddingLeft+"px}");u.push(".list-paddingleft-3{padding-left:"+r.options.listDefaultPaddingLeft*2+"px}");t.cssRule("list","ol,ul{margin:0;pading:0;"+(i.ie?"":"width:95%")+"}li{clear:both;}"+u.join("\n"),r.document)});r.ready(function(){n.on(r.body,"cut",function(){setTimeout(function(){var i=r.selection.getRange(),u,t,f,e;(u=n.findParentByTagName(i.startContainer,"li",!0))&&!u.nextSibling&&n.isEmptyBlock(u)&&(t=u.parentNode,(f=t.previousSibling)?(n.remove(t),i.setStartAtLast(f).collapse(!0),i.select(!0)):(f=t.nextSibling)?(n.remove(t),i.setStartAtFirst(f).collapse(!0),i.select(!0)):(e=r.document.createElement("p"),n.fillNode(r.document,e),t.parentNode.insertBefore(e,t),n.remove(t),i.setStart(e,0).collapse(!0),i.select(!0)))})})});r.addListener("beforepaste",function(i,r){var l=this,a=l.selection.getRange(),h,s=UE.htmlparser(r.html,!0),u,c;(h=n.findParentByTagName(a.startContainer,"li",!0))&&(u=h.parentNode,c=u.tagName=="OL"?"ul":"ol",t.each(s.getNodesByTagName(c),function(n){var h,r,c;n.tagName=u.tagName;n.setAttr();n.parentNode===s?i=e(u)||(u.tagName=="OL"?"decimal":"disc"):(h=n.parentNode.getAttr("class"),i=h&&/custom_/.test(h)?h.match(/custom_(\w+)/)[1]:n.parentNode.getStyle("list-style-type"),i||(i=u.tagName=="OL"?"decimal":"disc"));r=t.indexOf(f[u.tagName],i);n.parentNode!==s&&(r=r+1==f[u.tagName].length?0:r+1);c=f[u.tagName][r];o[c]?n.setAttr("class","custom_"+c):n.setStyle("list-style-type",c)}));r.html=s.toHtml()});r.addInputRule(function(n){function e(n,t){var u=t.firstChild(),r;if(u&&u.type=="element"&&u.tagName=="span"&&/Wingdings|Symbol/.test(u.getStyle("font-family"))){for(r in f)if(f[r]==u.data)return r;return"disc"}for(r in i)if(i[r].test(n))return r}t.each(n.getNodesByTagName("li"),function(n){for(var t=UE.uNode.createElement("p"),r=0,i;i=n.children[r];)i.type=="text"||u.p[i.tagName]?t.appendChild(i):t.firstChild()?(n.insertBefore(t,i),t=UE.uNode.createElement("p"),r=r+2):r++;(!t.firstChild()||t.parentNode)&&n.firstChild()||n.appendChild(t)});var i={num1:/^\d+\)/,decimal:/^\d+\./,"lower-alpha":/^[a-z]+\)/,"upper-alpha":/^[A-Z]+\./,cn:/^[\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+[\u3001]/,cn2:/^\([\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+\)/},f={square:"n"};t.each(n.getNodesByTagName("p"),function(n){function s(n,t,r){n.tagName=="ol"?t.innerHTML(t.innerHTML().replace(i[r],"")):t.removeChild(t.firstChild());var u=UE.uNode.createElement("li");u.appendChild(t);n.appendChild(u)}var f,u,t;if(n.getAttr("class")=="MsoListParagraph"&&(n.setAttr("class",""),f=n,n.parentNode.tagName!="li"&&(u=e(n.innerText(),n)))){for(t=UE.uNode.createElement(r.options.insertorderedlist.hasOwnProperty(u)?"ol":"ul"),o[u]?t.setAttr("class","custom_"+u):t.setStyle("list-style-type",u);n&&n.parentNode.tagName!="li"&&e(n.innerText(),n);)f=n.nextSibling(),f||n.parentNode.insertBefore(t,n),s(t,n,u),n=f;!t.parentNode&&n&&n.parentNode&&n.parentNode.insertBefore(t,n)}})});r.addListener("contentchange",function(){p(r.document)});r.addListener("keydown",function(t,i){function d(){i.preventDefault?i.preventDefault():i.returnValue=!1;r.fireEvent("contentchange");r.undoManger&&r.undoManger.save()}function it(t,i){while(t&&!n.isBody(t)){if(i(t))return null;if(t.nodeType==1&&/[ou]l/i.test(t.tagName))return t;t=t.parentNode}return null}var g=i.keyCode||i.which,tt,y,f,c,v,k,s,h,o,p;if(g==13&&!i.shiftKey){var nt=r.selection.getRange(),w=n.findParent(nt.startContainer,function(t){return n.isBlockElm(t)},!0),f=n.findParentByTagName(nt.startContainer,"li",!0);w&&w.tagName!="PRE"&&!f&&(tt=w.innerHTML.replace(new RegExp(n.fillChar,"g"),""),/^\s*1\s*\.[^\d]/.test(tt)&&(w.innerHTML=tt.replace(/^\s*1\s*\./,""),nt.setStartAtLast(w).collapse(!0).select(),r.__hasEnterExecCommand=!0,r.execCommand("insertorderedlist"),r.__hasEnterExecCommand=!1));var e=r.selection.getRange(),l=it(e.startContainer,function(n){return n.tagName=="TABLE"}),b=e.collapsed?l:it(e.endContainer,function(n){return n.tagName=="TABLE"});if(l&&b&&l===b){if(!e.collapsed)if(l=n.findParentByTagName(e.startContainer,"li",!0),b=n.findParentByTagName(e.endContainer,"li",!0),l&&b&&l===b){if(e.deleteContents(),f=n.findParentByTagName(e.startContainer,"li",!0),f&&n.isEmptyBlock(f)){s=f.previousSibling;next=f.nextSibling;h=r.document.createElement("p");n.fillNode(r.document,h);o=f.parentNode;s&&next?(e.setStart(next,0).collapse(!0).select(!0),n.remove(f)):((s||next)&&s?f.parentNode.parentNode.insertBefore(h,o.nextSibling):o.parentNode.insertBefore(h,o),n.remove(f),o.firstChild||n.remove(o),e.setStart(h,0).setCursor());d();return}}else{y=e.cloneRange();p=y.collapse(!1).createBookmark();e.deleteContents();y.moveToBookmark(p);f=n.findParentByTagName(y.startContainer,"li",!0);a(f);y.select();d();return}if(f=n.findParentByTagName(e.startContainer,"li",!0),f){if(n.isEmptyBlock(f)){if(p=e.createBookmark(),o=f.parentNode,f!==o.lastChild?(n.breakParent(f,o),a(f)):(o.parentNode.insertBefore(f,o.nextSibling),n.isEmptyNode(o)&&n.remove(o)),!u.$list[f.parentNode.tagName])if(n.isBlockElm(f.firstChild))n.remove(f,!0);else{for(h=r.document.createElement("p"),f.parentNode.insertBefore(h,f);f.firstChild;)h.appendChild(f.firstChild);n.remove(f)}e.moveToBookmark(p).select()}else{if(c=f.firstChild,!c||!n.isBlockElm(c)){for(h=r.document.createElement("p"),f.firstChild||n.fillNode(r.document,h);f.firstChild;)h.appendChild(f.firstChild);f.appendChild(h);c=h}v=r.document.createElement("span");e.insertNode(v);n.breakParent(v,f);k=v.nextSibling;c=k.firstChild;c||(h=r.document.createElement("p"),n.fillNode(r.document,h),k.appendChild(h),c=h);n.isEmptyNode(c)&&(c.innerHTML="",n.fillNode(r.document,c));e.setStart(c,0).collapse(!0).shrinkBoundary().select();n.remove(v);s=k.previousSibling;s&&n.isEmptyBlock(s)&&(s.innerHTML="<p><\/p>",n.fillNode(r.document,s.firstChild))}d()}}}if(g==8&&(e=r.selection.getRange(),e.collapsed&&n.isStartInblock(e)&&(y=e.cloneRange().trimBoundary(),f=n.findParentByTagName(e.startContainer,"li",!0),f&&n.isStartInblock(y)))){if(l=n.findParentByTagName(e.startContainer,"p",!0),l&&l!==f.firstChild){o=n.findParentByTagName(l,["ol","ul"]);n.breakParent(l,o);a(l);r.fireEvent("contentchange");e.setStart(l,0).setCursor(!1,!0);r.fireEvent("saveScene");n.preventDefault(i);return}if(f&&(s=f.previousSibling)){if(g==46&&f.childNodes.length)return;if(u.$list[s.tagName]&&(s=s.lastChild),r.undoManger&&r.undoManger.save(),c=f.firstChild,n.isBlockElm(c))if(n.isEmptyNode(c))for(s.appendChild(c),e.setStart(c,0).setCursor(!1,!0);f.firstChild;)s.appendChild(f.firstChild);else v=r.document.createElement("span"),e.insertNode(v),n.isEmptyBlock(s)&&(s.innerHTML=""),n.moveChild(f,s),e.setStartBefore(v).collapse(!0).select(!0),n.remove(v);else if(n.isEmptyNode(f))h=r.document.createElement("p"),s.appendChild(h),e.setStart(h,0).setCursor();else for(e.setEnd(s,s.childNodes.length).collapse().select(!0);f.firstChild;)s.appendChild(f.firstChild);n.remove(f);r.fireEvent("contentchange");r.fireEvent("saveScene");n.preventDefault(i);return}if(f&&!f.previousSibling){if(o=f.parentNode,p=e.createBookmark(),n.isTagNode(o.parentNode,"ol ul"))o.parentNode.insertBefore(f,o),n.isEmptyNode(o)&&n.remove(o);else{while(f.firstChild)o.parentNode.insertBefore(f.firstChild,o);n.remove(f);n.isEmptyNode(o)&&n.remove(o)}e.moveToBookmark(p).setCursor(!1,!0);r.fireEvent("contentchange");r.fireEvent("saveScene");n.preventDefault(i);return}}});r.addListener("keyup",function(t,i){var o=i.keyCode||i.which,f,u;o==8&&(f=r.selection.getRange(),(u=n.findParentByTagName(f.startContainer,["ol","ul"],!0))&&s(u,u.tagName.toLowerCase(),e(u)||n.getComputedStyle(u,"list-style-type"),!0))});r.addListener("tabkeydown",function(){function b(n){if(r.options.maxListLevel!=-1){for(var t=n.parentNode,i=0;/[ou]l/i.test(t.tagName);)i++,t=t.parentNode;if(i>=r.options.maxListLevel)return!0}}var l=r.selection.getRange(),i=n.findParentByTagName(l.startContainer,"li",!0),a,y,k,p,d,w,o;if(i)if(l.collapsed){if(b(i))return!0;var c=i.parentNode,u=r.document.createElement(c.tagName),v=t.indexOf(f[u.tagName],e(c)||n.getComputedStyle(c,"list-style-type"));if(v=v+1==f[u.tagName].length?0:v+1,y=f[u.tagName][v],h(u,y),n.isStartInblock(l))return r.fireEvent("saveScene"),a=l.createBookmark(),c.insertBefore(u,i),u.appendChild(i),s(u,u.tagName.toLowerCase(),y),r.fireEvent("contentchange"),l.moveToBookmark(a).select(!0),!0}else{for(r.fireEvent("saveScene"),a=l.createBookmark(),k=0,d=n.findParents(i);w=d[k++];)if(n.isTagNode(w,"ol ul")){p=w;break}if(o=i,a.end)while(o&&!(n.getPosition(o,a.end)&n.POSITION_FOLLOWING)){if(b(o)){o=n.getNextDomNode(o,!1,null,function(n){return n!==p});continue}var c=o.parentNode,u=r.document.createElement(c.tagName),v=t.indexOf(f[u.tagName],e(c)||n.getComputedStyle(c,"list-style-type")),g=v+1==f[u.tagName].length?0:v+1,y=f[u.tagName][g];for(h(u,y),c.insertBefore(u,o);o&&!(n.getPosition(o,a.end)&n.POSITION_FOLLOWING);){if(i=o.nextSibling,u.appendChild(o),!i||n.isTagNode(i,"ol ul")){if(i){while(i=i.firstChild)if(i.tagName=="LI")break}else i=n.getNextDomNode(o,!1,null,function(n){return n!==p});break}o=i}s(u,u.tagName.toLowerCase(),y);o=i}return r.fireEvent("contentchange"),l.moveToBookmark(a).select(),!0}});r.commands.insertorderedlist=r.commands.insertunorderedlist={execCommand:function(i,r){var ft,wt,lt,it,et,ot,at,rt,d,ct,tt,kt;r||(r=i.toLowerCase()=="insertorderedlist"?"decimal":"disc");var l=this,y=this.selection.getRange(),ut=function(t){return t.nodeType==1?t.tagName.toLowerCase()!="br":!n.isWhitespace(t)},st=i.toLowerCase()=="insertorderedlist"?"ol":"ul",a=l.document.createDocumentFragment();y.adjustmentBoundary().shrinkBoundary();var nt=y.createBookmark(!0),f=w(l.document.getElementById(nt.start)),yt=0,p=w(l.document.getElementById(nt.end)),pt=0,b,g,k,o;if(f||p){if(f&&(b=f.parentNode),nt.end||(p=f),p&&(g=p.parentNode),b===g){while(f!==p){if(o=f,f=f.nextSibling,!n.isBlockElm(o.firstChild)){for(ft=l.document.createElement("p");o.firstChild;)ft.appendChild(o.firstChild);o.appendChild(ft)}a.appendChild(o)}if(o=l.document.createElement("span"),b.insertBefore(o,p),!n.isBlockElm(p.firstChild)){for(ft=l.document.createElement("p");p.firstChild;)ft.appendChild(p.firstChild);p.appendChild(ft)}if(a.appendChild(p),n.breakParent(o,b),n.isEmptyNode(o.previousSibling)&&n.remove(o.previousSibling),n.isEmptyNode(o.nextSibling)&&n.remove(o.nextSibling),wt=e(b)||n.getComputedStyle(b,"list-style-type")||(i.toLowerCase()=="insertorderedlist"?"decimal":"disc"),b.tagName.toLowerCase()==st&&wt==r){for(ct=0,lt=l.document.createDocumentFragment();tt=a.childNodes[ct++];)if(n.isTagNode(tt,"ol ul"))t.each(n.getElementsByTagName(tt,"li"),function(n){while(n.firstChild)lt.appendChild(n.firstChild)});else while(tt.firstChild)lt.appendChild(tt.firstChild);o.parentNode.insertBefore(lt,o)}else k=l.document.createElement(st),h(k,r),k.appendChild(a),o.parentNode.insertBefore(k,o);n.remove(o);k&&s(k,st,r);y.moveToBookmark(nt).select();return}if(f){while(f){if(o=f.nextSibling,n.isTagNode(f,"ol ul"))a.appendChild(f);else{for(it=l.document.createDocumentFragment(),et=0;f.firstChild;)n.isBlockElm(f.firstChild)&&(et=1),it.appendChild(f.firstChild);et?a.appendChild(it):(ot=l.document.createElement("p"),ot.appendChild(it),a.appendChild(ot));n.remove(f)}f=o}b.parentNode.insertBefore(a,b.nextSibling);n.isEmptyNode(b)?(y.setStartBefore(b),n.remove(b)):y.setStartAfter(b);yt=1}if(p&&n.inDoc(g,l.document)){for(f=g.firstChild;f&&f!==p;){if(o=f.nextSibling,n.isTagNode(f,"ol ul"))a.appendChild(f);else{for(it=l.document.createDocumentFragment(),et=0;f.firstChild;)n.isBlockElm(f.firstChild)&&(et=1),it.appendChild(f.firstChild);et?a.appendChild(it):(ot=l.document.createElement("p"),ot.appendChild(it),a.appendChild(ot));n.remove(f)}f=o}at=n.createElement(l.document,"div",{tmpDiv:1});n.moveChild(p,at);a.appendChild(at);n.remove(p);g.parentNode.insertBefore(a,g);y.setEndBefore(g);n.isEmptyNode(g)&&n.remove(g);pt=1}}yt||y.setStartBefore(l.document.getElementById(nt.start));nt.end&&!pt&&y.setEndAfter(l.document.getElementById(nt.end));y.enlarge(!0,function(n){return v[n.tagName]});a=l.document.createDocumentFragment();for(var ht=y.createBookmark(),c=n.getNextDomNode(ht.start,!1,ut),vt=y.cloneRange(),d,bt=n.isBlockElm;c&&c!==ht.end&&n.getPosition(c,ht.end)&n.POSITION_PRECEDING;)if(c.nodeType==3||u.li[c.tagName]){if(c.nodeType==1&&u.$list[c.tagName]){while(c.firstChild)a.appendChild(c.firstChild);d=n.getNextDomNode(c,!1,ut);n.remove(c);c=d;continue}for(d=c,vt.setStartBefore(c);c&&c!==ht.end&&(!bt(c)||n.isBookmarkNode(c));)d=c,c=n.getNextDomNode(c,!1,null,function(n){return!v[n.tagName]});if(c&&bt(c)&&(o=n.getNextDomNode(d,!1,ut),o&&n.isBookmarkNode(o)&&(c=n.getNextDomNode(o,!1,ut),d=o)),vt.setEndAfter(d),c=n.getNextDomNode(d,!1,ut),rt=y.document.createElement("li"),rt.appendChild(vt.extractContents()),n.isEmptyNode(rt)){for(d=y.document.createElement("p");rt.firstChild;)d.appendChild(rt.firstChild);rt.appendChild(d)}a.appendChild(rt)}else c=n.getNextDomNode(c,!0,ut);for(y.moveToBookmark(ht).collapse(!0),k=l.document.createElement(st),h(k,r),k.appendChild(a),y.insertNode(k),s(k,st,r),ct=0,kt=n.getElementsByTagName(k,"div");tt=kt[ct++];)tt.getAttribute("tmpDiv")&&n.remove(tt,!0);y.moveToBookmark(nt).select()},queryCommandState:function(n){for(var i=n.toLowerCase()=="insertorderedlist"?"ol":"ul",r=this.selection.getStartElementPath(),u=0,t;t=r[u++];){if(t.nodeName=="TABLE")return 0;if(i==t.nodeName.toLowerCase())return 1}return 0},queryCommandValue:function(t){for(var u=t.toLowerCase()=="insertorderedlist"?"ol":"ul",f=this.selection.getStartElementPath(),i,o=0,r;r=f[o++];){if(r.nodeName=="TABLE"){i=null;break}if(u==r.nodeName.toLowerCase()){i=r;break}}return i?e(i)||n.getComputedStyle(i,"list-style-type"):null}}},function(){var r={textarea:function(n,t){var r=t.ownerDocument.createElement("textarea");return r.style.cssText="position:absolute;resize:none;width:100%;height:100%;border:0;padding:0;margin:0;overflow-y:auto;",i.ie&&i.version<8&&(r.style.width=t.offsetWidth+"px",r.style.height=t.offsetHeight+"px",t.onresize=function(){r.style.width=t.offsetWidth+"px";r.style.height=t.offsetHeight+"px"}),t.appendChild(r),{setContent:function(n){r.value=n},getContent:function(){return r.value},select:function(){var n;i.ie?(n=r.createTextRange(),n.collapse(!0),n.select()):(r.setSelectionRange(0,0),r.focus())},dispose:function(){t.removeChild(r);t.onresize=null;r=null;t=null}}},codemirror:function(n,t){var i=window.CodeMirror(t,{mode:"text/html",tabMode:"indent",lineNumbers:!0,lineWrapping:!0}),r=i.getWrapperElement();return r.style.cssText='position:absolute;left:0;top:0;width:100%;height:100%;font-family:consolas,"Courier new",monospace;font-size:13px;',i.getScrollerElement().style.cssText="position:absolute;left:0;top:0;width:100%;height:100%;",i.refresh(),{getCodeMirror:function(){return i},setContent:function(n){i.setValue(n)},getContent:function(){return i.getValue()},select:function(){i.focus()},dispose:function(){t.removeChild(r);r=null;i=null}}}};UE.plugins.source=function(){function a(n){return r[f.sourceEditor=="codemirror"&&window.CodeMirror?"codemirror":"textarea"](u,n)}var u=this,f=this.options,o=!1,e,h,c,s,l;f.sourceEditor=i.ie?"textarea":f.sourceEditor||"codemirror";u.setOpt({sourceEditorFirst:!1});c=u.getContent;u.commands.source={execCommand:function(){var r,l,v,f,t;if(o=!o,o)s=u.selection.getRange().createAddress(!1,!0),u.undoManger&&u.undoManger.save(!0),i.gecko&&(u.body.contentEditable=!1),h=u.iframe.style.cssText,u.iframe.style.cssText+="position:absolute;left:-32768px;top:-32768px;",u.fireEvent("beforegetcontent"),r=UE.htmlparser(u.body.innerHTML,!0),u.filterOutputRule(r),r.traversal(function(n){if(n.type=="element")switch(n.tagName){case"td":case"th":case"caption":n.children&&n.children.length==1&&n.firstChild().tagName=="br"&&n.removeChild(n.firstChild());break;case"pre":n.innerText(n.innerText().replace(/&nbsp;/g," "))}}),u.fireEvent("aftergetcontent"),l=r.toHtml(!0),e=a(u.iframe.parentNode),e.setContent(l),setTimeout(function(){e.select();u.addListener("fullscreenchanged",function(){try{e.getCodeMirror().refresh()}catch(n){}})}),u.getContent=function(){return e.getContent()||"<p>"+(i.ie?"":"<br/>")+"<\/p>"};else if(u.iframe.style.cssText=h,v=e.getContent()||"<p>"+(i.ie?"":"<br/>")+"<\/p>",u.setContent(v),e.dispose(),e=null,u.getContent=c,f=u.body.firstChild,f||(u.body.innerHTML="<p>"+(i.ie?"":"<br/>")+"<\/p>",f=u.body.firstChild),u.undoManger&&u.undoManger.save(!0),i.gecko)t=document.createElement("input"),t.style.cssText="position:absolute;left:0;top:-32768px",document.body.appendChild(t),u.body.contentEditable=!1,setTimeout(function(){n.setViewportOffset(t,{left:-32768,top:0});t.focus();setTimeout(function(){u.body.contentEditable=!0;u.selection.getRange().moveToAddress(s).select(!0);n.remove(t)})});else try{u.selection.getRange().moveToAddress(s).select(!0)}catch(y){}this.fireEvent("sourcemodechanged",o)},queryCommandState:function(){return o|0},notNeedUndo:1};l=u.queryCommandState;u.queryCommandState=function(n){return(n=n.toLowerCase(),o)?n in{source:1,fullscreen:1}?1:-1:l.apply(this,arguments)};f.sourceEditor=="codemirror"&&u.addListener("ready",function(){t.loadFile(document,{src:f.codeMirrorJsUrl||f.UEDITOR_HOME_URL+"third-party/codemirror/codemirror.js",tag:"script",type:"text/javascript",defer:"defer"},function(){f.sourceEditorFirst&&setTimeout(function(){u.execCommand("source")},0)});t.loadFile(document,{tag:"link",rel:"stylesheet",type:"text/css",href:f.codeMirrorCssUrl||f.UEDITOR_HOME_URL+"third-party/codemirror/codemirror.css"})})}}();UE.plugins.enterkey=function(){var r,t=this,f=t.options.enterTag;t.addListener("keyup",function(u,f){var v=f.keyCode||f.which,o,h,c,a,s,e,l;if(v==13)if(o=t.selection.getRange(),h=o.startContainer,i.ie)t.fireEvent("saveScene",!0,!0);else{if(/h\d/i.test(r)){if(i.gecko)a=n.findParentByTagName(h,["h1","h2","h3","h4","h5","h6","blockquote","caption","table"],!0),a||(t.document.execCommand("formatBlock",!1,"<p>"),c=1);else if(h.nodeType==1){if(s=t.document.createTextNode(""),o.insertNode(s),e=n.findParentByTagName(s,"div",!0),e){for(l=t.document.createElement("p");e.firstChild;)l.appendChild(e.firstChild);e.parentNode.insertBefore(l,e);n.remove(e);o.setStartBefore(s).setCursor();c=1}n.remove(s)}t.undoManger&&c&&t.undoManger.save()}i.opera&&o.select()}});t.addListener("keydown",function(e,o){var y=o.keyCode||o.which,s,c,v;if(y==13){if(t.fireEvent("beforeenterkeydown")){n.preventDefault(o);return}if(t.fireEvent("saveScene",!0,!0),r="",s=t.selection.getRange(),!s.collapsed){var h=s.startContainer,p=s.endContainer,l=n.findParentByTagName(h,"td",!0),a=n.findParentByTagName(p,"td",!0);if(l&&a&&l!==a||!l&&a||l&&!a){o.preventDefault?o.preventDefault():o.returnValue=!1;return}}if(f=="p")i.ie||(h=n.findParentByTagName(s.startContainer,["ol","ul","p","h1","h2","h3","h4","h5","h6","blockquote","caption"],!0),h||i.opera?(r=h.tagName,h.tagName.toLowerCase()=="p"&&i.gecko&&n.removeDirtyAttr(h)):(t.document.execCommand("formatBlock",!1,"<p>"),i.gecko&&(s=t.selection.getRange(),h=n.findParentByTagName(s.startContainer,"p",!0),h&&n.removeDirtyAttr(h))));else if(o.preventDefault?o.preventDefault():o.returnValue=!1,s.collapsed)c=s.document.createElement("br"),s.insertNode(c),v=c.parentNode,v.lastChild===c?(c.parentNode.insertBefore(c.cloneNode(!0),c),s.setStartBefore(c)):s.setStartAfter(c),s.setCursor();else if(s.deleteContents(),h=s.startContainer,h.nodeType==1&&(h=h.childNodes[s.startOffset])){while(h.nodeType==1){if(u.$empty[h.tagName])return s.setStartBefore(h).setCursor(),t.undoManger&&t.undoManger.save(),!1;if(!h.firstChild)return c=s.document.createElement("br"),h.appendChild(c),s.setStart(h,0).setCursor(),t.undoManger&&t.undoManger.save(),!1;h=h.firstChild}h===s.startContainer.childNodes[s.startOffset]?(c=s.document.createElement("br"),s.insertNode(c).setCursor()):s.setStart(h,0).setCursor()}else c=s.document.createElement("br"),s.insertNode(c).setStartAfter(c).setCursor()}})};UE.plugins.keystrokes=function(){var t=this,r=!0;t.addListener("keydown",function(u,f){var c=f.keyCode||f.which,e=t.selection.getRange(),s,o,l,b,h,y,g,p,w,a,v;if(!e.collapsed&&!(f.ctrlKey||f.shiftKey||f.altKey||f.metaKey)&&(c>=65&&c<=90||c>=48&&c<=57||c>=96&&c<=111||{13:1,8:1,46:1}[c])&&(s=e.startContainer,n.isFillChar(s)&&e.setStartBefore(s),s=e.endContainer,n.isFillChar(s)&&e.setEndAfter(s),e.txtToElmBoundary(),e.endContainer&&e.endContainer.nodeType==1&&(s=e.endContainer.childNodes[e.endOffset],s&&n.isBr(s)&&e.setEndAfter(s)),e.startOffset==0&&(s=e.startContainer,n.isBoundaryNode(s,"firstChild")&&(s=e.endContainer,e.endOffset==(s.nodeType==3?s.nodeValue.length:s.childNodes.length)&&n.isBoundaryNode(s,"lastChild"))))){t.fireEvent("saveScene");t.body.innerHTML="<p>"+(i.ie?"":"<br/>")+"<\/p>";e.setStart(t.body.firstChild,0).setCursor(!1,!0);t._selectionChange();return}if(c==8){if(e=t.selection.getRange(),r=e.collapsed,e.collapsed&&e.inFillChar()&&(o=e.startContainer,n.isFillChar(o)?(e.setStartBefore(o).shrinkBoundary(!0).collapse(!0),n.remove(o)):(o.nodeValue=o.nodeValue.replace(new RegExp("^"+n.fillChar),""),e.startOffset--,e.collapse(!0).select(!0))),o=e.getClosedNode()){t.fireEvent("saveScene");e.setStartBefore(o);n.remove(o);e.setCursor();t.fireEvent("saveScene");n.preventDefault(f);return}if(!i.ie&&(o=n.findParentByTagName(e.startContainer,"table",!0),l=n.findParentByTagName(e.endContainer,"table",!0),o&&!l||!o&&l||o!==l)){f.preventDefault();return}}if(c==9){if(b={ol:1,ul:1,table:1},t.fireEvent("tabkeydown",f)){n.preventDefault(f);return}h=t.selection.getRange();t.fireEvent("saveScene");for(var k=0,d="",nt=t.options.tabSize||4,tt=t.options.tabNode||"&nbsp;";k<nt;k++)d+=tt;if(y=t.document.createElement("span"),y.innerHTML=d+n.fillChar,h.collapsed)h.insertNode(y.cloneNode(!0).firstChild).setCursor(!0);else if(o=n.findParent(h.startContainer,p),l=n.findParent(h.endContainer,p),o&&l&&o===l)h.deleteContents(),h.insertNode(y.cloneNode(!0).firstChild).setCursor(!0);else{for(g=h.createBookmark(),p=function(t){return n.isBlockElm(t)&&!b[t.tagName.toLowerCase()]},h.enlarge(!0),w=h.createBookmark(),a=n.getNextDomNode(w.start,!1,p);a&&!(n.getPosition(a,w.end)&n.POSITION_FOLLOWING);)a.insertBefore(y.cloneNode(!0).firstChild,a.firstChild),a=n.getNextDomNode(a,!1,p);h.moveToBookmark(w).moveToBookmark(g).select()}n.preventDefault(f)}if(i.gecko&&c==46&&(h=t.selection.getRange(),h.collapsed&&(o=h.startContainer,n.isEmptyBlock(o)))){for(v=o.parentNode;n.getChildCount(v)==1&&!n.isBody(v);)o=v,v=v.parentNode;o===v.lastChild&&f.preventDefault();return}});t.addListener("keyup",function(t,u){var a=u.keyCode||u.which,f,c=this,l,o,s,e,h;if(a==8){if(c.fireEvent("delkeyup"))return;if(f=c.selection.getRange(),f.collapsed){if(l=["h1","h2","h3","h4","h5","h6"],(e=n.findParentByTagName(f.startContainer,l,!0))&&n.isEmptyBlock(e)){if(o=e.previousSibling,o&&o.nodeName!="TABLE"){n.remove(e);f.setStartAtLast(o).setCursor(!1,!0);return}if(s=e.nextSibling,s&&s.nodeName!="TABLE"){n.remove(e);f.setStartAtFirst(s).setCursor(!1,!0);return}}n.isBody(f.startContainer)&&(e=n.createElement(c.document,"p",{innerHTML:i.ie?n.fillChar:"<br/>"}),f.insertNode(e).setStart(e,0).setCursor(!1,!0))}!r&&(f.startContainer.nodeType==3||f.startContainer.nodeType==1&&n.isEmptyBlock(f.startContainer))&&(i.ie?(h=f.document.createElement("span"),f.insertNode(h).setStartBefore(h).collapse(!0),f.select(),n.remove(h)):f.select())}})};UE.plugins.fiximgclick=function(){var n=this;i.webkit&&n.addListener("click",function(t,i){if(i.target.tagName=="IMG"){var r=new e.Range(n.document);r.selectNode(i.target).select()}})};UE.plugins.autolink=function(){var u=0,r;i.ie||(r=this,r.addListener("reset",function(){u=0}),r.addListener("keydown",function(i,u){var v=u.keyCode||u.which,e,o,a,s;if(v==32||v==13){for(var h=r.selection.getNative(),f=h.getRangeAt(0).cloneRange(),c,l,e=f.startContainer;e.nodeType==1&&f.startOffset>0;){if(e=f.startContainer.childNodes[f.startOffset-1],!e)break;f.setStart(e,e.nodeType==1?e.childNodes.length:e.nodeValue.length);f.collapse(!0);e=f.startContainer}do{if(f.startOffset==0){for(e=f.startContainer.previousSibling;e&&e.nodeType==1;)e=e.lastChild;if(!e||n.isFillChar(e))break;c=e.nodeValue.length}else e=f.startContainer,c=f.startOffset;f.setStart(e,c-1);l=f.toString().charCodeAt(0)}while(l!=160&&l!=32);if(f.toString().replace(new RegExp(n.fillChar,"g"),"").match(/(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i)){while(f.toString().length){if(/^(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i.test(f.toString()))break;try{f.setStart(f.startContainer,f.startOffset+1)}catch(y){for(e=f.startContainer;!(next=e.nextSibling);){if(n.isBody(e))return;e=e.parentNode}f.setStart(next,0)}}if(n.findParentByTagName(f.startContainer,"a",!0))return;o=r.document.createElement("a");a=r.document.createTextNode(" ");r.undoManger&&r.undoManger.save();o.appendChild(f.extractContents());o.href=o.innerHTML=o.innerHTML.replace(/<[^>]+>/g,"");s=o.getAttribute("href").replace(new RegExp(n.fillChar,"g"),"");s=/^(?:https?:\/\/)/ig.test(s)?s:"http://"+s;o.setAttribute("_src",t.html(s));o.href=t.html(s);f.insertNode(o);o.parentNode.insertBefore(a,o.nextSibling);f.setStart(a,0);f.collapse(!0);h.removeAllRanges();h.addRange(f);r.undoManger&&r.undoManger.save()}}}))};UE.plugins.autoheight=function(){function r(){var t=this;(clearTimeout(c),l)||(c=setTimeout(function(){t.queryCommandState&&t.queryCommandState("source")!=1&&(u||(u=t.document.createElement("span"),u.style.cssText="display:block;width:0;margin:0;padding:0;border:0;clear:both;",u.innerHTML="."),f=u.cloneNode(!0),t.body.appendChild(f),e=Math.max(n.getXY(f).y+f.offsetHeight,Math.max(s.minFrameHeight,s.initialFrameHeight)),e!=o&&(t.setHeight(e),o=e),n.remove(f))},50))}var t=this,h,u,f,o,s,e,c,l;(t.autoHeightEnabled=t.options.autoHeightEnabled!==!1,t.autoHeightEnabled)&&(o=0,s=t.options,t.addListener("fullscreenchanged",function(n,t){l=t}),t.addListener("destroy",function(){t.removeListener("contentchange",r);t.removeListener("afterinserthtml",r);t.removeListener("keyup",r);t.removeListener("mouseup",r)}),t.enableAutoHeight=function(){if(t.autoHeightEnabled){var n=t.document;t.autoHeightEnabled=!0;h=n.body.style.overflowY;n.body.style.overflowY="hidden";t.addListener("contentchange",r);t.addListener("afterinserthtml",r);t.addListener("keyup",r);t.addListener("mouseup",r);setTimeout(function(){r.call(this)},i.gecko?100:0);t.fireEvent("autoheightchanged",t.autoHeightEnabled)}},t.disableAutoHeight=function(){t.body.style.overflowY=h||"";t.removeListener("contentchange",r);t.removeListener("keyup",r);t.removeListener("mouseup",r);t.autoHeightEnabled=!1;t.fireEvent("autoheightchanged",t.autoHeightEnabled)},t.addListener("ready",function(){t.enableAutoHeight();var u;n.on(i.ie?t.body:t.document,i.webkit?"dragover":"drop",function(){clearTimeout(u);u=setTimeout(function(){r.call(this)},100)})}))};UE.plugins.autofloat=function(){function d(n){return n.ui?1:(alert(w.autofloatMsg),0)}function g(){var n=document.body.style;n.backgroundImage='url("about:blank")';n.backgroundAttachment="fixed"}function nt(){var e=n.getXY(r),t=n.getComputedStyle(r,"position"),h=n.getComputedStyle(r,"left");r.style.width=r.offsetWidth+"px";r.style.zIndex=u.options.zIndex*1+1;r.parentNode.insertBefore(f,r);a||k&&i.ie?(r.style.position!="absolute"&&(r.style.position="absolute"),r.style.top=(document.body.scrollTop||document.documentElement.scrollTop)-y+s+"px"):(i.ie7Compat&&o&&(o=!1,r.style.left=n.getXY(r).x-document.documentElement.getBoundingClientRect().left+2+"px"),r.style.position!="fixed"&&(r.style.position="fixed",r.style.top=s+"px",(t=="absolute"||t=="relative")&&parseFloat(h)&&(r.style.left=e.x+"px")))}function p(){o=!0;f.parentNode&&f.parentNode.removeChild(f);r.style.cssText=v}function e(){var n=h(u.container),t=u.options.toolbarTopOffset||0;n.top<0&&n.bottom-r.offsetHeight>t?nt():p()}var u=this,w=u.getLang(),l,s,v,f,r,y,h,o,c;if(u.setOpt({topOffset:0}),l=u.options.autoFloatEnabled!==!1,s=u.options.topOffset,l){var b=UE.ui.uiUtils,a=i.ie&&i.version<=6,k=i.quirks;f=document.createElement("div");o=!0;c=t.defer(function(){e()},i.ie?200:100,!0);u.addListener("destroy",function(){n.un(window,["scroll","resize"],e);u.removeListener("keydown",c)});u.addListener("ready",function(){if(d(u)){h=b.getClientRect;r=u.ui.getDom("toolbarbox");y=h(r).top;v=r.style.cssText;f.style.height=r.offsetHeight+"px";a&&g();n.on(window,["scroll","resize"],e);u.addListener("keydown",c);u.addListener("beforefullscreenchange",function(n,t){t&&p()});u.addListener("fullscreenchanged",function(n,t){t||e()});u.addListener("sourcemodechanged",function(){setTimeout(function(){e()},0)});u.addListener("clearDoc",function(){setTimeout(function(){e()},0)})}})}};UE.plugins.pasteplain=function(){var t=this,n;t.setOpt({pasteplain:!1,filterTxtRules:function(){function n(n){n.tagName="p";n.setStyle()}return{"-":"script style object iframe embed input select",p:{$:{}},br:{$:{}},div:function(n){for(var i,t=UE.uNode.createElement("p");i=n.firstChild();)i.type!="text"&&UE.dom.dtd.$block[i.tagName]?t.firstChild()?(n.parentNode.insertBefore(t,n),t=UE.uNode.createElement("p")):n.parentNode.insertBefore(i,n):t.appendChild(i);t.firstChild()&&n.parentNode.insertBefore(t,n);n.parentNode.removeChild(n)},ol:function(n){n.parentNode.removeChild(n,!0)},ul:function(n){n.parentNode.removeChild(n,!0)},dl:function(n){n.parentNode.removeChild(n,!0)},dt:function(n){n.parentNode.removeChild(n,!0)},dd:function(n){n.parentNode.removeChild(n,!0)},li:function(n){n.parentNode.removeChild(n,!0)},caption:n,th:n,tr:n,h1:n,h2:n,h3:n,h4:n,h5:n,h6:n,td:function(n){var t=!!n.innerText();t&&n.parentNode.insertAfter(UE.uNode.createText(" &nbsp; &nbsp;"),n);n.parentNode.removeChild(n,n.innerText())}}}()});n=t.options.pasteplain;t.commands.pasteplain={queryCommandState:function(){return n?1:0},execCommand:function(){n=!n|0},notNeedUndo:1}};UE.plugins.video=function(){function r(n,t,r,u,f,e){return e?'<embed type="application/x-shockwave-flash" class="edui-faked-video" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+n+'" width="'+t+'" height="'+r+'"'+(f?' style="float:'+f+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >':"<img "+(u?'id="'+u+'"':"")+' width="'+t+'" height="'+r+'" _url="'+n+'" class="edui-faked-video" src="'+i.options.UEDITOR_HOME_URL+'themes/default/images/spacer.gif" style="background:url('+i.options.UEDITOR_HOME_URL+"themes/default/images/videologo.gif) no-repeat center center; border:1px solid gray;"+(f?"float:"+f+";":"")+'" />'}function u(n,i){t.each(n.getNodesByTagName(i?"img":"embed"),function(n){if(n.getAttr("class")=="edui-faked-video"){var t=r(i?n.getAttr("_url"):n.getAttr("src"),n.getAttr("width"),n.getAttr("height"),null,n.getStyle("float")||"",i);n.parentNode.replaceChild(UE.uNode.createElement(t),n)}})}var i=this;i.addOutputRule(function(n){u(n,!0)});i.addInputRule(function(n){u(n)});i.commands.insertvideo={execCommand:function(u,f){var h,l,o,a,e,s,c;for(f=t.isArray(f)?f:[f],h=[],l="tmpVedio",e=0,s=f.length;e<s;e++)o=f[e],h.push(r(o.url,o.width||420,o.height||280,l+e,null,!1));for(i.execCommand("inserthtml",h.join(""),!0),a=this.selection.getRange(),e=0,s=f.length;e<s;e++)c=this.document.getElementById("tmpVedio"+e),n.removeAttributes(c,"id"),a.selectNode(c).select(),i.execCommand("imagefloat",f[e].align)},queryCommandState:function(){var n=i.selection.getRange().getClosedNode(),t=n&&n.className=="edui-faked-video";return t?1:0}}},function(){function f(){}var r=UE.UETable=function(n){this.table=n;this.indexTable=[];this.selectedTds=[];this.cellsRange={};this.update(n)};r.removeSelectedClass=function(i){t.each(i,function(t){n.removeClasses(t,"selectTdClass")})};r.addSelectedClass=function(i){t.each(i,function(t){n.addClass(t,"selectTdClass")})};r.isEmptyBlock=function(t){var f=new RegExp(n.fillChar,"g"),r;if(t[i.ie?"innerText":"textContent"].replace(/^\s*$/,"").replace(f,"").length>0)return 0;for(r in u.$isNotEmpty)if(u.$isNotEmpty.hasOwnProperty(r)&&t.getElementsByTagName(r).length)return 0;return 1};r.getWidth=function(t){return t?parseInt(n.getComputedStyle(t,"width"),10):0};r.getTableCellAlignState=function(n){t.isArray(n)||(n=[n]);var i={},f=["align","valign"],r=null,u=!0;return t.each(n,function(n){return t.each(f,function(t){if(r=n.getAttribute(t),!i[t]&&r)i[t]=r;else if(!i[t]||r!==i[t])return u=!1,!1}),u}),u?i:null};r.getTableItemsByRange=function(t){var i=t.selection.getStart(),r=i&&n.findParentByTagName(i,["td","th"],!0),u=r&&r.parentNode,f=i&&n.findParentByTagName(i,"caption",!0),e=f?f.parentNode:u&&u.parentNode.parentNode;return{cell:r,tr:u,table:e,caption:f}};r.getUETableBySelected=function(n){var t=r.getTableItemsByRange(n).table;return t&&t.ueTable&&t.ueTable.selectedTds.length?t.ueTable:null};r.getDefaultValue=function(t,i){var u={thin:"0px",medium:"1px",thick:"2px"},e,o,s,r,f;return i?(f=i.getElementsByTagName("td")[0],r=n.getComputedStyle(i,"border-left-width"),e=parseInt(u[r]||r,10),r=n.getComputedStyle(f,"padding-left"),o=parseInt(u[r]||r,10),r=n.getComputedStyle(f,"border-left-width"),s=parseInt(u[r]||r,10),{tableBorder:e,tdPadding:o,tdBorder:s}):(i=t.document.createElement("table"),i.insertRow(0).insertCell(0).innerHTML="xxx",t.body.appendChild(i),f=i.getElementsByTagName("td")[0],r=n.getComputedStyle(i,"border-left-width"),e=parseInt(u[r]||r,10),r=n.getComputedStyle(f,"padding-left"),o=parseInt(u[r]||r,10),r=n.getComputedStyle(f,"border-left-width"),s=parseInt(u[r]||r,10),n.remove(i),{tableBorder:e,tdPadding:o,tdBorder:s})};r.getUETable=function(t){var i=t.tagName.toLowerCase();return t=i=="td"||i=="th"||i=="caption"?n.findParentByTagName(t,"table",!0):t,t.ueTable||(t.ueTable=new r(t)),t.ueTable};r.cloneCell=function(i,r,u){var e,f;return!i||t.isString(i)?this.table.ownerDocument.createElement(i||"td"):(e=n.hasClass(i,"selectTdClass"),e&&n.removeClasses(i,"selectTdClass"),f=i.cloneNode(!0),r&&(f.rowSpan=f.colSpan=1),f.style.borderLeftStyle="",f.style.borderTopStyle="",f.style.borderLeftColor=i.style.borderRightColor,f.style.borderLeftWidth=i.style.borderRightWidth,f.style.borderTopColor=i.style.borderBottomColor,f.style.borderTopWidth=i.style.borderBottomWidth,e&&n.addClass(i,"selectTdClass"),u&&n.removeAttributes(f,"width height"),f)};r.prototype={getMaxRows:function(){for(var n,u,f,e=this.table.rows,t=1,i=0,r;r=e[i];i++){for(n=1,u=0;f=r.cells[u++];)n=Math.max(f.rowSpan||1,n);t=Math.max(n+i,t)}return t},getMaxCols:function(){for(var u,o,t,i,s=this.table.rows,f=0,r={},n=0,e;e=s[n];n++){for(u=0,o=0;t=e.cells[o++];)if(u+=t.colSpan||1,t.rowSpan&&t.rowSpan>1)for(i=1;i<t.rowSpan;i++)r["row_"+(n+i)]?r["row_"+(n+i)]++:r["row_"+(n+i)]=t.colSpan||1;u+=r["row_"+n]||0;f=Math.max(u,f)}return f},getCellColIndex:function(){},getHSideCell:function(n,t){try{var i=this.getCellInfo(n),e,o,r=this.selectedTds.length,u=this.cellsRange;return!t&&(r?!u.beginColIndex:!i.colIndex)||t&&(r?u.endColIndex==this.colsNum-1:i.colIndex==this.colsNum-1)?null:(e=r?u.beginRowIndex:i.rowIndex,o=t?r?u.endColIndex+1:i.colIndex+1:r?u.beginColIndex-1:i.colIndex<1?0:i.colIndex-1,this.getCell(this.indexTable[e][o].rowIndex,this.indexTable[e][o].cellIndex))}catch(s){f(s)}},getTabNextCell:function(n,t){var u=this.getCellInfo(n),i=t||u.rowIndex,r=u.colIndex+1+(u.colSpan-1),f;try{f=this.getCell(this.indexTable[i][r].rowIndex,this.indexTable[i][r].cellIndex)}catch(e){try{i=i*1+1;r=0;f=this.getCell(this.indexTable[i][r].rowIndex,this.indexTable[i][r].cellIndex)}catch(e){}}return f},getVSideCell:function(n,t,i){try{var r=this.getCellInfo(n),o,s,u=this.selectedTds.length&&!i,e=this.cellsRange;return!t&&r.rowIndex==0||t&&(u?e.endRowIndex==this.rowsNum-1:r.rowIndex+r.rowSpan>this.rowsNum-1)?null:(o=t?u?e.endRowIndex+1:r.rowIndex+r.rowSpan:u?e.beginRowIndex-1:r.rowIndex-1,s=u?e.beginColIndex:r.colIndex,this.getCell(this.indexTable[o][s].rowIndex,this.indexTable[o][s].cellIndex))}catch(h){f(h)}},getSameEndPosCells:function(t,i){var e,l,u,o;try{var r=i.toLowerCase()==="x",s=n.getXY(t)[r?"x":"y"]+t["offset"+(r?"Width":"Height")],a=this.table.rows,h=null,c=[];for(e=0;e<this.rowsNum;e++)for(h=a[e].cells,l=0;u=h[l++];){if(o=n.getXY(u)[r?"x":"y"]+u["offset"+(r?"Width":"Height")],o>s&&r)break;if((t==u||s==o)&&(u[r?"colSpan":"rowSpan"]==1&&c.push(u),r))break}return c}catch(v){f(v)}},setCellContent:function(t,r){t.innerHTML=r||(i.ie?n.fillChar:"<br />")},cloneCell:r.cloneCell,getSameStartPosXCells:function(t){var i,h,r,u;try{var e=n.getXY(t).x+t.offsetWidth,c=this.table.rows,o,s=[];for(i=0;i<this.rowsNum;i++)for(o=c[i].cells,h=0;r=o[h++];){if(u=n.getXY(r).x,u>e)break;if(u==e&&r.colSpan==1){s.push(r);break}}return s}catch(l){f(l)}},update:function(i){var a,w,o,s,l,r,b,u,f,g,e;this.table=i||this.table;this.selectedTds=[];this.cellsRange={};this.indexTable=[];for(var h=this.table.rows,c=this.getMaxRows(),tt=c-h.length,p=this.getMaxCols();tt--;)this.table.insertRow(h.length);for(this.rowsNum=c,this.colsNum=p,a=0,w=h.length;a<w;a++)this.indexTable[a]=new Array(p);for(o=0;s=h[o];o++)for(l=0,b=s.cells;r=b[l];l++){r.rowSpan>c&&(r.rowSpan=c);for(var v=l,k=r.rowSpan||1,d=r.colSpan||1;this.indexTable[o][v];)v++;for(u=0;u<k;u++)for(f=0;f<d;f++)this.indexTable[o+u][v+f]={rowIndex:o,cellIndex:l,colIndex:v,rowSpan:k,colSpan:d}}for(u=0;u<c;u++)for(f=0;f<p;f++)this.indexTable[u][f]===undefined&&(s=h[u],r=s.cells[s.cells.length-1],r=r?r.cloneNode(!0):this.table.ownerDocument.createElement("td"),this.setCellContent(r),r.colSpan!==1&&(r.colSpan=1),r.rowSpan!==1&&(r.rowSpan=1),s.appendChild(r),this.indexTable[u][f]={rowIndex:u,cellIndex:r.cellIndex,colIndex:f,rowSpan:1,colSpan:1});if(g=n.getElementsByTagName(this.table,"td"),e=[],t.each(g,function(t){n.hasClass(t,"selectTdClass")&&e.push(t)}),e.length){var it=e[0],rt=e[e.length-1],nt=this.getCellInfo(it),y=this.getCellInfo(rt);this.selectedTds=e;this.cellsRange={beginRowIndex:nt.rowIndex,beginColIndex:nt.colIndex,endRowIndex:y.rowIndex+y.rowSpan-1,endColIndex:y.colIndex+y.colSpan-1}}},getCellInfo:function(n){var t,i;if(n){var r=n.cellIndex,u=n.parentNode.rowIndex,f=this.indexTable[u],e=this.colsNum;for(t=r;t<e;t++)if(i=f[t],i.rowIndex===u&&i.cellIndex===r)return i}},getCell:function(n,t){return n<this.rowsNum&&this.table.rows[n].cells[t]||null},deleteCell:function(n,t){t=typeof t=="number"?t:n.parentNode.rowIndex;var i=this.table.rows[t];i.deleteCell(n.cellIndex)},getCellsRange:function(n,t){function f(n,t,i,u){var h=n,c=t,l=i,a=u,s,o,e;if(n>0)for(o=t;o<u;o++)s=r.indexTable[n][o],e=s.rowIndex,e<n&&(h=Math.min(e,h));if(u<r.colsNum)for(e=n;e<i;e++)s=r.indexTable[e][u],o=s.colIndex+s.colSpan-1,o>u&&(a=Math.max(o,a));if(i<r.rowsNum)for(o=t;o<u;o++)s=r.indexTable[i][o],e=s.rowIndex+s.rowSpan-1,e>i&&(l=Math.max(e,l));if(t>0)for(e=n;e<i;e++)s=r.indexTable[e][t],o=s.colIndex,o<t&&(c=Math.min(s.colIndex,c));return h!=n||c!=t||l!=i||a!=u?f(h,c,l,a):{beginRowIndex:n,beginColIndex:t,endRowIndex:i,endColIndex:u}}var r,i;try{if(r=this,i=r.getCellInfo(n),n===t)return{beginRowIndex:i.rowIndex,beginColIndex:i.colIndex,endRowIndex:i.rowIndex+i.rowSpan-1,endColIndex:i.colIndex+i.colSpan-1};var u=r.getCellInfo(t),e=Math.min(i.rowIndex,u.rowIndex),o=Math.min(i.colIndex,u.colIndex),s=Math.max(i.rowIndex+i.rowSpan-1,u.rowIndex+u.rowSpan-1),h=Math.max(i.colIndex+i.colSpan-1,u.colIndex+u.colSpan-1);return f(e,o,s,h)}catch(c){if(debug)throw c;}},getCells:function(n){var r,u,e;this.clearSelected();var l=n.beginRowIndex,a=n.beginColIndex,o=n.endRowIndex,s=n.endColIndex,t,i,f,h={},c=[];for(r=l;r<=o;r++)for(u=a;u<=s;u++)if(t=this.indexTable[r][u],i=t.rowIndex,f=t.colIndex,e=i+"|"+f,!h[e]){if(h[e]=1,i<r||f<u||i+t.rowSpan-1>o||f+t.colSpan-1>s)return null;c.push(this.getCell(i,t.cellIndex))}return c},clearSelected:function(){r.removeSelectedClass(this.selectedTds);this.selectedTds=[];this.cellsRange={}},setSelected:function(n){var t=this.getCells(n);r.addSelectedClass(t);this.selectedTds=t;this.cellsRange=n},isFullRow:function(){var n=this.cellsRange;return n.endColIndex-n.beginColIndex+1==this.colsNum},isFullCol:function(){var t=this.cellsRange,i=this.table,r=i.getElementsByTagName("th"),n=t.endRowIndex-t.beginRowIndex+1;return r.length?n==this.rowsNum||n==this.rowsNum-1:n==this.rowsNum},getNextCell:function(n,t,i){try{var r=this.getCellInfo(n),o,s,u=this.selectedTds.length&&!i,e=this.cellsRange;return!t&&r.rowIndex==0||t&&(u?e.endRowIndex==this.rowsNum-1:r.rowIndex+r.rowSpan>this.rowsNum-1)?null:(o=t?u?e.endRowIndex+1:r.rowIndex+r.rowSpan:u?e.beginRowIndex-1:r.rowIndex-1,s=u?e.beginColIndex:r.colIndex,this.getCell(this.indexTable[o][s].rowIndex,this.indexTable[o][s].cellIndex))}catch(h){f(h)}},getPreviewCell:function(n,t){try{var i=this.getCellInfo(n),e,o,r=this.selectedTds.length,u=this.cellsRange;return!t&&(r?!u.beginColIndex:!i.colIndex)||t&&(r?u.endColIndex==this.colsNum-1:i.rowIndex>this.colsNum-1)?null:(e=t?r?u.beginRowIndex:i.rowIndex<1?0:i.rowIndex-1:r?u.beginRowIndex:i.rowIndex,o=t?r?u.endColIndex+1:i.colIndex:r?u.beginColIndex-1:i.colIndex<1?0:i.colIndex-1,this.getCell(this.indexTable[e][o].rowIndex,this.indexTable[e][o].cellIndex))}catch(s){f(s)}},moveContent:function(n,t){if(!r.isEmptyBlock(t)){if(r.isEmptyBlock(n)){n.innerHTML=t.innerHTML;return}var i=n.lastChild;for(i.nodeType!=3&&u.$block[i.tagName]||n.appendChild(n.ownerDocument.createElement("br"));i=t.firstChild;)n.appendChild(i)}},mergeRight:function(n){var t=this.getCellInfo(n),u=t.colIndex+t.colSpan,i=this.indexTable[t.rowIndex][u],r=this.getCell(i.rowIndex,i.cellIndex);n.colSpan=t.colSpan+i.colSpan;n.removeAttribute("width");this.moveContent(n,r);this.deleteCell(r,i.rowIndex);this.update()},mergeDown:function(n){var t=this.getCellInfo(n),u=t.rowIndex+t.rowSpan,i=this.indexTable[u][t.colIndex],r=this.getCell(i.rowIndex,i.cellIndex);n.rowSpan=t.rowSpan+i.rowSpan;n.removeAttribute("height");this.moveContent(n,r);this.deleteCell(r,i.rowIndex);this.update()},mergeRange:function(){var t=this.cellsRange,n=this.getCell(t.beginRowIndex,this.indexTable[t.beginRowIndex][t.beginColIndex].cellIndex),r,u,h,f,e,i,o,s;for(n.tagName=="TH"&&t.endRowIndex!==t.beginRowIndex&&(r=this.indexTable,u=this.getCellInfo(n),n=this.getCell(1,r[1][u.colIndex].cellIndex),t=this.getCellsRange(n,this.getCell(r[this.rowsNum-1][u.colIndex].rowIndex,r[this.rowsNum-1][u.colIndex].cellIndex))),h=this.getCells(t),i=0;f=h[i++];)f!==n&&(this.moveContent(n,f),this.deleteCell(f));if(n.rowSpan=t.endRowIndex-t.beginRowIndex+1,n.rowSpan>1&&n.removeAttribute("height"),n.colSpan=t.endColIndex-t.beginColIndex+1,n.colSpan>1&&n.removeAttribute("width"),n.rowSpan==this.rowsNum&&n.colSpan!=1&&(n.colSpan=1),n.colSpan==this.colsNum&&n.rowSpan!=1){if(e=n.parentNode.rowIndex,this.table.deleteRow)for(var i=e+1,c=e+1,o=n.rowSpan;i<o;i++)this.table.deleteRow(c);else for(i=0,o=n.rowSpan-1;i<o;i++)s=this.table.rows[e+1],s.parentNode.removeChild(s);n.rowSpan=1}this.update()},insertRow:function(n,t){var u=this.colsNum,o=this.table,e=o.insertRow(n),i,c=parseInt((o.offsetWidth-u*20-u-1)/u,10),r,s,h,f;if(n==0||n==this.rowsNum)for(r=0;r<u;r++)i=this.cloneCell(t,!0,!0),this.setCellContent(i),i.getAttribute("vAlign")&&i.setAttribute("vAlign",i.getAttribute("vAlign")),e.appendChild(i);else for(s=this.indexTable[n],h=0,r=0;r<u;r++)f=s[r],f.rowIndex<n?(i=this.getCell(f.rowIndex,f.cellIndex),i.rowSpan=f.rowSpan+1):(i=this.cloneCell(t,!0,!0),this.setCellContent(i),e.appendChild(i));return this.update(),e},deleteRow:function(i){for(var e,u,f,h,c,l,a=this.table.rows[i],s=this.indexTable[i],v=this.colsNum,y=0,r=0;r<v;){if(e=s[r],u=this.getCell(e.rowIndex,e.cellIndex),u.rowSpan>1&&e.rowIndex==i){f=u.cloneNode(!0);f.rowSpan=u.rowSpan-1;f.innerHTML="";u.rowSpan=1;var p=i+1,o=this.table.rows[p],w,b=this.getPreviewMergedCellsNum(p,r)-y;b<r?(w=r-b-1,n.insertAfter(o.cells[w],f)):o.cells.length&&o.insertBefore(f,o.cells[0]);y+=1}r+=u.colSpan||1}for(h=[],c={},r=0;r<v;r++){var k=s[r].rowIndex,d=s[r].cellIndex,g=k+"_"+d;c[g]||(c[g]=1,u=this.getCell(k,d),h.push(u))}l=[];t.each(h,function(n){n.rowSpan==1?n.parentNode.removeChild(n):l.push(n)});t.each(l,function(n){n.rowSpan--});a.parentNode.removeChild(a);this.update()},insertCol:function(t,i,r){function c(t,i,r){var u,f;t==0?(u=i.nextSibling||i.previousSibling,u.tagName=="TH"&&(u=i.ownerDocument.createElement("th"),u.appendChild(i.firstChild),r.insertBefore(u,i),n.remove(i))):i.tagName=="TH"&&(f=i.ownerDocument.createElement("td"),f.appendChild(i.firstChild),r.insertBefore(f,i),n.remove(i))}var h=this.rowsNum,e=0,f,u,l=parseInt((this.table.offsetWidth-(this.colsNum+1)*20-(this.colsNum+1))/(this.colsNum+1),10),o,s;if(t==0||t==this.colsNum)for(;e<h;e++)f=this.table.rows[e],o=f.cells[t==0?t:f.cells.length],u=this.cloneCell(i,!0),this.setCellContent(u),u.setAttribute("vAlign",u.getAttribute("vAlign")),o&&u.setAttribute("width",o.getAttribute("width")),t?n.insertAfter(f.cells[f.cells.length-1],u):f.insertBefore(u,f.cells[0]),c(e,u,f);else for(;e<h;e++)s=this.indexTable[e][t],s.colIndex<t?(u=this.getCell(s.rowIndex,s.cellIndex),u.colSpan=s.colSpan+1):(f=this.table.rows[e],o=f.cells[s.cellIndex],u=this.cloneCell(i,!0),this.setCellContent(u),u.setAttribute("vAlign",u.getAttribute("vAlign")),o&&u.setAttribute("width",o.getAttribute("width")),f.insertBefore(u,o)),c(e,u,f);this.update();this.updateWidth(l,r||{tdPadding:10,tdBorder:1})},updateWidth:function(i,u){var f=this.table,e=r.getWidth(f)-u.tdPadding*2-u.tdBorder+i,o;if(e<f.ownerDocument.body.offsetWidth){f.setAttribute("width",e);return}o=n.getElementsByTagName(this.table,"td");t.each(o,function(n){n.setAttribute("width",i)})},deleteCol:function(n){for(var i,o=this.indexTable,s=this.table.rows,h=this.table.getAttribute("width"),u=0,c=this.rowsNum,f={},r=0;r<c;){var l=o[r],t=l[n],e=t.rowIndex+"_"+t.colIndex;f[e]||(f[e]=1,i=this.getCell(t.rowIndex,t.cellIndex),u||(u=i&&parseInt(i.offsetWidth/i.colSpan,10).toFixed(0)),i.colSpan>1?i.colSpan--:s[r].deleteCell(t.cellIndex),r+=t.rowSpan||1)}this.table.setAttribute("width",h-u);this.update()},splitToCells:function(n){var i=this,r=this.splitToRows(n);t.each(r,function(n){i.splitToCols(n)})},splitToRows:function(n){var r=this.getCellInfo(n),u=r.rowIndex,e=r.colIndex,f=[],i,o,s,t;for(n.rowSpan=1,f.push(n),i=u,o=u+r.rowSpan;i<o;i++)i!=u&&(s=this.table.rows[i],t=s.insertCell(e-this.getPreviewMergedCellsNum(i,e)),t.colSpan=r.colSpan,this.setCellContent(t),t.setAttribute("vAlign",n.getAttribute("vAlign")),t.setAttribute("align",n.getAttribute("align")),n.style.cssText&&(t.style.cssText=n.style.cssText),f.push(t));return this.update(),f},getPreviewMergedCellsNum:function(n,t){for(var r,e,u=this.indexTable[n],f=0,i=0;i<t;)r=u[i].colSpan,e=u[i].rowIndex,f+=r-(e==n?1:0),i+=r;return f},splitToCols:function(t){var h=(t.offsetWidth/t.colSpan-22).toFixed(0),f=this.getCellInfo(t),c=f.rowIndex,e=f.colIndex,o=[],r,l,s,i,u;for(t.colSpan=1,t.setAttribute("width",h),o.push(t),r=e,l=e+f.colSpan;r<l;r++)r!=e&&(s=this.table.rows[c],i=s.insertCell(this.indexTable[c][r].cellIndex+1),i.rowSpan=f.rowSpan,this.setCellContent(i),i.setAttribute("vAlign",t.getAttribute("vAlign")),i.setAttribute("align",t.getAttribute("align")),i.setAttribute("width",h),t.style.cssText&&(i.style.cssText=t.style.cssText),t.tagName=="TH"&&(u=t.ownerDocument.createElement("th"),u.appendChild(i.firstChild),u.setAttribute("vAlign",t.getAttribute("vAlign")),u.rowSpan=i.rowSpan,s.insertBefore(u,i),n.remove(i)),o.push(i));return this.update(),o},isLastCell:function(n,t,i){t=t||this.rowsNum;i=i||this.colsNum;var r=this.getCellInfo(n);return r.rowIndex+r.rowSpan==t&&r.colIndex+r.colSpan==i},getLastCell:function(n){n=n||this.table.getElementsByTagName("td");var s=this.getCellInfo(n[0]),e=this,i=n[0],o=i.parentNode,u=0,r=0,f;return t.each(n,function(n){n.parentNode==o&&(r+=n.colSpan||1);u+=n.rowSpan*n.colSpan||1}),f=u/r,t.each(n,function(n){if(e.isLastCell(n,f,r))return i=n,!1}),i},selectRow:function(n){var t=this.indexTable[n],i=this.getCell(t[0].rowIndex,t[0].cellIndex),r=this.getCell(t[this.colsNum-1].rowIndex,t[this.colsNum-1].cellIndex),u=this.getCellsRange(i,r);this.setSelected(u)},selectTable:function(){var n=this.table.getElementsByTagName("td"),t=this.getCellsRange(n[0],n[n.length-1]);this.setSelected(t)},sortTable:function(n,i){var c=this.table,o=c.rows,u=[],v=o[0].cells[0].tagName==="TH",l=0,f,r,s,h,e,a;if(this.selectedTds.length){for(f=this.cellsRange,e=f.endRowIndex+1,r=f.beginRowIndex;r<e;r++)u[r]=o[r];u.splice(0,f.beginRowIndex);l=f.endRowIndex+1===this.rowsNum?0:f.endRowIndex+1}else for(r=0,e=o.length;r<e;r++)u[r]=o[r];for(v&&u.splice(0,1),u=t.sort(u,function(t,r){var u=function(n){return n.innerText||n.textContent};return i?typeof i=="number"?i:i.call(this,t.cells[n],r.cells[n]):function(){var i=u(t.cells[n]),f=u(r.cells[n]);return i.localeCompare(f)}()}),s=c.ownerDocument.createDocumentFragment(),h=0,e=u.length;h<e;h++)s.appendChild(u[h]);a=c.getElementsByTagName("tbody")[0];l?a.insertBefore(s,o[l-f.endRowIndex+f.beginRowIndex-1]):a.appendChild(s)},setBackground:function(n,i){var f,u,e;if(typeof i=="string")t.each(n,function(n){n.style.backgroundColor=i});else if(typeof i=="object"){i=t.extend({repeat:!0,colorList:["#ddd","#fff"]},i);var o=this.getCellInfo(n[0]).rowIndex,r=0,s=i.colorList,h=function(n,t,i){return n[t]?n[t]:i?n[t%n.length]:""};for(f=0;u=n[f++];)e=this.getCellInfo(u),u.style.backgroundColor=h(s,o+r==e.rowIndex?r:++r,i.repeat)}},removeBackground:function(n){t.each(n,function(n){n.style.backgroundColor=""})}}}(),function(){function c(n,i){var r=n.getElementsByTagName("td");t.each(r,function(n){n.removeAttribute("width")});n.setAttribute("width",h(i,!0,s(i,n)));setTimeout(function(){t.each(r,function(n){n.colSpan==1&&n.setAttribute("width",n.offsetWidth+"")})},0)}function h(t,i,r){var u=t.body;return u.offsetWidth-(i?parseInt(n.getComputedStyle(u,"margin-left"),10)*2:0)-r.tableBorder*2-(t.options.offsetWidth||0)}function f(n){var t=r(n).cell,i;return t?(i=u(t),i.selectedTds.length?i.selectedTds:[t]):[]}var o=UE.UETable,r=function(n){return o.getTableItemsByRange(n)},e=function(n){return o.getUETableBySelected(n)},s=function(n,t){return o.getDefaultValue(n,t)},u=function(n){return o.getUETable(n)};UE.commands.inserttable={queryCommandState:function(){return r(this).table?-1:0},execCommand:function(r,u){function l(t,r,u){for(var e,f=[],s=t.numRows,h=t.numCols,o=0;o<s;o++){for(f.push("<tr>"),e=0;e<h;e++)f.push('<td width="'+u+'"  vAlign="'+t.tdvalign+'" >'+(i.ie?n.fillChar:"<br/>")+"<\/td>");f.push("<\/tr>")}return'<table width="'+r+'"   ><tbody>'+f.join("")+"<\/tbody><\/table>"}u||(u=t.extend({},{numCols:this.options.defaultCols,numRows:this.options.defaultRows,tdvalign:this.options.tdvalign}));var a=this.selection.getRange(),v=a.startContainer,o=n.findParent(v,function(t){return n.isBlockElm(t)},!0),f=this,e=s(f),c=h(f,!0,e)-(o?parseInt(n.getXY(o).x,10):0),y=Math.floor(c/u.numCols-e.tdPadding*2-e.tdBorder);u.tdvalign||(u.tdvalign=f.options.tdvalign);f.execCommand("inserthtml",l(u,c,y))}};UE.commands.insertparagraphbeforetable={queryCommandState:function(){return r(this).cell?0:-1},execCommand:function(){var t=r(this).table,n;t&&(n=this.document.createElement("p"),n.innerHTML=i.ie?"&nbsp;":"<br />",t.parentNode.insertBefore(n,t),this.selection.getRange().setStart(n,0).setCursor())}};UE.commands.deletetable={queryCommandState:function(){var t=this.selection.getRange();return n.findParentByTagName(t.startContainer,"table",!0)?0:-1},execCommand:function(t,r){var f=this.selection.getRange(),u;r=r||n.findParentByTagName(f.startContainer,"table",!0);r&&(u=r.nextSibling,u||(u=n.createElement(this.document,"p",{innerHTML:i.ie?n.fillChar:"<br/>"}),r.parentNode.insertBefore(u,r)),n.remove(r),f=this.selection.getRange(),u.nodeType==3?f.setStartBefore(u):f.setStart(u,0),f.setCursor(!1,!0),this.fireEvent("tablehasdeleted"))}};UE.commands.cellalign={queryCommandState:function(){return f(this).length?0:-1},execCommand:function(n,t){var i=f(this),r,u;if(i.length)for(r=0;u=i[r++];)u.setAttribute("align",t)}};UE.commands.cellvalign={queryCommandState:function(){return f(this).length?0:-1},execCommand:function(n,t){var i=f(this),r,u;if(i.length)for(r=0;u=i[r++];)u.setAttribute("vAlign",t)}};UE.commands.insertcaption={queryCommandState:function(){var n=r(this).table;return n?n.getElementsByTagName("caption").length==0?1:-1:-1},execCommand:function(){var u=r(this).table,t,f;u&&(t=this.document.createElement("caption"),t.innerHTML=i.ie?n.fillChar:"<br/>",u.insertBefore(t,u.firstChild),f=this.selection.getRange(),f.setStart(t,0).setCursor())}};UE.commands.deletecaption={queryCommandState:function(){var i=this.selection.getRange(),t=n.findParentByTagName(i.startContainer,"table");return t?t.getElementsByTagName("caption").length==0?-1:1:-1},execCommand:function(){var r=this.selection.getRange(),t=n.findParentByTagName(r.startContainer,"table"),i;t&&(n.remove(t.getElementsByTagName("caption")[0]),i=this.selection.getRange(),i.setStart(t.rows[0].cells[0],0).setCursor())}};UE.commands.inserttitle={queryCommandState:function(){var n=r(this).table,t;return n?(t=n.rows[0],t.getElementsByTagName("th").length==0?0:-1):-1},execCommand:function(){var n=r(this).table,t;n&&u(n).insertRow(0,"th");t=n.getElementsByTagName("th")[0];this.selection.getRange().setStart(t,0).setCursor(!1,!0)}};UE.commands.deletetitle={queryCommandState:function(){var n=r(this).table,t;return n?(t=n.rows[0],t.getElementsByTagName("th").length?0:-1):-1},execCommand:function(){var t=r(this).table,i;t&&n.remove(t.rows[0]);i=t.getElementsByTagName("td")[0];this.selection.getRange().setStart(i,0).setCursor(!1,!0)}};UE.commands.mergeright={queryCommandState:function(){var i=r(this),t,n,f,e;return i.cell?(t=u(i.table),t.selectedTds.length)?-1:(n=t.getCellInfo(i.cell),f=n.colIndex+n.colSpan,f>=t.colsNum)?-1:(e=t.indexTable[n.rowIndex][f],e.rowIndex==n.rowIndex&&e.rowSpan==n.rowSpan?0:-1):-1},execCommand:function(){var n=this.selection.getRange(),i=n.createBookmark(!0),t=r(this).cell,f=u(t);f.mergeRight(t);n.moveToBookmark(i).select()}};UE.commands.mergedown={queryCommandState:function(){var i=r(this),o=i.cell,t,n,f,e;return!o||o.tagName=="TH"?-1:(t=u(i.table),t.selectedTds.length)?-1:(n=t.getCellInfo(i.cell),f=n.rowIndex+n.rowSpan,f>=t.rowsNum)?-1:(e=t.indexTable[f][n.colIndex],e.colIndex==n.colIndex&&e.colSpan==n.colSpan&&i.cell.tagName!=="TH"?0:-1)},execCommand:function(){var n=this.selection.getRange(),i=n.createBookmark(!0),t=r(this).cell,f=u(t);f.mergeDown(t);n.moveToBookmark(i).select()}};UE.commands.mergecells={queryCommandState:function(){return e(this)?0:-1},execCommand:function(){var t=e(this),i,r;t&&t.selectedTds.length&&(i=t.selectedTds[0],t.mergeRange(),r=this.selection.getRange(),n.isEmptyBlock(i)?r.setStart(i,0).collapse(!0):r.selectNodeContents(i),r.select())}};UE.commands.insertrow={queryCommandState:function(){var n=r(this),t=n.cell;return t&&t.tagName=="TD"&&u(n.table).rowsNum<this.options.maxRowNum?0:-1},execCommand:function(){var o=this.selection.getRange(),c=o.createBookmark(!0),s=r(this),i=s.cell,f=s.table,n=u(f),l=n.getCellInfo(i),t,e,h;if(n.selectedTds.length)for(t=n.cellsRange,e=0,h=t.endRowIndex-t.beginRowIndex+1;e<h;e++)n.insertRow(t.beginRowIndex,i);else n.insertRow(l.rowIndex,i);o.moveToBookmark(c).select();f.getAttribute("interlaced")==="enabled"&&this.fireEvent("interlacetable",f)}};UE.commands.insertrownext={queryCommandState:function(){var n=r(this),t=n.cell;return t&&t.tagName=="TD"&&u(n.table).rowsNum<this.options.maxRowNum?0:-1},execCommand:function(){var o=this.selection.getRange(),l=o.createBookmark(!0),s=r(this),i=s.cell,f=s.table,n=u(f),h=n.getCellInfo(i),t,e,c;if(n.selectedTds.length)for(t=n.cellsRange,e=0,c=t.endRowIndex-t.beginRowIndex+1;e<c;e++)n.insertRow(t.endRowIndex+1,i);else n.insertRow(h.rowIndex+h.rowSpan,i);o.moveToBookmark(l).select();f.getAttribute("interlaced")==="enabled"&&this.fireEvent("interlacetable",f)}};UE.commands.deleterow={queryCommandState:function(){var n=r(this);if(!n.cell)return-1},execCommand:function(){var s=r(this).cell,i=u(s),f=i.cellsRange,e=i.getCellInfo(s),v=i.getVSideCell(s),y=i.getVSideCell(s,!0),h=this.selection.getRange(),c,o,l,a;if(t.isEmptyObject(f))i.deleteRow(e.rowIndex);else for(c=f.beginRowIndex;c<f.endRowIndex+1;c++)i.deleteRow(f.beginRowIndex);o=i.table;o.getElementsByTagName("td").length?e.rowSpan==1||e.rowSpan==f.endRowIndex-f.beginRowIndex+1?(y||v)&&h.selectNodeContents(y||v).setCursor(!1,!0):(a=i.getCell(e.rowIndex,i.indexTable[e.rowIndex][e.colIndex].cellIndex),a&&h.selectNodeContents(a).setCursor(!1,!0)):(l=o.nextSibling,n.remove(o),l&&h.setStart(l,0).setCursor(!1,!0));o.getAttribute("interlaced")==="enabled"&&this.fireEvent("interlacetable",o)}};UE.commands.insertcol={queryCommandState:function(){var t=r(this),n=t.cell;return n&&(n.tagName=="TD"||n.tagName=="TH")&&u(t.table).colsNum<this.options.maxColNum?0:-1},execCommand:function(n){var o=this.selection.getRange(),h=o.createBookmark(!0),f,e,s;if(this.queryCommandState(n)!=-1){var i=r(this).cell,t=u(i),c=t.getCellInfo(i);if(t.selectedTds.length)for(f=t.cellsRange,e=0,s=f.endColIndex-f.beginColIndex+1;e<s;e++)t.insertCol(f.beginColIndex,i);else t.insertCol(c.colIndex,i);o.moveToBookmark(h).select(!0)}}};UE.commands.insertcolnext={queryCommandState:function(){var n=r(this),t=n.cell;return t&&u(n.table).colsNum<this.options.maxColNum?0:-1},execCommand:function(){var e=this.selection.getRange(),h=e.createBookmark(!0),t=r(this).cell,n=u(t),o=n.getCellInfo(t),i,f,s;if(n.selectedTds.length)for(i=n.cellsRange,f=0,s=i.endColIndex-i.beginColIndex+1;f<s;f++)n.insertCol(i.endColIndex+1,t);else n.insertCol(o.colIndex+o.colSpan,t);e.moveToBookmark(h).select()}};UE.commands.deletecol={queryCommandState:function(){var n=r(this);if(!n.cell)return-1},execCommand:function(){var f=r(this).cell,i=u(f),o=i.cellsRange,v=i.getCellInfo(f),h=i.getHSideCell(f),c=i.getHSideCell(f,!0),l,s,e,a;if(t.isEmptyObject(o))i.deleteCol(v.colIndex);else for(l=o.beginColIndex;l<o.endColIndex+1;l++)i.deleteCol(o.beginColIndex);s=i.table;e=this.selection.getRange();s.getElementsByTagName("td").length?n.inDoc(f,this.document)?e.setStart(f,0).setCursor(!1,!0):c&&n.inDoc(c,this.document)?e.selectNodeContents(c).setCursor(!1,!0):h&&n.inDoc(h,this.document)&&e.selectNodeContents(h).setCursor(!0,!0):(a=s.nextSibling,n.remove(s),a&&e.setStart(a,0).setCursor(!1,!0))}};UE.commands.splittocells={queryCommandState:function(){var t=r(this),n=t.cell,i;return n?(i=u(t.table),i.selectedTds.length>0)?-1:n&&(n.colSpan>1||n.rowSpan>1)?0:-1:-1},execCommand:function(){var n=this.selection.getRange(),i=n.createBookmark(!0),t=r(this).cell,f=u(t);f.splitToCells(t);n.moveToBookmark(i).select()}};UE.commands.splittorows={queryCommandState:function(){var t=r(this),n=t.cell,i;return n?(i=u(t.table),i.selectedTds.length>0)?-1:n&&n.rowSpan>1?0:-1:-1},execCommand:function(){var n=this.selection.getRange(),i=n.createBookmark(!0),t=r(this).cell,f=u(t);f.splitToRows(t);n.moveToBookmark(i).select()}};UE.commands.splittocols={queryCommandState:function(){var t=r(this),n=t.cell,i;return n?(i=u(t.table),i.selectedTds.length>0)?-1:n&&n.colSpan>1?0:-1:-1},execCommand:function(){var n=this.selection.getRange(),i=n.createBookmark(!0),t=r(this).cell,f=u(t);f.splitToCols(t);n.moveToBookmark(i).select()}};UE.commands.adaptbytext=UE.commands.adaptbywindow={queryCommandState:function(){return r(this).table?0:-1},execCommand:function(i){var e=r(this),u=e.table,f;u&&(i=="adaptbywindow"?c(u,this):(f=n.getElementsByTagName(u,"td th"),t.each(f,function(n){n.removeAttribute("width")}),u.removeAttribute("width")))}};UE.commands.averagedistributecol={queryCommandState:function(){var n=e(this);return n?n.isFullRow()||n.isFullCol()?0:-1:-1},execCommand:function(){function u(){var e=i.table,t=0,u=0,o=s(r,e),h,c,f,n;if(i.isFullRow())t=e.offsetWidth,u=i.colsNum;else for(h=i.cellsRange.beginColIndex,c=i.cellsRange.endColIndex,n=h;n<=c;)f=i.selectedTds[n],t+=f.offsetWidth,n+=f.colSpan,u+=1;return Math.ceil(t/u)-o.tdBorder*2-o.tdPadding*2}function f(r){t.each(n.getElementsByTagName(i.table,"th"),function(n){n.setAttribute("width","")});var u=i.isFullRow()?n.getElementsByTagName(i.table,"td"):i.selectedTds;t.each(u,function(n){n.colSpan==1&&n.setAttribute("width",r)})}var r=this,i=e(r);i&&i.selectedTds.length&&f(u())}};UE.commands.averagedistributerow={queryCommandState:function(){var n=e(this);return n?n.selectedTds&&/th/ig.test(n.selectedTds[0].tagName)?-1:n.isFullRow()||n.isFullCol()?0:-1:-1},execCommand:function(){function f(){var f,e=0,t=r.table,y=s(u,t),p=parseInt(n.getComputedStyle(t.getElementsByTagName("td")[0],"padding-top")),c,o,l,a,h;if(r.isFullCol())c=n.getElementsByTagName(t,"caption"),o=n.getElementsByTagName(t,"th"),c.length>0&&(l=c[0].offsetHeight),o.length>0&&(a=o[0].offsetHeight),e=t.offsetHeight-(l||0)-(a||0),f=o.length==0?r.rowsNum:r.rowsNum-1;else{var w=r.cellsRange.beginRowIndex,b=r.cellsRange.endRowIndex,v=0,k=n.getElementsByTagName(t,"tr");for(h=w;h<=b;h++)e+=k[h].offsetHeight,v+=1;f=v}return i.ie&&i.version<9?Math.ceil(e/f):Math.ceil(e/f)-y.tdBorder*2-p*2}function o(i){var u=r.isFullCol()?n.getElementsByTagName(r.table,"td"):r.selectedTds;t.each(u,function(n){n.rowSpan==1&&n.setAttribute("height",i)})}var u=this,r=e(u);r&&r.selectedTds.length&&o(f())}};UE.commands.cellalignment={queryCommandState:function(){return r(this).table?0:-1},execCommand:function(i,r){var f=this,s=e(f),o,u;s?t.each(s.selectedTds,function(t){n.setAttributes(t,r)}):(o=f.selection.getStart(),u=o&&n.findParentByTagName(o,["td","th","caption"],!0),/caption/ig.test(u.tagName)?(u.style.textAlign=r.align,u.style.verticalAlign=r.vAlign):n.setAttributes(u,r),f.selection.getRange().setCursor(!0))},queryCommandValue:function(){var n=r(this).cell,t;return n||(n=f(this)[0]),n?(t=UE.UETable.getUETable(n).selectedTds,t.length||(t=n),UE.UETable.getTableCellAlignState(t)):null}};UE.commands.tablealignment={queryCommandState:function(){return i.ie&&i.version<8?-1:r(this).table?0:-1},execCommand:function(t,i){var f=this,r=f.selection.getStart(),u=r&&n.findParentByTagName(r,["table"],!0);u&&u.setAttribute("align",i)}};UE.commands.edittable={queryCommandState:function(){return r(this).table?0:-1},execCommand:function(i,r){var e=this.selection.getRange(),u=n.findParentByTagName(e.startContainer,"table"),f;u&&(f=n.getElementsByTagName(u,"td").concat(n.getElementsByTagName(u,"th"),n.getElementsByTagName(u,"caption")),t.each(f,function(n){n.style.borderColor=r}))}};UE.commands.edittd={queryCommandState:function(){return r(this).table?0:-1},execCommand:function(i,r){var o=this,s=e(o),u,f;s?t.each(s.selectedTds,function(n){n.style.backgroundColor=r}):(u=o.selection.getStart(),f=u&&n.findParentByTagName(u,["td","th","caption"],!0),f&&(f.style.backgroundColor=r))}};UE.commands.sorttable={queryCommandState:function(){var e=this,t=r(e),i,u,f,n;if(!t.cell)return-1;for(i=t.table,u=i.getElementsByTagName("td"),f=0;n=u[f++];)if(n.rowSpan!=1||n.colSpan!=1)return-1;return 0},execCommand:function(n,t){var i=this,f=i.selection.getRange(),s=f.createBookmark(!0),e=r(i),h=e.cell,o=u(e.table),c=o.getCellInfo(h);o.sortTable(c.cellIndex,t);f.moveToBookmark(s).select()}};UE.commands.enablesort=UE.commands.disablesort={queryCommandState:function(){return r(this).table?0:-1},execCommand:function(n){var t=r(this).table;t.setAttribute("data-sort",n=="enablesort"?"sortEnabled":"sortDisabled")}};UE.commands.settablebackground={queryCommandState:function(){var n=f(this);return n.length&&n[0].tagName.toLowerCase()==="td"?0:-1},execCommand:function(n,t){var i,r;i=f(this);r=u(i[0]);r.setBackground(i,t)}};UE.commands.cleartablebackground={queryCommandState:function(){var n=f(this),t,i;if(!n.length)return-1;for(t=0;i=n[t++];)if(i.style.backgroundColor!=="")return 0;return-1},execCommand:function(){var n=f(this),t=u(n[0]);t.removeBackground(n)}};UE.commands.interlacetable=UE.commands.uninterlacetable={queryCommandState:function(n){var i=r(this).table,t;return i?(t=i.getAttribute("interlaced"),n=="interlacetable"?t==="enabled"?-1:0:!t||t==="disabled"?-1:0):-1},execCommand:function(n,t){var i=r(this).table;n=="interlacetable"?(i.setAttribute("interlaced","enabled"),this.fireEvent("interlacetable",i,t)):(i.setAttribute("interlaced","disabled"),this.fireEvent("uninterlacetable",i))}}}();UE.plugins.table=function(){function ut(n){if(kt)throw n;}function lt(n){at(n,"width",!0);at(n,"height",!0)}function at(n,t,i){n.style[t]&&(i&&n.setAttribute(t,parseInt(n.style[t],10)),n.style[t]="")}function et(t){if(t.tagName=="TD"||t.tagName=="TH")return t;var i;return(i=n.findParentByTagName(t,"td",!0)||n.findParentByTagName(t,"th",!0))?i:null}function tt(t){var f=new RegExp(n.fillChar,"g"),r;if(t[i.ie?"innerText":"textContent"].replace(/^\s*$/,"").replace(f,"").length>0)return 0;for(r in u.$isNotEmpty)if(t.getElementsByTagName(r).length)return 0;return 1}function y(n){return n.pageX||n.pageY?{x:n.pageX,y:n.pageY}:{x:n.clientX+r.document.body.scrollLeft-r.document.body.clientLeft,y:n.clientY+r.document.body.scrollTop-r.document.body.clientTop}}function dt(t){var u,o,f,e;try{if(u=et(t.target||t.srcElement),v&&h){r.document.body.style.webkitUserSelect="none";r.selection.getNative()[i.ie?"empty":"removeAllRanges"]();o=y(t);p(r,!0,"",o,u);v=="h"?l.style.left=ti(h,t)+"px":v=="v"&&(l.style.top=ii(h,t)+"px");return}if(u){if(r.fireEvent("excludetable",u)===!0)return;if(o=y(t),f=it(u,o),e=n.findParentByTagName(u,"table",!0),d(e,u,t,!0)){if(r.fireEvent("excludetable",e)===!0)return;r.body.style.cursor="url("+r.options.cursorpath+"h.png),pointer"}else if(d(e,u,t)){if(r.fireEvent("excludetable",e)===!0)return;r.body.style.cursor="url("+r.options.cursorpath+"v.png),pointer"}else r.body.style.cursor="text",/\d/.test(f)&&(f=f.replace(/\d/,""),u=s(u).getPreviewCell(u,f=="v")),p(r,u?!!f:!1,u?f:"",o,u)}else vt(!1,e,r)}catch(c){ut(c)}}function vt(n,t,i){if(n)ni(t,i);else{if(nt)return;gt=setTimeout(function(){!nt&&f&&f.parentNode&&f.parentNode.removeChild(f)},2e3)}}function ni(t,i){function o(n,u){clearTimeout(r);r=setTimeout(function(){i.fireEvent("tableClicked",t,u)},300)}function h(){clearTimeout(r);var n=s(t),u=t.rows[0].cells[0],f=n.getLastCell(),e=n.getCellsRange(u,f);i.selection.getRange().setStart(u,0).setCursor(!1,!0);n.setSelected(e)}var u=n.getXY(t),e=t.ownerDocument,r;if(f&&f.parentNode)return f;f=e.createElement("div");f.contentEditable=!1;f.innerHTML="";f.style.cssText="width:15px;height:15px;background-image:url("+i.options.UEDITOR_HOME_URL+"dialogs/table/dragicon.png);position: absolute;cursor:move;top:"+(u.y-15)+"px;left:"+u.x+"px;";n.unSelectable(f);f.onmouseover=function(){nt=!0};f.onmouseout=function(){nt=!1};n.on(f,"click",function(n,t){o(t,this)});n.on(f,"dblclick",function(n,t){h(t)});n.on(f,"dragstart",function(t,i){n.preventDefault(i)});e.body.appendChild(f)}function d(t,i,r,u){var f=y(r),o=it(i,f),e,s;return u?(e=t.getElementsByTagName("caption")[0],s=e?e.offsetHeight:0,o=="v1"&&f.y-n.getXY(t).y-s<8):o=="h1"&&f.x-n.getXY(t).x<8}function ti(t,i){var u=s(t);if(u){var o=u.getSameEndPosCells(t,"x")[0],f=u.getSameStartPosXCells(t)[0],e=y(i).x,h=(o?n.getXY(o).x:n.getXY(u.table).x)+20,c=f?n.getXY(f).x+f.offsetWidth-20:r.body.offsetWidth+5||parseInt(n.getComputedStyle(r.body,"width"),10);return e<h?h:e>c?c:e}}function ii(t,i){try{var r=n.getXY(t).y,u=y(i).y;return u<r?r:u}catch(f){ut(f)}}function p(n,t,r,u,f){try{n.body.style.cursor=r=="h"?"col-resize":r=="v"?"row-resize":"text";i.ie&&(!r||k||c(n)?rt(n):(pt(n,n.document),wt(r,f)));ht=t}catch(e){ut(e)}}function it(t,i){var r=n.getXY(t);return r.x+t.offsetWidth-i.x<4?"h":i.x-r.x<4?"h1":r.y+t.offsetHeight-i.y<4?"v":i.y-r.y<4?"v1":""}function ri(u,f){var e,p,a,w,l,d;if(f.button==2){e=c(r);p=!1;e&&(a=bt(r,f),t.each(e.selectedTds,function(n){n===a&&(p=!0)}),p?(a=e.selectedTds[0],setTimeout(function(){r.selection.getRange().setStart(a,0).setCursor(!1,!0)},0)):(b(n.getElementsByTagName(r.body,"td")),b(n.getElementsByTagName(r.body,"th")),e.clearSelected()));return}if(!f.shiftKey&&(b(n.getElementsByTagName(r.body,"td")),b(n.getElementsByTagName(r.body,"th")),t.each(r.document.getElementsByTagName("table"),function(n){n.ueTable=null}),o=bt(r,f),o))if(w=n.findParentByTagName(o,"table",!0),e=s(w),e&&e.clearSelected(),ht){if(i.ie&&i.version<8)return;for(l=it(o,y(f)),/\d/.test(l)&&(l=l.replace(/\d/,""),o=s(o).getPreviewCell(o,l=="v")),rt(r);d=r.document.getElementById("ue_tableDragLine");)n.remove(d);r.fireEvent("saveScene");pt(r,r.document);wt(l,o);k=!0;v=l;h=o}else r.document.body.style.webkitUserSelect="",k=!0,r.addListener("mouseover",yt)}function ui(t,r){var b,d,w,y,g,p,c,a;if(r.button!=2){var u=this,f=u.selection.getRange(),c=n.findParentByTagName(f.startContainer,"table",!0),a=n.findParentByTagName(f.endContainer,"table",!0);if((c||a)&&(c===a?(c=n.findParentByTagName(f.startContainer,["td","th","caption"],!0),a=n.findParentByTagName(f.endContainer,["td","th","caption"],!0),c!==a&&u.selection.clearRange()):u.selection.clearRange()),k=!1,u.document.body.style.webkitUserSelect="",(!i.ie||i.ie&&i.version>7)&&v&&h){l=u.document.getElementById("ue_tableDragLine");b=n.getXY(h);d=n.getXY(l);switch(v){case"h":ei(h,d.x-b.x-h.offsetWidth);break;case"v":oi(h,d.y-b.y-h.offsetHeight)}for(v="",h=null;w=u.document.getElementById("ue_tableDragLine");)n.remove(w);u.fireEvent("saveScene");w&&u.document.appendChild(w);return}if(o)g=s(o),p=g?g.selectedTds[0]:null,p?(f=new e.Range(u.document),n.isEmptyBlock(p)?f.setStart(p,0).setCursor(!1,!0):f.selectNodeContents(p).shrinkBoundary().setCursor(!1,!0)):(f=u.selection.getRange().shrinkBoundary(),f.collapsed||(c=n.findParentByTagName(f.startContainer,["td","th"],!0),a=n.findParentByTagName(f.endContainer,["td","th"],!0),(c&&!a||!c&&a||c&&a&&c!==a)&&f.setCursor(!1,!0))),o=null,u.removeListener("mouseover",yt);else if(y=n.findParentByTagName(r.target||r.srcElement,"td",!0),y||(y=n.findParentByTagName(r.target||r.srcElement,"th",!0)),y&&(y.tagName=="TD"||y.tagName=="TH")){if(u.fireEvent("excludetable",y)===!0)return;f=new e.Range(u.document);f.setStart(y,0).setCursor(!1,!0)}u._selectionChange(250,r)}}function yt(t,r){var f=this,e=r.target||r.srcElement,u,h;a=n.findParentByTagName(e,"td",!0)||n.findParentByTagName(e,"th",!0);o&&a&&(o.tagName=="TD"&&a.tagName=="TD"||o.tagName=="TH"&&a.tagName=="TH")&&n.findParentByTagName(o,"table")==n.findParentByTagName(a,"table")&&(u=s(a),o!=a?(f.document.body.style.webkitUserSelect="none",f.selection.getNative()[i.ie?"empty":"removeAllRanges"](),h=u.getCellsRange(o,a),u.setSelected(h)):(f.document.body.style.webkitUserSelect="",u.clearSelected()));r.preventDefault?r.preventDefault():r.returnValue=!1}function fi(t,i,r){var u=parseInt(n.getComputedStyle(t,"line-height"),10),f=r+i;i=f<u?u:f;t.style.height&&(t.style.height="");t.rowSpan==1?t.setAttribute("height",i):t.removeAttribute&&t.removeAttribute("height")}function ot(t){return t?parseInt(n.getComputedStyle(t,"width"),10):0}function ei(n,i){var u;if(!(Math.abs(i)<10)&&(u=s(n),u)){var f=u.table,c=ot(f),e=g(r,f),o=u.getSameEndPosCells(n,"x"),l=ot(o[0])-e.tdPadding*2-e.tdBorder,h=u.getSameStartPosXCells(n),a=ot(h[0])-e.tdPadding*2-e.tdBorder;t.each(o,function(n){n.style.width&&(n.style.width="");i<0&&(n.style.wordBreak="break-all");n.setAttribute("width",l+i)});t.each(h,function(n){n.style.width&&(n.style.width="");i>0&&(n.style.wordBreak="break-all");n.setAttribute("width",a-i)});n.nextSibling||(f.style.width&&(f.style.width=""),f.setAttribute("width",c+i))}}function oi(n,t){var r,i,u,f,e;if(!(Math.abs(t)<10)&&(r=s(n),r))for(i=r.getSameEndPosCells(n,"y"),u=i[0]?i[0].offsetHeight:0,f=0;e=i[f++];)fi(e,t,u)}function pt(t){k||(l=t.document.createElement("div"),n.setAttributes(l,{id:"ue_tableDragLine",unselectable:"on",contenteditable:!1,onresizestart:"return false",ondragstart:"return false",onselectstart:"return false",style:"background-color:blue;position:absolute;padding:0;margin:0;background-image:none;border:0px none;opacity:0;filter:alpha(opacity=0)"}),t.body.appendChild(l))}function rt(t){if(!k)for(var i;i=t.document.getElementById("ue_tableDragLine");)n.remove(i)}function wt(t,i){if(i){var r=n.findParentByTagName(i,"table"),u=r.getElementsByTagName("caption"),s=r.offsetWidth,h=r.offsetHeight-(u.length>0?u[0].offsetHeight:0),e=n.getXY(r),o=n.getXY(i),f;switch(t){case"h":f="height:"+h+"px;top:"+(e.y+(u.length>0?u[0].offsetHeight:0))+"px;left:"+(o.x+i.offsetWidth-2);l.style.cssText=f+"px;position: absolute;display:block;background-color:blue;width:1px;border:0; color:blue;opacity:.3;filter:alpha(opacity=30)";break;case"v":f="width:"+s+"px;left:"+e.x+"px;top:"+(o.y+i.offsetHeight-2);l.style.cssText=f+"px;overflow:hidden;position: absolute;display:block;background-color:blue;height:1px;border:0;color:blue;opacity:.2;filter:alpha(opacity=20)"}}}function st(t,i){for(var u,e=n.getElementsByTagName(t.body,"table"),f,o=0,r;r=e[o++];)u=n.getElementsByTagName(r,"td"),u[0]&&(i?(f=u[0].style.borderColor.replace(/\s/g,""),/(#ffffff)|(rgb\(255,f55,255\))/ig.test(f)&&n.addClass(r,"noBorderTable")):n.removeClasses(r,"noBorderTable"))}function si(t,i,r){var u=t.body;return u.offsetWidth-(i?parseInt(n.getComputedStyle(u,"margin-left"),10)*2:0)-r.tableBorder*2-(t.options.offsetWidth||0)}function bt(t,i){var r=n.findParentByTagName(i.target||i.srcElement,["td","th"],!0);return r&&!(t.fireEvent("excludetable",r)===!0)?r:null}var r=this,kt=!0,w=UE.UETable,s=function(n){return w.getUETable(n)},c=function(n){return w.getUETableBySelected(n)},g=function(n,t){return w.getDefaultValue(n,t)},b=function(n){return w.removeSelectedClass(n)},ct,gt;r.ready(function(){var n=this,r=n.selection.getText;n.selection.getText=function(){var f=c(n),u;return f?(u="",t.each(f.selectedTds,function(n){u+=n[i.ie?"innerText":"textContent"]}),u):r.call(n.selection)}});var o=null,a=null,v="",ht=!1,f=null,nt=!1,l=null,h=null,k=!1,ft=!0;r.setOpt({maxColNum:20,maxRowNum:100,defaultCols:5,defaultRows:5,tdvalign:"top",cursorpath:r.options.UEDITOR_HOME_URL+"themes/default/images/cursor_",tableDragable:!1,classList:["ue-table-interlace-color-single","ue-table-interlace-color-double"]});r.getUETable=s;ct={deletetable:1,inserttable:1,cellvalign:1,insertcaption:1,deletecaption:1,inserttitle:1,deletetitle:1,mergeright:1,mergedown:1,mergecells:1,insertrow:1,insertrownext:1,deleterow:1,insertcol:1,insertcolnext:1,deletecol:1,splittocells:1,splittorows:1,splittocols:1,adaptbytext:1,adaptbywindow:1,adaptbycustomer:1,insertparagraph:1,insertparagraphbeforetable:1,averagedistributecol:1,averagedistributerow:1};r.ready(function(){var u,h,l,v,o,a;if(t.cssRule("table",".selectTdClass{background-color:#edf5fa !important}table.noBorderTable td,table.noBorderTable th,table.noBorderTable caption{border:1px dashed #ddd !important}table{margin-bottom:10px;border-collapse:collapse;display:table;}td,th{padding: 5px 10px;border: 1px solid #DDD;}caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}th{border-top:2px solid #BBB;background:#F7F7F7;}.ue-table-interlace-color-single{ background-color: #fcfcfc; } .ue-table-interlace-color-double{ background-color: #f7faff; }td p{margin:0;padding:0;}",r.document),r.addListener("keydown",function(t,i){var r=this,p=i.keyCode||i.which,w,s,e,o,f,y,a,v;if(p==8&&(f=c(r),f&&f.selectedTds.length&&(f.isFullCol()?r.execCommand("deletecol"):f.isFullRow()?r.execCommand("deleterow"):r.fireEvent("delcells"),n.preventDefault(i)),e=n.findParentByTagName(r.selection.getStart(),"caption",!0),w=r.selection.getRange(),w.collapsed&&e&&tt(e)&&(r.fireEvent("saveScene"),o=e.parentNode,n.remove(e),o&&w.setStart(o.rows[0].cells[0],0).setCursor(!1,!0),r.fireEvent("saveScene"))),p==46&&(f=c(r),f)){for(r.fireEvent("saveScene"),a=0;v=f.selectedTds[a++];)n.fillNode(r.document,v);r.fireEvent("saveScene");n.preventDefault(i)}if(p==13){if(s=r.selection.getRange(),e=n.findParentByTagName(s.startContainer,"caption",!0),e){o=n.findParentByTagName(e,"table");s.collapsed?e&&s.setStart(o.rows[0].cells[0],0).setCursor(!1,!0):(s.deleteContents(),r.fireEvent("saveScene"));n.preventDefault(i);return}if(s.collapsed&&(o=n.findParentByTagName(s.startContainer,"table"),o)){var k=o.rows[0].cells[0],d=n.findParentByTagName(r.selection.getStart(),["td","th"],!0),b=o.previousSibling;k===d&&(!b||b.nodeType==1&&b.tagName=="TABLE")&&n.isStartInblock(s)&&(r.execCommand("insertparagraphbeforetable"),n.preventDefault(i))}}if((i.ctrlKey||i.metaKey)&&i.keyCode=="67"&&(u=null,f=c(r),f))for(y=f.selectedTds,h=f.isFullCol(),l=f.isFullRow(),u=[[f.cloneCell(y[0])]],a=1;v=y[a];a++)v.parentNode!==y[a-1].parentNode?u.push([f.cloneCell(v)]):u[u.length-1].push(f.cloneCell(v))}),r.addListener("tablehasdeleted",function(){p(this,!1,"",null);f&&n.remove(f)}),r.addListener("beforepaste",function(r,f){var v=this,ot=v.selection.getRange(),rt,a,ut,at,p,st,d,ht,nt,et,b,y,it,o,e,vt,yt,k,ct;if(n.findParentByTagName(ot.startContainer,"caption",!0)){k=v.document.createElement("div");k.innerHTML=f.html;f.html=k[i.ie?"innerText":"textContent"];return}if(rt=c(v),u){if(v.fireEvent("saveScene"),ot=v.selection.getRange(),a=n.findParentByTagName(ot.startContainer,["td","th"],!0),a){if(p=s(a),l)for(st=p.getCellInfo(a).rowIndex,a.tagName=="TH"&&st++,b=0;y=u[b++];){for(it=p.insertRow(st++,"td"),o=0;e=y[o];o++)d=it.cells[o],d||(d=it.insertCell(o)),d.innerHTML=e.innerHTML,e.getAttribute("width")&&d.setAttribute("width",e.getAttribute("width")),e.getAttribute("vAlign")&&d.setAttribute("vAlign",e.getAttribute("vAlign")),e.getAttribute("align")&&d.setAttribute("align",e.getAttribute("align")),e.style.cssText&&(d.style.cssText=e.style.cssText);for(o=0;e=it.cells[o];o++){if(!y[o])break;e.innerHTML=y[o].innerHTML;y[o].getAttribute("width")&&e.setAttribute("width",y[o].getAttribute("width"));y[o].getAttribute("vAlign")&&e.setAttribute("vAlign",y[o].getAttribute("vAlign"));y[o].getAttribute("align")&&e.setAttribute("align",y[o].getAttribute("align"));y[o].style.cssText&&(e.style.cssText=y[o].style.cssText)}}else{if(h){for(et=p.getCellInfo(a),ht=0,o=0,y=u[0];e=y[o++];)ht+=e.colSpan||1;for(v.__hasEnterExecCommand=!0,b=0;b<ht;b++)v.execCommand("insertcol");v.__hasEnterExecCommand=!1;a=p.table.rows[0].cells[et.cellIndex];a.tagName=="TH"&&(a=p.table.rows[1].cells[et.cellIndex])}for(b=0;y=u[b++];){for(ut=a,o=0;e=y[o++];)a?(a.innerHTML=e.innerHTML,e.getAttribute("width")&&a.setAttribute("width",e.getAttribute("width")),e.getAttribute("vAlign")&&a.setAttribute("vAlign",e.getAttribute("vAlign")),e.getAttribute("align")&&a.setAttribute("align",e.getAttribute("align")),e.style.cssText&&(a.style.cssText=e.style.cssText),at=a,a=a.nextSibling):(nt=e.cloneNode(!0),n.removeAttributes(nt,["class","rowSpan","colSpan"]),at.parentNode.appendChild(nt));if(a=p.getNextCell(ut,!0,!0),!u[b])break;a||(et=p.getCellInfo(ut),p.table.insertRow(p.table.rows.length),p.update(),a=p.getVSideCell(ut,!0))}}p.update()}else{for(rt=v.document.createElement("table"),b=0;y=u[b++];){for(it=rt.insertRow(rt.rows.length),o=0;e=y[o++];)nt=w.cloneCell(e),n.removeAttributes(nt,["class"]),it.appendChild(nt);o==2&&nt.rowSpan>1&&(nt.rowSpan=1)}vt=g(v);yt=v.body.offsetWidth-(ft?parseInt(n.getComputedStyle(v.body,"margin-left"),10)*2:0)-vt.tableBorder*2-(v.options.offsetWidth||0);v.execCommand("insertHTML","<table  "+(h&&l?'width="'+yt+'"':"")+">"+rt.innerHTML.replace(/>\s*</g,"><").replace(/\bth\b/gi,"td")+"<\/table>")}return v.fireEvent("contentchange"),v.fireEvent("saveScene"),f.html="",!0}k=v.document.createElement("div");k.innerHTML=f.html;ct=k.getElementsByTagName("table");n.findParentByTagName(v.selection.getStart(),"table")?(t.each(ct,function(t){n.remove(t)}),n.findParentByTagName(v.selection.getStart(),"caption",!0)&&(k.innerHTML=k[i.ie?"innerText":"textContent"])):t.each(ct,function(i){lt(i,!0);n.removeAttributes(i,["style","border"]);t.each(n.getElementsByTagName(i,"td"),function(t){tt(t)&&n.fillNode(v.document,t);lt(t,!0)})});f.html=k.innerHTML}),r.addListener("afterpaste",function(){t.each(n.getElementsByTagName(r.body,"table"),function(t){if(t.offsetWidth>r.body.offsetWidth){var i=g(r,t);t.style.width=r.body.offsetWidth-(ft?parseInt(n.getComputedStyle(r.body,"margin-left"),10)*2:0)-i.tableBorder*2-(r.options.offsetWidth||0)+"px"}})}),r.addListener("blur",function(){u=null}),r.addListener("keydown",function(){clearTimeout(v);v=setTimeout(function(){var u=r.selection.getRange(),t=n.findParentByTagName(u.startContainer,["th","td"],!0),i;t&&(i=t.parentNode.parentNode.parentNode,i.offsetWidth>i.getAttribute("width")&&(t.style.wordBreak="break-all"))},100)}),r.addListener("selectionchange",function(){p(r,!1,"",null)}),r.addListener("contentchange",function(){var r=this,f,u;(rt(r),c(r))||(f=r.selection.getRange(),u=f.startContainer,u=n.findParentByTagName(u,["td","th"],!0),t.each(n.getElementsByTagName(r.document,"table"),function(f){r.fireEvent("excludetable",f)!==!0&&(f.ueTable=new w(f),t.each(n.getElementsByTagName(r.document,"td"),function(t){n.isEmptyBlock(t)&&t!==u&&(n.fillNode(r.document,t),i.ie&&i.version==6&&(t.innerHTML="&nbsp;"))}),t.each(n.getElementsByTagName(r.document,"th"),function(t){n.isEmptyBlock(t)&&t!==u&&(n.fillNode(r.document,t),i.ie&&i.version==6&&(t.innerHTML="&nbsp;"))}),f.onmouseover=function(){r.fireEvent("tablemouseover",f)},f.onmousemove=function(){r.fireEvent("tablemousemove",f);r.options.tableDragable&&vt(!0,this,r)},f.onmouseout=function(){r.fireEvent("tablemouseout",f);p(r,!1,"",null);rt(r)},f.onclick=function(n){var i,e,o;if(n=r.window.event||n,i=et(n.target||n.srcElement),i){var t=s(i),c=t.table,h=t.getCellInfo(i),u,f=r.selection.getRange();if(d(c,i,n,!0)){e=t.getCell(t.indexTable[t.rowsNum-1][h.colIndex].rowIndex,t.indexTable[t.rowsNum-1][h.colIndex].cellIndex);n.shiftKey&&t.selectedTds.length?t.selectedTds[0]!==e?(u=t.getCellsRange(t.selectedTds[0],e),t.setSelected(u)):f&&f.selectNodeContents(e).select():i!==e?(u=t.getCellsRange(i,e),t.setSelected(u)):f&&f.selectNodeContents(e).select();return}d(c,i,n)&&(o=t.getCell(t.indexTable[h.rowIndex][t.colsNum-1].rowIndex,t.indexTable[h.rowIndex][t.colsNum-1].cellIndex),n.shiftKey&&t.selectedTds.length?t.selectedTds[0]!==o?(u=t.getCellsRange(t.selectedTds[0],o),t.setSelected(u)):f&&f.selectNodeContents(o).select():i!==o?(u=t.getCellsRange(i,o),t.setSelected(u)):f&&f.selectNodeContents(o).select())}},f.ondblclick=function(i){var u,f,h,c;if(i=r.window.event||i,u=et(i.target||i.srcElement),u&&(f=it(u,y(i)))&&(f=="h1"&&(f="h",d(n.findParentByTagName(u,"table"),u,i)?r.execCommand("adaptbywindow"):(u=s(u).getPreviewCell(u),u&&(h=r.selection.getRange(),h.selectNodeContents(u).setCursor(!0,!0)))),f=="h")){while(c=r.document.getElementById("ue_tableDragLine"))n.remove(c);r.fireEvent("saveScene",!0);var l=s(u),e=l.getSameEndPosCells(u,"x"),o=l.table;o.removeAttribute("width");t.each(e,function(n){n.removeAttribute("width")});setTimeout(function(){var n=e[0].offsetWidth-20;t.each(e,function(t){t.setAttribute("width",n)});o.setAttribute("width",o.offsetWidth);r.fireEvent("saveScene",!0)})}})}),st(r,!0))}),!i.ie||i.ie&&i.version>7)n.on(r.document,"mousemove",dt);n.on(r.document,"mouseout",function(n){var t=n.target||n.srcElement;t.tagName=="TABLE"&&p(r,!1,"",null)});r.addListener("interlacetable",function(n,t,i){if(t){var u=this,f=t.rows,o=f.length,s=function(n,t,i){return n[t]?n[t]:i?n[t%n.length]:""},r=0,e=0;for(u.queryCommandState("inserttitle")===-1&&(r=1);r<o;r++,e++)f[r].className=s(i||u.options.classList,e,!0)}});r.addListener("uninterlacetable",function(t,i){var r;if(i){var f=this,u=i.rows,e=f.options.classList,o=u.length;for(r=0;r<o;r++)n.removeClasses(u[r],e)}});r.addListener("mousedown",ri);r.addListener("mouseup",ui);o=0;r.addListener("mousedown",function(){o=0});r.addListener("tabkeydown",function(){var i=this.selection.getRange(),e=i.getCommonAncestor(!0,!0),f=n.findParentByTagName(e,"table"),t,h,u;if(f)return n.findParentByTagName(e,"caption",!0)?(t=n.getElementsByTagName(f,"th td"),t&&t.length&&i.setStart(t[0],0).setCursor(!1,!0)):(t=n.findParentByTagName(e,["td","th"],!0),h=s(t),o=t.rowSpan>1?o:h.getCellInfo(t).rowIndex,u=h.getTabNextCell(t,o),u?tt(u)?i.setStart(u,0).setCursor(!1,!0):i.selectNodeContents(u).select():(r.fireEvent("saveScene"),r.__hasEnterExecCommand=!0,this.execCommand("insertrownext"),r.__hasEnterExecCommand=!1,i=this.selection.getRange(),i.setStart(f.rows[f.rows.length-1].cells[0],0).setCursor(),r.fireEvent("saveScene"))),!0});i.ie&&r.addListener("selectionchange",function(){p(this,!1,"",null)});r.addListener("keydown",function(t,i){var f=this,e=i.keyCode||i.which,r,u;e!=8&&e!=46&&(r=!i.ctrlKey&&!i.metaKey&&!i.shiftKey&&!i.altKey,r&&b(n.getElementsByTagName(f.body,"td")),u=c(f),u)&&r&&u.clearSelected()});r.addListener("beforegetcontent",function(){st(this,!1);i.ie&&t.each(this.document.getElementsByTagName("caption"),function(t){n.isEmptyNode(t)&&(t.innerHTML="&nbsp;")})});r.addListener("aftergetcontent",function(){st(this,!0)});r.addListener("getAllHtml",function(){b(r.document.getElementsByTagName("td"))});r.addListener("fullscreenchanged",function(i,u){if(!u){var f=this.body.offsetWidth/document.body.offsetWidth,e=n.getElementsByTagName(this.body,"table");t.each(e,function(i){var e,o,u,s;if(i.offsetWidth<r.body.offsetWidth)return!1;for(e=n.getElementsByTagName(i,"td"),o=[],t.each(e,function(n){o.push(n.offsetWidth)}),u=0;s=e[u];u++)s.setAttribute("width",Math.floor(o[u]*f));i.setAttribute("width",Math.floor(si(r,ft,g(r))))})}});a=r.execCommand;r.execCommand=function(t){var i=this,s,h,w,l,v,r;t=t.toLowerCase();var y=c(i),u,f=new e.Range(i.document),p=i.commands[t]||UE.commands[t],o;if(p){if(!y||ct[t]||p.notNeedUndo||i.__hasEnterExecCommand)o=a.apply(i,arguments);else{for(i.__hasEnterExecCommand=!0,i.fireEvent("beforeexeccommand",t),u=y.selectedTds,s=-2,h=-2,v=0;r=u[v];v++)tt(r)?f.setStart(r,0).setCursor(!1,!0):f.selectNodeContents(r).select(!0),l=i.queryCommandState(t),w=i.queryCommandValue(t),l!=-1&&((s!==l||h!==w)&&(i._ignoreContentChange=!0,o=a.apply(i,arguments),i._ignoreContentChange=!1),s=i.queryCommandState(t),h=i.queryCommandValue(t),n.isEmptyBlock(r)&&n.fillNode(i.document,r));f.setStart(u[0],0).shrinkBoundary(!0).setCursor(!1,!0);i.fireEvent("contentchange");i.fireEvent("afterexeccommand",t);i.__hasEnterExecCommand=!1;i._selectionChange()}return o}}})};UE.plugins.contextmenu=function(){var r=this,t=r.getLang("contextMenu"),u,f=r.options.contextMenu||[{label:t.selectall,cmdName:"selectall"},{label:t.deletecode,cmdName:"highlightcode",icon:"deletehighlightcode"},{label:t.cleardoc,cmdName:"cleardoc",exec:function(){confirm(t.confirmclear)&&this.execCommand("cleardoc")}},"-",{label:t.unlink,cmdName:"unlink"},"-",{group:t.paragraph,icon:"justifyjustify",subMenu:[{label:t.justifyleft,cmdName:"justify",value:"left"},{label:t.justifyright,cmdName:"justify",value:"right"},{label:t.justifycenter,cmdName:"justify",value:"center"},{label:t.justifyjustify,cmdName:"justify",value:"justify"}]},"-",{group:t.table,icon:"table",subMenu:[{label:t.inserttable,cmdName:"inserttable"},{label:t.deletetable,cmdName:"deletetable"},"-",{label:t.deleterow,cmdName:"deleterow"},{label:t.deletecol,cmdName:"deletecol"},{label:t.insertcol,cmdName:"insertcol"},{label:t.insertcolnext,cmdName:"insertcolnext"},{label:t.insertrow,cmdName:"insertrow"},{label:t.insertrownext,cmdName:"insertrownext"},"-",{label:t.insertcaption,cmdName:"insertcaption"},{label:t.deletecaption,cmdName:"deletecaption"},{label:t.inserttitle,cmdName:"inserttitle"},{label:t.deletetitle,cmdName:"deletetitle"},"-",{label:t.mergecells,cmdName:"mergecells"},{label:t.mergeright,cmdName:"mergeright"},{label:t.mergedown,cmdName:"mergedown"},"-",{label:t.splittorows,cmdName:"splittorows"},{label:t.splittocols,cmdName:"splittocols"},{label:t.splittocells,cmdName:"splittocells"},"-",{label:t.averageDiseRow,cmdName:"averagedistributerow"},{label:t.averageDisCol,cmdName:"averagedistributecol"},"-",{label:t.edittd,cmdName:"edittd",exec:function(){UE.ui.edittd&&new UE.ui.edittd(this);this.getDialog("edittd").open()}},{label:t.edittable,cmdName:"edittable",exec:function(){UE.ui.edittable&&new UE.ui.edittable(this);this.getDialog("edittable").open()}}]},{group:t.tablesort,icon:"tablesort",subMenu:[{label:t.reversecurrent,cmdName:"sorttable",value:1},{label:t.orderbyasc,cmdName:"sorttable"},{label:t.reversebyasc,cmdName:"sorttable",exec:function(){this.execCommand("sorttable",function(n,t){var i=n.innerHTML,r=t.innerHTML;return r.localeCompare(i)})}},{label:t.orderbynum,cmdName:"sorttable",exec:function(){this.execCommand("sorttable",function(n,t){var i=n.innerHTML.match(/\d+/),r=t.innerHTML.match(/\d+/);return i&&(i=+i[0]),r&&(r=+r[0]),(i||0)-(r||0)})}},{label:t.reversebynum,cmdName:"sorttable",exec:function(){this.execCommand("sorttable",function(n,t){var i=n.innerHTML.match(/\d+/),r=t.innerHTML.match(/\d+/);return i&&(i=+i[0]),r&&(r=+r[0]),(r||0)-(i||0)})}}]},{group:t.borderbk,icon:"borderBack",subMenu:[{label:t.setcolor,cmdName:"interlacetable",exec:function(){this.execCommand("interlacetable")}},{label:t.unsetcolor,cmdName:"uninterlacetable",exec:function(){this.execCommand("uninterlacetable")}},{label:t.setbackground,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["#bbb","#ccc"]})}},{label:t.unsetbackground,cmdName:"cleartablebackground",exec:function(){this.execCommand("cleartablebackground")}},{label:t.redandblue,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["red","blue"]})}},{label:t.threecolorgradient,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["#aaa","#bbb","#ccc"]})}}]},{group:t.aligntd,icon:"aligntd",subMenu:[{cmdName:"cellalignment",value:{align:"left",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"left",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"left",vAlign:"bottom"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"bottom"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"bottom"}}]},{group:t.aligntable,icon:"aligntable",subMenu:[{cmdName:"tablealignment",className:"left",label:t.tableleft,value:"left"},{cmdName:"tablealignment",className:"center",label:t.tablecenter,value:"center"},{cmdName:"tablealignment",className:"right",label:t.tableright,value:"right"}]},"-",{label:t.insertparagraphbefore,cmdName:"insertparagraph",value:!0},{label:t.insertparagraphafter,cmdName:"insertparagraph"},{label:t.copy,cmdName:"copy",exec:function(){alert(t.copymsg)},query:function(){return 0}},{label:t.paste,cmdName:"paste",exec:function(){alert(t.pastemsg)},query:function(){return 0}},{label:t.highlightcode,cmdName:"highlightcode",exec:function(){UE.ui.highlightcode&&new UE.ui.highlightcode(this);this.ui._dialogs.highlightcodeDialog.open()}}],o;f.length&&(o=UE.ui.uiUtils,r.addListener("contextmenu",function(s,h){var w=o.getViewportOffsetByEvent(h),a,y,c,l,v,p;for(r.fireEvent("beforeselectionchange"),u&&u.destroy(),a=0,c=[];y=f[a];a++)(function(n){if(n=="-")(l=c[c.length-1])&&l!=="-"&&c.push("-");else if(n.hasOwnProperty("group")){for(var u=0,f,i=[];f=n.subMenu[u];u++)(function(n){n=="-"?(l=i[i.length-1])&&l!=="-"?i.push("-"):i.splice(i.length-1):(r.commands[n.cmdName]||UE.commands[n.cmdName]||n.query)&&(n.query?n.query():r.queryCommandState(n.cmdName))>-1&&i.push({label:n.label||r.getLang("contextMenu."+n.cmdName+(n.value||""))||"",className:"edui-for-"+n.cmdName+(n.className?" edui-for-"+n.cmdName+"-"+n.className:""),onclick:n.exec?function(){n.exec.call(r)}:function(){r.execCommand(n.cmdName,n.value)}})})(f);if(i.length){function e(){switch(n.icon){case"table":return r.getLang("contextMenu.table");case"justifyjustify":return r.getLang("contextMenu.paragraph");case"aligntd":return r.getLang("contextMenu.aligntd");case"aligntable":return r.getLang("contextMenu.aligntable");case"tablesort":return t.tablesort;case"borderBack":return t.borderbk;default:return""}}c.push({label:e(),className:"edui-for-"+n.icon,subMenu:{items:i,editor:r}})}}else if((r.commands[n.cmdName]||UE.commands[n.cmdName]||n.query)&&(n.query?n.query.call(r):r.queryCommandState(n.cmdName))>-1){if(n.cmdName=="highlightcode"){if(r.queryCommandState(n.cmdName)==1&&n.icon!="deletehighlightcode")return;if(r.queryCommandState(n.cmdName)!=1&&n.icon=="deletehighlightcode")return}c.push({label:n.label||r.getLang("contextMenu."+n.cmdName),className:"edui-for-"+(n.icon?n.icon:n.cmdName+(n.value||"")),onclick:n.exec?function(){n.exec.call(r)}:function(){r.execCommand(n.cmdName,n.value)}})}})(y);if(c[c.length-1]=="-"&&c.pop(),u=new UE.ui.Menu({items:c,editor:r}),u.render(),u.showAt(w),n.preventDefault(h),i.ie){try{v=r.selection.getNative().createRange()}catch(b){return}v.item&&(p=new e.Range(r.document),p.selectNode(v.item(0)).select(!0,!0))}}))};UE.plugins.basestyle=function(){var u={bold:["strong","b"],italic:["em","i"],subscript:["sub"],superscript:["sup"]},f=function(t,i){return n.filterNodeList(t.selection.getStartElementPath(),i)},i=this,r;i.addshortcutkey({Bold:"ctrl+66",Italic:"ctrl+73",Underline:"ctrl+85"});i.addInputRule(function(n){t.each(n.getNodesByTagName("b i"),function(n){switch(n.tagName){case"b":n.tagName="strong";break;case"i":n.tagName="em"}})});for(r in u)(function(t,r){i.commands[t]={execCommand:function(t){var u=i.selection.getRange(),o=f(this,r),e,s;u.collapsed?(o?(e=i.document.createTextNode(""),u.insertNode(e).removeInlineStyle(r),u.setStartBefore(e),n.remove(e)):(s=u.document.createElement(r[0]),(t=="superscript"||t=="subscript")&&(e=i.document.createTextNode(""),u.insertNode(e).removeInlineStyle(["sub","sup"]).setStartBefore(e).collapse(!0)),u.insertNode(s).setStart(s,0)),u.collapse(!0)):((t=="superscript"||t=="subscript")&&(o&&o.tagName.toLowerCase()==t||u.removeInlineStyle(["sub","sup"])),o?u.removeInlineStyle(r):u.applyInlineStyle(r[0]));u.select()},queryCommandState:function(){return f(this,r)?1:0}}})(r,u[r])};UE.plugins.elementpath=function(){var t,i,n=this;(n.setOpt("elementPathEnabled",!0),n.options.elementPathEnabled)&&(n.commands.elementpath={execCommand:function(r,u){var f=i[u],e=n.selection.getRange();t=u*1;e.selectNode(f).select()},queryCommandValue:function(){var f=[].concat(this.selection.getStartElementPath()).reverse(),e=[],n,r,u;for(i=f,n=0;r=f[n];n++)if(r.nodeType!=3&&(u=r.tagName.toLowerCase(),u=="img"&&r.getAttribute("anchorname")&&(u="anchor"),e[n]=u,t==n)){t=-1;break}return e}})};UE.plugins.formatmatch=function(){function e(o,s){function p(n){return c&&n.selectNode(c),n.applyInlineStyle(r[r.length-1].tagName,null,r)}var a,h,l,v,c,y;i.webkit&&(a=s.target.tagName=="IMG"?s.target:null);t.undoManger&&t.undoManger.save();h=t.selection.getRange();l=a||h.getClosedNode();u&&l&&l.tagName=="IMG"?(l.style.cssText+=";float:"+(u.style.cssFloat||u.style.styleFloat||"none")+";display:"+(u.style.display||"inline"),u=null):u||(v=h.collapsed,v&&(c=t.document.createTextNode("match"),h.insertNode(c).select()),t.__hasEnterExecCommand=!0,y=t.options.removeFormatAttributes,t.options.removeFormatAttributes="",t.execCommand("removeformat"),t.options.removeFormatAttributes=y,t.__hasEnterExecCommand=!1,h=t.selection.getRange(),r.length&&p(h),c&&h.setStartBefore(c).collapse(!0),h.select(),c&&n.remove(c));t.undoManger&&t.undoManger.save();t.removeListener("mouseup",e);f=0}var t=this,r=[],u,f=0;t.addListener("reset",function(){r=[];f=0});t.commands.formatmatch={execCommand:function(){var i,s,o,h;if(f){f=0;r=[];t.removeListener("mouseup",e);return}if(i=t.selection.getRange(),u=i.getClosedNode(),!u||u.tagName!="IMG")for(i.collapse(!0).shrinkBoundary(),s=i.startContainer,r=n.findParents(s,!0,function(t){return!n.isBlockElm(t)&&t.nodeType==1}),o=0;h=r[o];o++)if(h.tagName=="A"){r.splice(o,1);break}t.addListener("mouseup",e);f=1},queryCommandState:function(){return f},notNeedUndo:1}};UE.plugins.searchreplace=function(){var n,r,u=this;u.addListener("reset",function(){n=null;r=null});u.commands.searchreplace={execCommand:function(u,f){var o=this,v=o.selection,c,e,a=0,f=t.extend(f,{all:!1,casesensitive:!1,dir:1},!0),l,h,s,y;if(i.ie)for(o.focus();;){if(e=o.document.selection.createRange(),h=e.duplicate(),h.moveToElementText(o.document.body),f.all?(r=0,f.dir=1,n?h.setEndPoint(f.dir==-1?"EndToStart":"StartToEnd",n):h.moveToElementText(o.document.body)):(h.setEndPoint(f.dir==-1?"EndToStart":"StartToEnd",e),f.hasOwnProperty("replaceStr")&&h.setEndPoint(f.dir==-1?"StartToEnd":"EndToStart",e)),e=h.duplicate(),!h.findText(f.searchStr,f.dir,f.casesensitive?4:0))return n=null,h=o.document.selection.createRange(),h.scrollIntoView(),a;if(h.select(),f.hasOwnProperty("replaceStr")&&(c=v.getRange(),c.deleteContents().insertNode(c.document.createTextNode(f.replaceStr)).select(),n=v.getNative().createRange()),a++,!f.all)break}else for(l=o.window,s=v.getNative();;){if(f.all?(n?(n.collapse(!1),e=n):(e=o.document.createRange(),e.setStart(o.document.body,0),e.collapse(!0)),s.removeAllRanges(),s.addRange(e),r=0,f.dir=1):(i.safari&&o.selection.getRange().select(),s=l.getSelection(),s.rangeCount?e=s.getRangeAt(0):(e=o.document.createRange(),e.setStart(o.body,0),e.collapse(!0),s.addRange(e)),f.hasOwnProperty("replaceStr")&&e.collapse(f.dir==1?!0:!1)),r?s.removeAllRanges():(e.collapse(f.dir<0?!0:!1),s.removeAllRanges(),s.addRange(e)),!l.find(f.searchStr,f.casesensitive,f.dir<0?!0:!1))return n=null,s.removeAllRanges(),a;if(r=0,c=l.getSelection().getRangeAt(0),c.collapsed||f.hasOwnProperty("replaceStr")&&(c.deleteContents(),y=l.document.createTextNode(f.replaceStr),c.insertNode(y),c.selectNode(y),s.addRange(c),n=c.cloneRange()),a++,!f.all)break}return!0}}};UE.plugins.customstyle=function(){var t=this;t.setOpt({customstyle:[{tag:"h1",name:"tc",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;"},{tag:"h1",name:"tl",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:left;margin:0 0 10px 0;"},{tag:"span",name:"im",style:"font-size:16px;font-style:italic;font-weight:bold;line-height:18px;"},{tag:"span",name:"hi",style:"font-size:16px;font-style:italic;font-weight:bold;color:rgb(51, 153, 204);line-height:18px;"}]});t.commands.customstyle={execCommand:function(t,i){var e=this,h=i.tag,r=n.findParent(e.selection.getStart(),function(n){return n.getAttribute("label")},!0),f,o,l={},v,a,p,k,s,w,b,c,y;for(v in i)i[v]!==undefined&&(l[v]=i[v]);if(delete l.tag,r&&r.getAttribute("label")==i.label){if(f=this.selection.getRange(),o=f.createBookmark(),f.collapsed)u.$block[r.tagName]?(c=e.document.createElement("p"),n.moveChild(r,c),r.parentNode.insertBefore(c,r),n.remove(r)):n.remove(r,!0);else{for(a=n.getCommonAncestor(o.start,o.end),p=n.getElementsByTagName(a,h),new RegExp(h,"i").test(a.tagName)&&p.push(a),k=0;s=p[k++];)s.getAttribute("label")==i.label&&(w=n.getPosition(s,o.start),b=n.getPosition(s,o.end),(w&n.POSITION_FOLLOWING||w&n.POSITION_CONTAINS)&&(b&n.POSITION_PRECEDING||b&n.POSITION_CONTAINS)&&u.$block[h]&&(c=e.document.createElement("p"),n.moveChild(s,c),s.parentNode.insertBefore(c,s)),n.remove(s,!0));r=n.findParent(a,function(n){return n.getAttribute("label")==i.label},!0);r&&n.remove(r,!0)}f.moveToBookmark(o).select()}else if(u.$block[h])this.execCommand("paragraph",h,l,"customstyle"),f=e.selection.getRange(),f.collapsed||(f.collapse(),r=n.findParent(e.selection.getStart(),function(n){return n.getAttribute("label")==i.label},!0),y=e.document.createElement("p"),n.insertAfter(r,y),n.fillNode(e.document,y),f.setStart(y,0).setCursor());else{if(f=e.selection.getRange(),f.collapsed){r=e.document.createElement(h);n.setAttributes(r,l);f.insertNode(r).setStart(r,0).setCursor();return}o=f.createBookmark();f.applyInlineStyle(h,l).moveToBookmark(o).select()}},queryCommandValue:function(){var t=n.filterNodeList(this.selection.getStartElementPath(),function(n){return n.getAttribute("label")});return t?t.getAttribute("label"):""}};t.addListener("keyup",function(i,r){var s=r.keyCode||r.which,o,f,e;(s==32||s==13)&&(o=t.selection.getRange(),o.collapsed&&(f=n.findParent(t.selection.getStart(),function(n){return n.getAttribute("label")},!0),f&&u.$block[f.tagName]&&n.isEmptyNode(f)&&(e=t.document.createElement("p"),n.insertAfter(f,e),n.fillNode(t.document,e),n.remove(f),o.setStart(e,0).setCursor())))})};UE.plugins.catchremoteimage=function(){function e(n,u){var o=n.join(i),e={timeout:6e4,onsuccess:u.success,onerror:u.error};e[t.options.catchFieldName]=o;r.request(f,e)}var t;if(this.options.catchRemoteImageEnable!==!1){t=this;this.setOpt({localDomain:["127.0.0.1","localhost","img.baidu.com"],separater:"ue_separate_ue",catchFieldName:"upfile",catchRemoteImageEnable:!0});var r=UE.ajax,u=t.options.localDomain,f=t.options.catcherUrl,i=t.options.separater;t.addListener("afterpaste",function(){t.fireEvent("catchRemoteImage")});t.addListener("catchRemoteImage",function(){for(var f,o=[],s=n.getElementsByTagName(t.document,"img"),h=function(n,t){for(var r=0,i;i=t[r++];)if(n.indexOf(i)!==-1)return!0;return!1},c=0,r;r=s[c++];)r.getAttribute("word_img")||(f=r.getAttribute("_src")||r.src||"",/^(https?|ftp):/i.test(f)&&!h(f,u)&&o.push(f));o.length&&e(o,{success:function(r){var f,c,l,a,u,v,e,y,o,h;try{f=eval("("+r.responseText+")")}catch(p){return}for(c=f.srcUrl.split(i),l=f.url.split(i),a=0;u=s[a++];)for(v=u.getAttribute("_src")||u.src||"",e=0;y=c[e++];)if(o=l[e-1],v==y&&o!="error"){h=t.options.catcherPath+o;n.setAttributes(u,{src:h,_src:h});break}t.fireEvent("catchremotesuccess")},error:function(){t.fireEvent("catchremoteerror")}})})}};UE.plugins.snapscreen=function(){var t=this,i,n;t.setOpt({snapscreenServerPort:location.port,snapscreenImgAlign:"",snapscreenHost:location.hostname});t.commands.snapscreen={execCommand:function(){var r=this,e=r.getLang("snapScreen_plugin"),u,f,o;if(!n){u=r.container;i=u.ownerDocument||u.document;n=i.createElement("object");try{n.type="application/x-pluginbaidusnap"}catch(h){return}n.style.cssText="position:absolute;left:-9999px;";n.setAttribute("width","0");n.setAttribute("height","0");u.appendChild(n)}var t=r.options,s=function(n){try{n=eval("("+n+")")}catch(i){alert(e.callBackErrorMsg);return}if(n.state!="SUCCESS"){alert(n.state);return}r.execCommand("insertimage",{src:t.snapscreenPath+n.url,floatStyle:t.snapscreenImgAlign,_src:t.snapscreenPath+n.url})},c=function(){},l=function(){alert(e.uploadErrorMsg)};try{f=t.snapscreenServerPort+"";t.snapscreenServerUrl=t.snapscreenServerUrl.split(t.snapscreenHost);t.snapscreenServerUrl=t.snapscreenServerUrl[1]||t.snapscreenServerUrl[0];t.snapscreenServerUrl.indexOf(":"+f)===0&&(t.snapscreenServerUrl=t.snapscreenServerUrl.substring(f.length+1));o=n.saveSnapshot(t.snapscreenHost,t.snapscreenServerUrl,f);s(o)}catch(h){r.ui._dialogs.snapscreenDialog.open()}}}};UE.commands.insertparagraph={execCommand:function(t,i){for(var e=this,o=e.selection.getRange(),u=o.startContainer,r,f;u;){if(n.isBody(u))break;r=u;u=u.parentNode}r&&(f=e.document.createElement("p"),i?r.parentNode.insertBefore(f,r):r.parentNode.insertBefore(f,r.nextSibling),n.fillNode(e.document,f),o.setStart(f,0).setCursor(!1,!0))}};UE.plugins.webapp=function(){function r(n,i,r){return i?'<iframe class="edui-faked-webapp" title="'+n.title+'" width="'+n.width+'" height="'+n.height+'"  scrolling="no" frameborder="0" src="'+n.url+'" logo_url = '+n.logo+"><\/iframe>":(r?"<p>":"")+'<img title="'+n.title+'" width="'+n.width+'" height="'+n.height+'" src="'+t.options.UEDITOR_HOME_URL+'themes/default/images/spacer.gif" style="background:url('+n.logo+') no-repeat center center; border:1px solid gray;" class="edui-faked-webapp" _url="'+n.url+'" />'+(r?"<\/p>":"")}function i(i){for(var f,e=n.getElementsByTagName(t.document,i?"img":"iframe"),o=0,u;u=e[o++];)u.className=="edui-faked-webapp"&&(f=t.document.createElement("div"),f.innerHTML=r(i?{url:u.getAttribute("_url"),width:u.width,height:u.height,title:u.title,logo:u.style.backgroundImage.replace("url(","").replace(")","")}:{url:u.getAttribute("src",2),title:u.title,width:u.width,height:u.height,logo:u.getAttribute("logo_url")},i?!0:!1,!1),u.parentNode.replaceChild(f.firstChild,u))}var t=this;t.addListener("beforegetcontent",function(){i(!0)});t.addListener("aftersetcontent",function(){i(!1)});t.addListener("aftergetcontent",function(n){n=="aftergetcontent"&&t.queryCommandState("source")||i(!1)});t.commands.webapp={execCommand:function(n,i){t.execCommand("inserthtml",r(i,!1,!0))}}};UE.plugins.template=function(){UE.commands.template={execCommand:function(n,t){t.html&&this.execCommand("inserthtml",t.html)}};this.addListener("click",function(t,i){var u=i.target||i.srcElement,f=this.selection.getRange(),r=n.findParent(u,function(t){if(t.className&&n.hasClass(t,"ue_t"))return t},!0);r&&f.selectNode(r).shrinkBoundary().select()});this.addListener("keydown",function(t,i){var u=this.selection.getRange(),r;u.collapsed||i.ctrlKey||i.metaKey||i.shiftKey||i.altKey||(r=n.findParent(u.startContainer,function(t){if(t.className&&n.hasClass(t,"ue_t"))return t},!0),r&&n.removeClasses(r,["ue_t"]))})};UE.plugins.music=function(){function r(n,i,r,u,f,e){return f?'<embed type="application/x-shockwave-flash" class="edui-faked-music" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+n+'" width="'+i+'" height="'+r+'" align="'+u+'"'+(u!="none"?' style= "'+(u=="center"?"display:block;":" float: "+u)+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >':(e?"<p "+(u!="none"?u=="center"?' style="text-align:center;" ':' style="float:"'+u:"")+">":"")+'<img align="'+u+'" width="'+i+'" height="'+r+'" _url="'+n+'" class="edui-faked-music" src="'+t.options.langPath+t.options.lang+'/images/music.png" />'+(e?"<\/p>":"")}function i(i){for(var f,e,o=n.getElementsByTagName(t.document,i?"img":"embed"),s=0,u;u=o[s++];)u.className=="edui-faked-music"&&(e=t.document.createElement("div"),f=n.getComputedStyle(u,"float"),f=f=="none"?u.getAttribute("align")||"":f,e.innerHTML=r(i?u.getAttribute("_url"):u.getAttribute("src"),u.width,u.height,f,i),u.parentNode.replaceChild(e.firstChild,u))}var t=this;t.addListener("beforegetcontent",function(){i(!0)});t.addListener("aftersetcontent",function(){i(!1)});t.addListener("aftergetcontent",function(n){n=="aftergetcontent"&&t.queryCommandState("source")||i(!1)});t.commands.music={execCommand:function(n,t){var i=this,u=r(t.url,t.width||400,t.height||95,"none",!1,!0);i.execCommand("inserthtml",u)},queryCommandState:function(){var t=this,n=t.selection.getRange().getClosedNode(),i=n&&n.className=="edui-faked-music";return i?1:0}}};r=r||{};r.editor=r.editor||{};r.editor.ui={},function(){function f(){var n=document.getElementById("edui_fixedlayer");t.setViewportOffset(n,{left:0,top:0})}function h(){i.on(window,"scroll",f);i.on(window,"resize",r.editor.utils.defer(f,0,!0))}var n=r.editor.browser,i=r.editor.dom.domUtils,u="$EDITORUI",e=window[u]={},o="ID"+u,s=0,t=r.editor.ui.uiUtils={uid:function(n){return n?n[o]||(n[o]=++s):++s},hook:function(n,t){var i;return n&&n._callbacks?i=n:(i=function(){var t,r,u,f;for(n&&(t=n.apply(this,arguments)),r=i._callbacks,u=r.length;u--;)f=r[u].apply(this,arguments),t===undefined&&(t=f);return t},i._callbacks=[]),i._callbacks.push(t),i},createElementByHtml:function(n){var t=document.createElement("div");return t.innerHTML=n,t=t.firstChild,t.parentNode.removeChild(t),t},getViewportElement:function(){return n.ie&&n.quirks?document.body:document.documentElement},getClientRect:function(n){var t,r,u;try{t=n.getBoundingClientRect()}catch(f){t={left:0,top:0,height:0,width:0}}for(r={left:Math.round(t.left),top:Math.round(t.top),height:Math.round(t.bottom-t.top),width:Math.round(t.right-t.left)};(u=n.ownerDocument)!==document&&(n=i.getWindow(u).frameElement);)t=n.getBoundingClientRect(),r.left+=t.left,r.top+=t.top;return r.bottom=r.top+r.height,r.right=r.left+r.width,r},getViewportRect:function(){var n=t.getViewportElement(),i=(window.innerWidth||n.clientWidth)|0,r=(window.innerHeight||n.clientHeight)|0;return{left:0,top:0,height:r,width:i,bottom:r,right:i}},setViewportOffset:function(n,r){var u=t.getFixedLayer();n.parentNode===u?(n.style.left=r.left+"px",n.style.top=r.top+"px"):i.setViewportOffset(n,r)},getEventOffset:function(n){var u=n.target||n.srcElement,i=t.getClientRect(u),r=t.getViewportOffsetByEvent(n);return{left:r.left-i.left,top:r.top-i.top}},getViewportOffsetByEvent:function(n){var f=n.target||n.srcElement,e=i.getWindow(f).frameElement,r={left:n.clientX,top:n.clientY},u;return e&&f.ownerDocument!==document&&(u=t.getClientRect(e),r.left+=u.left,r.top+=u.top),r},setGlobal:function(n,t){return e[n]=t,u+'["'+n+'"]'},unsetGlobal:function(n){delete e[n]},copyAttributes:function(t,r){for(var f=r.attributes,e=f.length,u;e--;)u=f[e],u.nodeName!="style"&&u.nodeName!="class"&&(!n.ie||u.specified)&&t.setAttribute(u.nodeName,u.nodeValue);r.className&&i.addClass(t,r.className);r.style.cssText&&(t.style.cssText+=";"+r.style.cssText)},removeStyle:function(n,t){if(n.style.removeProperty)n.style.removeProperty(t);else if(n.style.removeAttribute)n.style.removeAttribute(t);else throw"";},contains:function(n,t){return n&&t&&(n===t?!1:n.contains?n.contains(t):n.compareDocumentPosition(t)&16)},startDrag:function(n,t,i){function u(n){var i=n.clientX-o,r=n.clientY-s;t.ondragmove(i,r,n);n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}var i=i||document,o=n.clientX,s=n.clientY,r;if(i.addEventListener){function f(){i.removeEventListener("mousemove",u,!0);i.removeEventListener("mouseup",f,!0);window.removeEventListener("mouseup",f,!0);t.ondragstop()}i.addEventListener("mousemove",u,!0);i.addEventListener("mouseup",f,!0);window.addEventListener("mouseup",f,!0);n.preventDefault()}else{r=n.srcElement;r.setCapture();function e(){r.releaseCapture();r.detachEvent("onmousemove",u);r.detachEvent("onmouseup",e);r.detachEvent("onlosecaptrue",e);t.ondragstop()}r.attachEvent("onmousemove",u);r.attachEvent("onmouseup",e);r.attachEvent("onlosecaptrue",e);n.returnValue=!1}t.ondragstart()},getFixedLayer:function(){var t=document.getElementById("edui_fixedlayer");return t==null&&(t=document.createElement("div"),t.id="edui_fixedlayer",document.body.appendChild(t),n.ie&&n.version<=8?(t.style.position="absolute",h(),setTimeout(f)):t.style.position="fixed",t.style.left="0",t.style.top="0",t.style.width="0",t.style.height="0"),t},makeUnselectable:function(i){if(n.opera||n.ie&&n.version<9){if(i.unselectable="on",i.hasChildNodes())for(var r=0;r<i.childNodes.length;r++)i.childNodes[r].nodeType==1&&t.makeUnselectable(i.childNodes[r])}else i.style.MozUserSelect!==undefined?i.style.MozUserSelect="none":i.style.WebkitUserSelect!==undefined?i.style.WebkitUserSelect="none":i.style.KhtmlUserSelect!==undefined&&(i.style.KhtmlUserSelect="none")}}}(),function(){var i=r.editor.utils,t=r.editor.ui.uiUtils,f=r.editor.EventBase,u=r.editor.ui.UIBase=function(){};u.prototype={className:"",uiName:"",initOptions:function(n){var r=this;for(var i in n)r[i]=n[i];this.id=this.id||"edui"+t.uid()},initUIBase:function(){this._globalKey=i.unhtml(t.setGlobal(this.id,this))},render:function(i){for(var u,s=this.renderHtml(),r=t.createElementByHtml(s),h=n.getElementsByTagName(r,"*"),f="edui-"+(this.theme||this.editor.options.theme),e=document.getElementById("edui_fixedlayer"),c=0,o;o=h[c++];)n.addClass(o,f);n.addClass(r,f);e&&(e.className="",n.addClass(e,f));u=this.getDom();u!=null?(u.parentNode.replaceChild(r,u),t.copyAttributes(r,u)):(typeof i=="string"&&(i=document.getElementById(i)),i=i||t.getFixedLayer(),n.addClass(i,f),i.appendChild(r));this.postRender()},getDom:function(n){return n?document.getElementById(this.id+"_"+n):document.getElementById(this.id)},postRender:function(){this.fireEvent("postrender")},getHtmlTpl:function(){return""},formatHtml:function(n){var t="edui-"+this.uiName;return n.replace(/##/g,this.id).replace(/%%-/g,this.uiName?t+"-":"").replace(/%%/g,(this.uiName?t:"")+" "+this.className).replace(/\$\$/g,this._globalKey)},renderHtml:function(){return this.formatHtml(this.getHtmlTpl())},dispose:function(){var n=this.getDom();n&&r.editor.dom.domUtils.remove(n);t.unsetGlobal(this.id)}};i.inherits(u,f)}(),function(){var t=r.editor.utils,i=r.editor.ui.UIBase,n=r.editor.ui.Separator=function(n){this.initOptions(n);this.initSeparator()};n.prototype={uiName:"separator",initSeparator:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><\/div>'}};t.inherits(n,i)}(),function(){var t=r.editor.utils,i=r.editor.dom.domUtils,u=r.editor.ui.UIBase,f=r.editor.ui.uiUtils,n=r.editor.ui.Mask=function(n){this.initOptions(n);this.initUIBase()};n.prototype={getHtmlTpl:function(){return'<div id="##" class="edui-mask %%" onmousedown="return $$._onMouseDown(event, this);"><\/div>'},postRender:function(){var n=this;i.on(window,"resize",function(){setTimeout(function(){n.isHidden()||n._fill()})})},show:function(n){this._fill();this.getDom().style.display="";this.getDom().style.zIndex=n},hide:function(){this.getDom().style.display="none";this.getDom().style.zIndex=""},isHidden:function(){return this.getDom().style.display=="none"},_onMouseDown:function(){return!1},_fill:function(){var n=this.getDom(),t=f.getViewportRect();n.style.width=t.width+"px";n.style.height=t.height+"px"}};t.inherits(n,u)}(),function(){function e(n,t){for(var i,r=0;r<f.length;r++)if(i=f[r],!i.isHidden()&&i.queryAutoHide(t)!==!1){if(n&&/scroll/ig.test(n.type)&&i.className=="edui-wordpastepop")return;i.hide()}}var s=r.editor.utils,n=r.editor.ui.uiUtils,t=r.editor.dom.domUtils,i=r.editor.ui.UIBase,u=r.editor.ui.Popup=function(n){this.initOptions(n);this.initPopup()},f=[],o;u.postHide=e;o=["edui-anchor-topleft","edui-anchor-topright","edui-anchor-bottomleft","edui-anchor-bottomright"];u.prototype={SHADOW_RADIUS:5,content:null,_hidden:!1,autoRender:!0,canSideLeft:!0,canSideUp:!0,initPopup:function(){this.initUIBase();f.push(this)},getHtmlTpl:function(){return'<div id="##" class="edui-popup %%"> <div id="##_body" class="edui-popup-body"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="javascript:"><\/iframe> <div class="edui-shadow"><\/div> <div id="##_content" class="edui-popup-content">'+this.getContentHtmlTpl()+"  <\/div> <\/div><\/div>"},getContentHtmlTpl:function(){return this.content?typeof this.content=="string"?this.content:this.content.renderHtml():""},_UIBase_postRender:i.prototype.postRender,postRender:function(){this.content instanceof i&&this.content.postRender();this.fireEvent("postRenderAfter");this.hide(!0);this._UIBase_postRender()},_doAutoRender:function(){!this.getDom()&&this.autoRender&&this.render()},mesureSize:function(){var t=this.getDom("content");return n.getClientRect(t)},fitSize:function(){var n=this.getDom("body"),t;return n.style.width="",n.style.height="",t=this.mesureSize(),n.style.width=t.width+"px",n.style.height=t.height+"px",t},showAnchor:function(t,i){this.showAnchorRect(n.getClientRect(t),i)},showAnchorRect:function(i,u){var s,f,h,c,l,a,e;this._doAutoRender();s=n.getViewportRect();this._show();f=this.fitSize();u?(h=this.canSideLeft&&i.right+f.width>s.right&&i.left>f.width,c=this.canSideUp&&i.top+f.height>s.bottom&&i.bottom>f.height,l=h?i.left-f.width:i.right,a=c?i.bottom-f.height:i.top):(h=this.canSideLeft&&i.right+f.width>s.right&&i.left>f.width,c=this.canSideUp&&i.top+f.height>s.bottom&&i.bottom>f.height,l=h?i.right-f.width:i.left,a=c?i.top-f.height:i.bottom);e=this.getDom();n.setViewportOffset(e,{left:l,top:a});t.removeClasses(e,o);e.className+=" "+o[(c?1:0)*2+(h?1:0)];this.editor&&(e.style.zIndex=this.editor.container.style.zIndex*1+100,r.editor.ui.uiUtils.getFixedLayer().style.zIndex=e.style.zIndex-1)},showAt:function(n){var t=n.left,i=n.top,r={left:t,top:i,right:t,bottom:i,height:0,width:0};this.showAnchorRect(r,!1,!0)},_show:function(){if(this._hidden){var n=this.getDom();n.style.display="";this._hidden=!1;this.fireEvent("show")}},isHidden:function(){return this._hidden},show:function(){this._doAutoRender();this._show()},hide:function(n){!this._hidden&&this.getDom()&&(this.getDom().style.display="none",this._hidden=!0,n||this.fireEvent("hide"))},queryAutoHide:function(t){return!t||!n.contains(this.getDom(),t)}};s.inherits(u,i);t.on(document,"mousedown",function(n){var t=n.target||n.srcElement;e(n,t)});t.on(window,"scroll",function(n,t){e(n,t)})}(),function(){function f(t,i){for(var u='<div id="##" class="edui-colorpicker %%"><div class="edui-colorpicker-topbar edui-clearfix"><div unselectable="on" id="##_preview" class="edui-colorpicker-preview"><\/div><div unselectable="on" class="edui-colorpicker-nocolor" onclick="$$._onPickNoColor(event, this);">'+t+'<\/div><\/div><table  class="edui-box" style="border-collapse: collapse;" onmouseover="$$._onTableOver(event, this);" onmouseout="$$._onTableOut(event, this);" onclick="return $$._onTableClick(event, this);" cellspacing="0" cellpadding="0"><tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;padding-top: 2px"><td colspan="10">'+i.getLang("themeColor")+'<\/td> <\/tr><tr class="edui-colorpicker-tablefirstrow" >',r=0;r<n.length;r++)r&&r%10==0&&(u+="<\/tr>"+(r==60?'<tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;"><td colspan="10">'+i.getLang("standardColor")+"<\/td><\/tr>":"")+"<tr"+(r==60?' class="edui-colorpicker-tablefirstrow"':"")+">"),u+=r<70?'<td style="padding: 0 2px;"><a hidefocus title="'+n[r]+'" onclick="return false;" href="javascript:" unselectable="on" class="edui-box edui-colorpicker-colorcell" data-color="#'+n[r]+'" style="background-color:#'+n[r]+";border:solid #ccc;"+(r<10||r>=60?"border-width:1px;":r>=10&&r<20?"border-width:1px 1px 0 1px;":"border-width:0 1px 0 1px;")+'"><\/a><\/td>':"";return u+"<\/tr><\/table><\/div>"}var i=r.editor.utils,u=r.editor.ui.UIBase,t=r.editor.ui.ColorPicker=function(n){this.initOptions(n);this.noColorText=this.noColorText||this.editor.getLang("clearColor");this.initUIBase()},n;t.prototype={getHtmlTpl:function(){return f(this.noColorText,this.editor)},_onTableClick:function(n){var i=n.target||n.srcElement,t=i.getAttribute("data-color");t&&this.fireEvent("pickcolor",t)},_onTableOver:function(n){var i=n.target||n.srcElement,t=i.getAttribute("data-color");t&&(this.getDom("preview").style.backgroundColor=t)},_onTableOut:function(){this.getDom("preview").style.backgroundColor=""},_onPickNoColor:function(){this.fireEvent("picknocolor")}};i.inherits(t,u);n="ffffff,000000,eeece1,1f497d,4f81bd,c0504d,9bbb59,8064a2,4bacc6,f79646,f2f2f2,7f7f7f,ddd9c3,c6d9f0,dbe5f1,f2dcdb,ebf1dd,e5e0ec,dbeef3,fdeada,d8d8d8,595959,c4bd97,8db3e2,b8cce4,e5b9b7,d7e3bc,ccc1d9,b7dde8,fbd5b5,bfbfbf,3f3f3f,938953,548dd4,95b3d7,d99694,c3d69b,b2a2c7,92cddc,fac08f,a5a5a5,262626,494429,17365d,366092,953734,76923c,5f497a,31859b,e36c09,7f7f7f,0c0c0c,1d1b10,0f243e,244061,632423,4f6128,3f3151,205867,974806,c00000,ff0000,ffc000,ffff00,92d050,00b050,00b0f0,0070c0,002060,7030a0,".split(",")}(),function(){var u=r.editor.utils,n=r.editor.ui.uiUtils,t=r.editor.ui.UIBase,i=r.editor.ui.TablePicker=function(n){this.initOptions(n);this.initTablePicker()};i.prototype={defaultNumRows:10,defaultNumCols:10,maxNumRows:20,maxNumCols:20,numRows:10,numCols:10,lengthOfCellSide:22,initTablePicker:function(){this.initUIBase()},getHtmlTpl:function(){var n=this;return'<div id="##" class="edui-tablepicker %%"><div class="edui-tablepicker-body"><div class="edui-infoarea"><span id="##_label" class="edui-label"><\/span><\/div><div class="edui-pickarea" onmousemove="$$._onMouseMove(event, this);" onmouseover="$$._onMouseOver(event, this);" onmouseout="$$._onMouseOut(event, this);" onclick="$$._onClick(event, this);"><div id="##_overlay" class="edui-overlay"><\/div><\/div><\/div><\/div>'},_UIBase_render:t.prototype.render,render:function(n){this._UIBase_render(n);this.getDom("label").innerHTML="0"+this.editor.getLang("t_row")+" x 0"+this.editor.getLang("t_col")},_track:function(n,t){var i=this.getDom("overlay").style,r=this.lengthOfCellSide,u;i.width=n*r+"px";i.height=t*r+"px";u=this.getDom("label");u.innerHTML=n+this.editor.getLang("t_col")+" x "+t+this.editor.getLang("t_row");this.numCols=n;this.numRows=t},_onMouseOver:function(t,i){var r=t.relatedTarget||t.fromElement;n.contains(i,r)||i===r||(this.getDom("label").innerHTML="0"+this.editor.getLang("t_col")+" x 0"+this.editor.getLang("t_row"),this.getDom("overlay").style.visibility="")},_onMouseOut:function(t,i){var r=t.relatedTarget||t.toElement;n.contains(i,r)||i===r||(this.getDom("label").innerHTML="0"+this.editor.getLang("t_col")+" x 0"+this.editor.getLang("t_row"),this.getDom("overlay").style.visibility="hidden")},_onMouseMove:function(t){var e=this.getDom("overlay").style,i=n.getEventOffset(t),r=this.lengthOfCellSide,u=Math.ceil(i.left/r),f=Math.ceil(i.top/r);this._track(u,f)},_onClick:function(){this.fireEvent("picktable",this.numCols,this.numRows)}};u.inherits(i,t)}(),function(){var i=r.editor.browser,n=r.editor.dom.domUtils,t=r.editor.ui.uiUtils,u='onmousedown="$$.Stateful_onMouseDown(event, this);" onmouseup="$$.Stateful_onMouseUp(event, this);"'+(i.ie?' onmouseenter="$$.Stateful_onMouseEnter(event, this);" onmouseleave="$$.Stateful_onMouseLeave(event, this);"':' onmouseover="$$.Stateful_onMouseOver(event, this);" onmouseout="$$.Stateful_onMouseOut(event, this);"');r.editor.ui.Stateful={alwalysHoverable:!1,target:null,Stateful_init:function(){this._Stateful_dGetHtmlTpl=this.getHtmlTpl;this.getHtmlTpl=this.Stateful_getHtmlTpl},Stateful_getHtmlTpl:function(){var n=this._Stateful_dGetHtmlTpl();return n.replace(/stateful/g,function(){return u})},Stateful_onMouseEnter:function(n,t){this.target=t;(!this.isDisabled()||this.alwalysHoverable)&&(this.addState("hover"),this.fireEvent("over"))},Stateful_onMouseLeave:function(){(!this.isDisabled()||this.alwalysHoverable)&&(this.removeState("hover"),this.removeState("active"),this.fireEvent("out"))},Stateful_onMouseOver:function(n,i){var r=n.relatedTarget;t.contains(i,r)||i===r||this.Stateful_onMouseEnter(n,i)},Stateful_onMouseOut:function(n,i){var r=n.relatedTarget;t.contains(i,r)||i===r||this.Stateful_onMouseLeave(n,i)},Stateful_onMouseDown:function(){this.isDisabled()||this.addState("active")},Stateful_onMouseUp:function(){this.isDisabled()||this.removeState("active")},Stateful_postRender:function(){this.disabled&&!this.hasState("disabled")&&this.addState("disabled")},hasState:function(t){return n.hasClass(this.getStateDom(),"edui-state-"+t)},addState:function(n){this.hasState(n)||(this.getStateDom().className+=" edui-state-"+n)},removeState:function(t){this.hasState(t)&&n.removeClasses(this.getStateDom(),["edui-state-"+t])},getStateDom:function(){return this.getDom("state")},isChecked:function(){return this.hasState("checked")},setChecked:function(n){!this.isDisabled()&&n?this.addState("checked"):this.removeState("checked")},isDisabled:function(){return this.hasState("disabled")},setDisabled:function(n){n?(this.removeState("hover"),this.removeState("checked"),this.removeState("active"),this.addState("disabled")):this.removeState("disabled")}}}(),function(){var t=r.editor.utils,i=r.editor.ui.UIBase,u=r.editor.ui.Stateful,n=r.editor.ui.Button=function(n){this.initOptions(n);this.initButton()};n.prototype={uiName:"button",label:"",title:"",showIcon:!0,showText:!0,initButton:function(){this.initUIBase();this.Stateful_init()},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><div id="##_state" stateful><div class="%%-wrap"><div id="##_body" unselectable="on" '+(this.title?'title="'+this.title+'"':"")+' class="%%-body" onmousedown="return false;" onclick="return $$._onClick();">'+(this.showIcon?'<div class="edui-box edui-icon"><\/div>':"")+(this.showText?'<div class="edui-box edui-label">'+this.label+"<\/div>":"")+"<\/div><\/div><\/div><\/div>"},postRender:function(){this.Stateful_postRender();this.setDisabled(this.disabled)},_onClick:function(){this.isDisabled()||this.fireEvent("click")}};t.inherits(n,i);t.extend(n.prototype,u)}(),function(){var n=r.editor.utils,t=r.editor.ui.uiUtils,e=r.editor.dom.domUtils,u=r.editor.ui.UIBase,f=r.editor.ui.Stateful,i=r.editor.ui.SplitButton=function(n){this.initOptions(n);this.initSplitButton()};i.prototype={popup:null,uiName:"splitbutton",title:"",initSplitButton:function(){var t,n;this.initUIBase();this.Stateful_init();t=this;this.popup!=null&&(n=this.popup,this.popup=null,this.setPopup(n))},_UIBase_postRender:u.prototype.postRender,postRender:function(){this.Stateful_postRender();this._UIBase_postRender()},setPopup:function(i){this.popup!==i&&(this.popup!=null&&this.popup.dispose(),i.addListener("show",n.bind(this._onPopupShow,this)),i.addListener("hide",n.bind(this._onPopupHide,this)),i.addListener("postrender",n.bind(function(){i.getDom("body").appendChild(t.createElementByHtml('<div id="'+this.popup.id+'_bordereraser" class="edui-bordereraser edui-background" style="width:'+(t.getClientRect(this.getDom()).width-2)+'px"><\/div>'));i.getDom().className+=" "+this.className},this)),this.popup=i)},_onPopupShow:function(){this.addState("opened")},_onPopupHide:function(){this.removeState("opened")},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><div '+(this.title?'title="'+this.title+'"':"")+' id="##_state" stateful><div class="%%-body"><div id="##_button_body" class="edui-box edui-button-body" onclick="$$._onButtonClick(event, this);"><div class="edui-box edui-icon"><\/div><\/div><div class="edui-box edui-splitborder"><\/div><div class="edui-box edui-arrow" onclick="$$._onArrowClick();"><\/div><\/div><\/div><\/div>'},showPopup:function(){var n=t.getClientRect(this.getDom());n.top-=this.popup.SHADOW_RADIUS;n.height+=this.popup.SHADOW_RADIUS;this.popup.showAnchorRect(n)},_onArrowClick:function(){this.isDisabled()||this.showPopup()},_onButtonClick:function(){this.isDisabled()||this.fireEvent("buttonclick")}};n.inherits(i,u);n.extend(i.prototype,f,!0)}(),function(){var i=r.editor.utils,u=r.editor.ui.uiUtils,f=r.editor.ui.ColorPicker,e=r.editor.ui.Popup,n=r.editor.ui.SplitButton,t=r.editor.ui.ColorButton=function(n){this.initOptions(n);this.initColorButton()};t.prototype={initColorButton:function(){var n=this;this.popup=new e({content:new f({noColorText:n.editor.getLang("clearColor"),editor:n.editor,onpickcolor:function(t,i){n._onPickColor(i)},onpicknocolor:function(t,i){n._onPickNoColor(i)}}),editor:n.editor});this.initSplitButton()},_SplitButton_postRender:n.prototype.postRender,postRender:function(){this._SplitButton_postRender();this.getDom("button_body").appendChild(u.createElementByHtml('<div id="'+this.id+'_colorlump" class="edui-colorlump"><\/div>'));this.getDom().className+=" edui-colorbutton"},setColor:function(n){this.getDom("colorlump").style.backgroundColor=n;this.color=n},_onPickColor:function(n){this.fireEvent("pickcolor",n)!==!1&&(this.setColor(n),this.popup.hide())},_onPickNoColor:function(){this.fireEvent("picknocolor")!==!1&&this.popup.hide()}};i.inherits(t,n)}(),function(){var t=r.editor.utils,i=r.editor.ui.Popup,u=r.editor.ui.TablePicker,f=r.editor.ui.SplitButton,n=r.editor.ui.TableButton=function(n){this.initOptions(n);this.initTableButton()};n.prototype={initTableButton:function(){var n=this;this.popup=new i({content:new u({editor:n.editor,onpicktable:function(t,i,r){n._onPickTable(i,r)}}),editor:n.editor});this.initSplitButton()},_onPickTable:function(n,t){this.fireEvent("picktable",n,t)!==!1&&this.popup.hide()}};t.inherits(n,f)}(),function(){var i=r.editor.utils,n=r.editor.ui.UIBase,t=r.editor.ui.AutoTypeSetPicker=function(n){this.initOptions(n);this.initAutoTypeSetPicker()};t.prototype={initAutoTypeSetPicker:function(){this.initUIBase()},getHtmlTpl:function(){var t=this.editor,n=t.options.autotypeset,i=t.getLang("autoTypeSet"),u="textAlignValue"+t.uid,r="imageBlockLineValue"+t.uid;return'<div id="##" class="edui-autotypesetpicker %%"><div class="edui-autotypesetpicker-body"><table ><tr><td nowrap colspan="2"><input type="checkbox" name="mergeEmptyline" '+(n.mergeEmptyline?"checked":"")+">"+i.mergeLine+'<\/td><td colspan="2"><input type="checkbox" name="removeEmptyline" '+(n.removeEmptyline?"checked":"")+">"+i.delLine+'<\/td><\/tr><tr><td nowrap colspan="2"><input type="checkbox" name="removeClass" '+(n.removeClass?"checked":"")+">"+i.removeFormat+'<\/td><td colspan="2"><input type="checkbox" name="indent" '+(n.indent?"checked":"")+">"+i.indent+'<\/td><\/tr><tr><td nowrap colspan="2"><input type="checkbox" name="textAlign" '+(n.textAlign?"checked":"")+">"+i.alignment+'<\/td><td colspan="2" id="'+u+'"><input type="radio" name="'+u+'" value="left" '+(n.textAlign&&n.textAlign=="left"?"checked":"")+">"+t.getLang("justifyleft")+'<input type="radio" name="'+u+'" value="center" '+(n.textAlign&&n.textAlign=="center"?"checked":"")+">"+t.getLang("justifycenter")+'<input type="radio" name="'+u+'" value="right" '+(n.textAlign&&n.textAlign=="right"?"checked":"")+">"+t.getLang("justifyright")+' <\/tr><tr><td nowrap colspan="2"><input type="checkbox" name="imageBlockLine" '+(n.imageBlockLine?"checked":"")+">"+i.imageFloat+'<\/td><td nowrap colspan="2" id="'+r+'"><input type="radio" name="'+r+'" value="none" '+(n.imageBlockLine&&n.imageBlockLine=="none"?"checked":"")+">"+t.getLang("default")+'<input type="radio" name="'+r+'" value="left" '+(n.imageBlockLine&&n.imageBlockLine=="left"?"checked":"")+">"+t.getLang("justifyleft")+'<input type="radio" name="'+r+'" value="center" '+(n.imageBlockLine&&n.imageBlockLine=="center"?"checked":"")+">"+t.getLang("justifycenter")+'<input type="radio" name="'+r+'" value="right" '+(n.imageBlockLine&&n.imageBlockLine=="right"?"checked":"")+">"+t.getLang("justifyright")+'<\/tr><tr><td nowrap colspan="2"><input type="checkbox" name="clearFontSize" '+(n.clearFontSize?"checked":"")+">"+i.removeFontsize+'<\/td><td colspan="2"><input type="checkbox" name="clearFontFamily" '+(n.clearFontFamily?"checked":"")+">"+i.removeFontFamily+'<\/td><\/tr><tr><td nowrap colspan="4"><input type="checkbox" name="removeEmptyNode" '+(n.removeEmptyNode?"checked":"")+">"+i.removeHtml+'<\/td><\/tr><tr><td nowrap colspan="4"><input type="checkbox" name="pasteFilter" '+(n.pasteFilter?"checked":"")+">"+i.pasteFilter+'<\/td><\/tr><tr><td nowrap colspan="4" align="right"><button >'+i.run+"<\/button><\/td><\/tr><\/table><\/div><\/div>"},_UIBase_render:n.prototype.render};i.inherits(t,n)}(),function(){function i(t){for(var u,o,y,s,p,h,c,i=t.editor.options.autotypeset,l=t.getDom(),w=t.editor.uid,a=null,r=null,v=n.getElementsByTagName(l,"input"),e=v.length-1,f;f=v[e--];)if(a=f.getAttribute("type"),a=="checkbox"&&(r=f.getAttribute("name"),i[r]&&delete i[r],f.checked))if(u=document.getElementById(r+"Value"+w),u){if(/input/ig.test(u.tagName))i[r]=u.value;else for(o=u.getElementsByTagName("input"),y=o.length-1;s=o[y--];)if(s.checked){i[r]=s.value;break}}else i[r]=!0;for(p=n.getElementsByTagName(l,"select"),e=0;h=p[e++];)c=h.getAttribute("name"),i[c]=i[c]?h.value:"";t.editor.options.autotypeset=i}var u=r.editor.utils,f=r.editor.ui.Popup,e=r.editor.ui.AutoTypeSetPicker,o=r.editor.ui.SplitButton,t=r.editor.ui.AutoTypeSetButton=function(n){this.initOptions(n);this.initAutoTypeSetButton()};t.prototype={initAutoTypeSetButton:function(){var n=this,t;this.popup=new f({content:new e({editor:n.editor}),editor:n.editor,hide:function(){!this._hidden&&this.getDom()&&(i(this),this.getDom().style.display="none",this._hidden=!0,this.fireEvent("hide"))}});t=0;this.popup.addListener("postRenderAfter",function(){var r=this,u,f;t||(u=this.getDom(),f=u.getElementsByTagName("button")[0],f.onclick=function(){i(r);n.editor.execCommand("autotypeset");r.hide()},t=1)});this.initSplitButton()}};u.inherits(t,o)}(),function(){var t=r.editor.utils,u=r.editor.ui.Popup,f=r.editor.ui.Stateful,i=r.editor.ui.UIBase,n=r.editor.ui.CellAlignPicker=function(n){this.initOptions(n);this.initSelected();this.initCellAlignPicker()};n.prototype={initSelected:function(){var n={valign:{top:0,middle:1,bottom:2},align:{left:0,center:1,right:2},count:3};this.selected&&(this.selectedIndex=n.valign[this.selected.valign]*n.count+n.align[this.selected.align])},initCellAlignPicker:function(){this.initUIBase();this.Stateful_init()},getHtmlTpl:function(){for(var u=["left","center","right"],r=null,t=-1,i=[],n=0;n<9;n++)r=this.selectedIndex===n?' class="edui-cellalign-selected" ':"",t=n%3,t===0&&i.push("<tr>"),i.push('<td index="'+n+'" '+r+' stateful><div class="edui-icon edui-'+u[t]+'"><\/div><\/td>'),t===2&&i.push("<\/tr>");return'<div id="##" class="edui-cellalignpicker %%"><div class="edui-cellalignpicker-body"><table onclick="$$._onClick(event);">'+i.join("")+"<\/table><\/div><\/div>"},getStateDom:function(){return this.target},_onClick:function(n){var t=n.target||n.srcElement;/icon/.test(t.className)&&(this.items[t.parentNode.getAttribute("index")].onclick(),u.postHide(n))},_UIBase_render:i.prototype.render};t.inherits(n,i);t.extend(n.prototype,f,!0)}(),function(){var i=r.editor.utils,e=r.editor.ui.Stateful,u=r.editor.ui.uiUtils,f=r.editor.ui.UIBase,t=r.editor.ui.PastePicker=function(n){this.initOptions(n);this.initPastePicker()};t.prototype={initPastePicker:function(){this.initUIBase();this.Stateful_init()},getHtmlTpl:function(){return'<div class="edui-pasteicon" onclick="$$._onClick(this)"><\/div><div class="edui-pastecontainer"><div class="edui-title">'+this.editor.getLang("pasteOpt")+'<\/div><div class="edui-button"><div title="'+this.editor.getLang("pasteSourceFormat")+'" onclick="$$.format(false)" stateful><div class="edui-richtxticon"><\/div><\/div><div title="'+this.editor.getLang("tagFormat")+'" onclick="$$.format(2)" stateful><div class="edui-tagicon"><\/div><\/div><div title="'+this.editor.getLang("pasteTextFormat")+'" onclick="$$.format(true)" stateful><div class="edui-plaintxticon"><\/div><\/div><\/div><\/div><\/div>'},getStateDom:function(){return this.target},format:function(n){this.editor.ui._isTransfer=!0;this.editor.fireEvent("pasteTransfer",n)},_onClick:function(t){var i=n.getNextDomNode(t),f=u.getViewportRect().height,r=u.getClientRect(i);i.style.top=r.top+r.height>f?-r.height-t.offsetHeight+"px":"";/hidden/ig.test(n.getComputedStyle(i,"visibility"))?(i.style.visibility="visible",n.addClass(t,"edui-state-opened")):(i.style.visibility="hidden",n.removeClasses(t,"edui-state-opened"))},_UIBase_render:f.prototype.render};i.inherits(t,f);i.extend(t.prototype,e,!0)}(),function(){var t=r.editor.utils,i=r.editor.ui.uiUtils,u=r.editor.ui.UIBase,n=r.editor.ui.Toolbar=function(n){this.initOptions(n);this.initToolbar()};n.prototype={items:null,initToolbar:function(){this.items=this.items||[];this.initUIBase()},add:function(n){this.items.push(n)},getHtmlTpl:function(){for(var t=[],n=0;n<this.items.length;n++)t[n]=this.items[n].renderHtml();return'<div id="##" class="edui-toolbar %%" onselectstart="return false;" onmousedown="return $$._onMouseDown(event, this);">'+t.join("")+"<\/div>"},postRender:function(){for(var t=this.getDom(),n=0;n<this.items.length;n++)this.items[n].postRender();i.makeUnselectable(t)},_onMouseDown:function(){return!1}};t.inherits(n,u)}(),function(){var e=r.editor.utils,u=r.editor.dom.domUtils,t=r.editor.ui.uiUtils,o=r.editor.ui.UIBase,i=r.editor.ui.Popup,s=r.editor.ui.Stateful,h=r.editor.ui.CellAlignPicker,f=r.editor.ui.Menu=function(n){this.initOptions(n);this.initMenu()},c={renderHtml:function(){return'<div class="edui-menuitem edui-menuseparator"><div class="edui-menuseparator-inner"><\/div><\/div>'},postRender:function(){},queryAutoHide:function(){return!0}},n;f.prototype={items:null,uiName:"menu",initMenu:function(){this.items=this.items||[];this.initPopup();this.initItems()},initItems:function(){for(var i,t=0;t<this.items.length;t++)i=this.items[t],i=="-"?this.items[t]=this.getSeparator():i instanceof n||(i.editor=this.editor,i.theme=this.editor.options.theme,this.items[t]=this.createItem(i))},getSeparator:function(){return c},createItem:function(t){return t.menu=this,new n(t)},_Popup_getContentHtmlTpl:i.prototype.getContentHtmlTpl,getContentHtmlTpl:function(){var t,n,i;if(this.items.length==0)return this._Popup_getContentHtmlTpl();for(t=[],n=0;n<this.items.length;n++)i=this.items[n],t[n]=i.renderHtml();return'<div class="%%-body">'+t.join("")+"<\/div>"},_Popup_postRender:i.prototype.postRender,postRender:function(){for(var i,r=this,n=0;n<this.items.length;n++)i=this.items[n],i.ownerMenu=this,i.postRender();u.on(this.getDom(),"mouseover",function(n){n=n||event;var i=n.relatedTarget||n.fromElement,u=r.getDom();t.contains(u,i)||u===i||r.fireEvent("over")});this._Popup_postRender()},queryAutoHide:function(n){var i,r;if(n){if(t.contains(this.getDom(),n))return!1;for(i=0;i<this.items.length;i++)if(r=this.items[i],r.queryAutoHide(n)===!1)return!1}},clearItems:function(){for(var n,t=0;t<this.items.length;t++)n=this.items[t],clearTimeout(n._showingTimer),clearTimeout(n._closingTimer),n.subMenu&&n.subMenu.destroy();this.items=[]},destroy:function(){this.getDom()&&u.remove(this.getDom());this.clearItems()},dispose:function(){this.destroy()}};e.inherits(f,i);n=r.editor.ui.MenuItem=function(n){if(this.initOptions(n),this.initUIBase(),this.Stateful_init(),this.subMenu&&!(this.subMenu instanceof f))if(n.className&&n.className.indexOf("aligntd")!=-1){var t=this;this.subMenu.selected=this.editor.queryCommandValue("cellalignment");this.subMenu=new i({content:new h(this.subMenu),parentMenu:t,editor:t.editor,destroy:function(){this.getDom()&&u.remove(this.getDom())}});this.subMenu.addListener("postRenderAfter",function(){u.on(this.getDom(),"mouseover",function(){t.addState("opened")})})}else this.subMenu=new f(this.subMenu)};n.prototype={label:"",subMenu:null,ownerMenu:null,uiName:"menuitem",alwalysHoverable:!0,getHtmlTpl:function(){return'<div id="##" class="%%" stateful onclick="$$._onClick(event, this);"><div class="%%-body">'+this.renderLabelHtml()+"<\/div><\/div>"},postRender:function(){var n=this;this.addListener("over",function(){n.ownerMenu.fireEvent("submenuover",n);n.subMenu&&n.delayShowSubMenu()});this.subMenu&&(this.getDom().className+=" edui-hassubmenu",this.subMenu.render(),this.addListener("out",function(){n.delayHideSubMenu()}),this.subMenu.addListener("over",function(){clearTimeout(n._closingTimer);n._closingTimer=null;n.addState("opened")}),this.ownerMenu.addListener("hide",function(){n.hideSubMenu()}),this.ownerMenu.addListener("submenuover",function(t,i){i!==n&&n.delayHideSubMenu()}),this.subMenu._bakQueryAutoHide=this.subMenu.queryAutoHide,this.subMenu.queryAutoHide=function(i){return i&&t.contains(n.getDom(),i)?!1:this._bakQueryAutoHide(i)});this.getDom().style.tabIndex="-1";t.makeUnselectable(this.getDom());this.Stateful_postRender()},delayShowSubMenu:function(){var n=this;n.isDisabled()||(n.addState("opened"),clearTimeout(n._showingTimer),clearTimeout(n._closingTimer),n._closingTimer=null,n._showingTimer=setTimeout(function(){n.showSubMenu()},250))},delayHideSubMenu:function(){var n=this;n.isDisabled()||(n.removeState("opened"),clearTimeout(n._showingTimer),n._closingTimer||(n._closingTimer=setTimeout(function(){n.hasState("opened")||n.hideSubMenu();n._closingTimer=null},400)))},renderLabelHtml:function(){return'<div class="edui-arrow"><\/div><div class="edui-box edui-icon"><\/div><div class="edui-box edui-label %%-label">'+(this.label||"")+"<\/div>"},getStateDom:function(){return this.getDom()},queryAutoHide:function(n){if(this.subMenu&&this.hasState("opened"))return this.subMenu.queryAutoHide(n)},_onClick:function(n,t){this.hasState("disabled")||this.fireEvent("click",n,t)!==!1&&(this.subMenu?this.showSubMenu():i.postHide(n))},showSubMenu:function(){var n=t.getClientRect(this.getDom());n.right-=5;n.left+=2;n.width-=7;n.top-=4;n.bottom+=4;n.height+=8;this.subMenu.showAnchorRect(n,!0,!0)},hideSubMenu:function(){this.subMenu.hide()}};e.inherits(n,o);e.extend(n.prototype,s,!0)}(),function(){var i=r.editor.utils,u=r.editor.ui.uiUtils,f=r.editor.ui.Menu,n=r.editor.ui.SplitButton,t=r.editor.ui.Combox=function(n){this.initOptions(n);this.initCombox()};t.prototype={uiName:"combox",initCombox:function(){var i=this,n,t;for(this.items=this.items||[],n=0;n<this.items.length;n++)t=this.items[n],t.uiName="listitem",t.index=n,t.onclick=function(){i.selectByIndex(this.index)};this.popup=new f({items:this.items,uiName:"list",editor:this.editor});this.initSplitButton()},_SplitButton_postRender:n.prototype.postRender,postRender:function(){this._SplitButton_postRender();this.setLabel(this.label||"");this.setValue(this.initValue||"")},showPopup:function(){var n=u.getClientRect(this.getDom());n.top+=1;n.bottom-=1;n.height-=2;this.popup.showAnchorRect(n)},getValue:function(){return this.value},setValue:function(n){var t=this.indexByValue(n);t!=-1?(this.selectedIndex=t,this.setLabel(this.items[t].label),this.value=this.items[t].value):(this.selectedIndex=-1,this.setLabel(this.getLabelForUnknowValue(n)),this.value=n)},setLabel:function(n){this.getDom("button_body").innerHTML=n;this.label=n},getLabelForUnknowValue:function(n){return n},indexByValue:function(n){for(var t=0;t<this.items.length;t++)if(n==this.items[t].value)return t;return-1},getItem:function(n){return this.items[n]},selectByIndex:function(n){n<this.items.length&&this.fireEvent("select",n)!==!1&&(this.selectedIndex=n,this.value=this.items[n].value,this.setLabel(this.items[n].label))}};i.inherits(t,n)}(),function(){var f=r.editor.utils,n=r.editor.dom.domUtils,t=r.editor.ui.uiUtils,e=r.editor.ui.Mask,c=r.editor.ui.UIBase,u=r.editor.ui.Button,o=r.editor.ui.Dialog=function(n){this.initOptions(f.extend({autoReset:!0,draggable:!0,onok:function(){},oncancel:function(){},onclose:function(n,t){return t?this.onok():this.oncancel()},holdScroll:!1},n));this.initDialog()},s,h;o.prototype={draggable:!1,uiName:"dialog",initDialog:function(){var i=this,t=this.editor.options.theme,n;if(this.initUIBase(),this.modalMask=s||(s=new e({className:"edui-dialog-modalmask",theme:t})),this.dragMask=h||(h=new e({className:"edui-dialog-dragmask",theme:t})),this.closeButton=new u({className:"edui-dialog-closebutton",title:i.closeDialog,theme:t,onclick:function(){i.close(!1)}}),this.buttons)for(n=0;n<this.buttons.length;n++)this.buttons[n]instanceof u||(this.buttons[n]=new u(this.buttons[n]))},fitSize:function(){var t=this.getDom("body"),n=this.mesureSize();return t.style.width=n.width+"px",t.style.height=n.height+"px",n},safeSetOffset:function(n){var o=this,f=o.getDom(),i=t.getViewportRect(),r=t.getClientRect(f),e=n.left,u;e+r.width>i.right&&(e=i.right-r.width);u=n.top;u+r.height>i.bottom&&(u=i.bottom-r.height);f.style.left=Math.max(e,0)+"px";f.style.top=Math.max(u,0)+"px"},showAtCenter:function(){this.getDom().style.display="";var i=t.getViewportRect(),r=this.fitSize(),u=this.getDom("titlebar").offsetHeight|0,e=i.width/2-r.width/2,o=i.height/2-(r.height-u)/2-u,f=this.getDom();this.safeSetOffset({left:Math.max(e|0,0),top:Math.max(o|0,0)});n.hasClass(f,"edui-state-centered")||(f.className+=" edui-state-centered");this._show()},getContentHtml:function(){var n="";return typeof this.content=="string"?n=this.content:this.iframeUrl&&(n='<span id="'+this.id+'_contmask" class="dialogcontmask"><\/span><iframe id="'+this.id+'_iframe" class="%%-iframe" height="100%" width="100%" frameborder="0" src="'+this.iframeUrl+'"><\/iframe>'),n},getHtmlTpl:function(){var i="",t,n;if(this.buttons){for(t=[],n=0;n<this.buttons.length;n++)t[n]=this.buttons[n].renderHtml();i='<div class="%%-foot"><div id="##_buttons" class="%%-buttons">'+t.join("")+"<\/div><\/div>"}return'<div id="##" class="%%"><div class="%%-wrap"><div id="##_body" class="%%-body"><div class="%%-shadow"><\/div><div id="##_titlebar" class="%%-titlebar"><div class="%%-draghandle" onmousedown="$$._onTitlebarMouseDown(event, this);"><span class="%%-caption">'+(this.title||"")+"<\/span><\/div>"+this.closeButton.renderHtml()+'<\/div><div id="##_content" class="%%-content">'+(this.autoReset?"":this.getContentHtml())+"<\/div>"+i+"<\/div><\/div><\/div>"},postRender:function(){var r,u;if(this.modalMask.getDom()||(this.modalMask.render(),this.modalMask.hide()),this.dragMask.getDom()||(this.dragMask.render(),this.dragMask.hide()),r=this,this.addListener("show",function(){r.modalMask.show(this.getDom().style.zIndex-2)}),this.addListener("hide",function(){r.modalMask.hide()}),this.buttons)for(u=0;u<this.buttons.length;u++)this.buttons[u].postRender();n.on(window,"resize",function(){setTimeout(function(){r.isHidden()||r.safeSetOffset(t.getClientRect(r.getDom()))})});if(this.holdScroll)if(r.iframeUrl)r.addListener("dialogafterreset",function(){window.setTimeout(function(){var t=document.getElementById(r.id+"_iframe").contentWindow,u;if(i.ie)u=window.setInterval(function(){if(t.document&&t.document.body){window.clearInterval(u);u=null;n.on(t.document.body,i.gecko?"DOMMouseScroll":"mousewheel",function(t){n.preventDefault(t)})}},100);else n.on(t,i.gecko?"DOMMouseScroll":"mousewheel",function(t){n.preventDefault(t)})},1)});else n.on(document.getElementById(r.id+"_iframe"),i.gecko?"DOMMouseScroll":"mousewheel",function(t){n.preventDefault(t)});this._hide()},mesureSize:function(){var n=this.getDom("body"),i=t.getClientRect(this.getDom("content")).width,r=n.style;return r.width=i,t.getClientRect(n)},_onTitlebarMouseDown:function(i){if(this.draggable){var u,f=t.getViewportRect(),r=this;t.startDrag(i,{ondragstart:function(){u=t.getClientRect(r.getDom());r.getDom("contmask").style.visibility="visible";r.dragMask.show(r.getDom().style.zIndex-1)},ondragmove:function(n,t){var i=u.left+n,f=u.top+t;r.safeSetOffset({left:i,top:f})},ondragstop:function(){r.getDom("contmask").style.visibility="hidden";n.removeClasses(r.getDom(),["edui-state-centered"]);r.dragMask.hide()}})}},reset:function(){this.getDom("content").innerHTML=this.getContentHtml();this.fireEvent("dialogafterreset")},_show:function(){this._hidden&&(this.getDom().style.display="",this.editor.container.style.zIndex&&(this.getDom().style.zIndex=this.editor.container.style.zIndex*1+10),this._hidden=!1,this.fireEvent("show"),r.editor.ui.uiUtils.getFixedLayer().style.zIndex=this.getDom().style.zIndex-4)},isHidden:function(){return this._hidden},_hide:function(){this._hidden||(this.getDom().style.display="none",this.getDom().style.zIndex="",this._hidden=!0,this.fireEvent("hide"))},open:function(){if(this.autoReset)try{this.reset()}catch(n){this.render();this.open()}if(this.showAtCenter(),this.iframeUrl)try{this.getDom("iframe").focus()}catch(t){}},_onCloseButtonClick:function(){this.close(!1)},close:function(n){this.fireEvent("close",n)!==!1&&this._hide()}};f.inherits(o,c)}(),function(){var t=r.editor.utils,i=r.editor.ui.Menu,u=r.editor.ui.SplitButton,n=r.editor.ui.MenuButton=function(n){this.initOptions(n);this.initMenuButton()};n.prototype={initMenuButton:function(){var n=this;this.uiName="menubutton";this.popup=new i({items:n.items,className:n.className,editor:n.editor});this.popup.addListener("show",function(){for(var i=this,t=0;t<i.items.length;t++)i.items[t].removeState("checked"),i.items[t].value==n._value&&(i.items[t].addState("checked"),this.value=n._value)});this.initSplitButton()},setValue:function(n){this._value=n}};t.inherits(n,u)}(),function(){var f=r.editor.utils,n=r.editor.ui,b=n.Dialog,e,c,s,o,t,h,u,l,a,v,y,p,w;for(n.buttons={},n.Dialog=function(n){var t=new b(n);return t.addListener("hide",function(){var n,r,u;if(t.editor){n=t.editor;try{i.gecko?(r=n.window.scrollY,u=n.window.scrollX,n.body.focus(),n.window.scrollTo(u,r)):n.focus()}catch(f){}}}),t},e={anchor:"~/dialogs/anchor/anchor.html",insertimage:"~/dialogs/image/image.html",link:"~/dialogs/link/link.html",spechars:"~/dialogs/spechars/spechars.html",searchreplace:"~/dialogs/searchreplace/searchreplace.html",map:"~/dialogs/map/map.html",gmap:"~/dialogs/gmap/gmap.html",insertvideo:"~/dialogs/video/video.html",help:"~/dialogs/help/help.html",emotion:"~/dialogs/emotion/emotion.html",wordimage:"~/dialogs/wordimage/wordimage.html",attachment:"~/dialogs/attachment/attachment.html",insertframe:"~/dialogs/insertframe/insertframe.html",edittip:"~/dialogs/table/edittip.html",edittable:"~/dialogs/table/edittable.html",edittd:"~/dialogs/table/edittd.html",webapp:"~/dialogs/webapp/webapp.html",snapscreen:"~/dialogs/snapscreen/snapscreen.html",scrawl:"~/dialogs/scrawl/scrawl.html",music:"~/dialogs/music/music.html",template:"~/dialogs/template/template.html",background:"~/dialogs/background/background.html"},c=["undo","redo","formatmatch","bold","italic","underline","fontborder","touppercase","tolowercase","strikethrough","subscript","superscript","source","indent","outdent","blockquote","pasteplain","pagebreak","selectall","print","preview","horizontal","removeformat","time","date","unlink","insertparagraphbeforetable","insertrow","insertcol","mergeright","mergedown","deleterow","deletecol","splittorows","splittocols","splittocells","mergecells","deletetable"],o=0;t=c[o++];)t=t.toLowerCase(),n[t]=function(t){return function(i){var r=new n.Button({className:"edui-for-"+t,title:i.options.labelMap[t]||i.getLang("labelMap."+t)||"",onclick:function(){i.execCommand(t)},theme:i.options.theme,showText:!1});return n.buttons[t]=r,i.addListener("selectionchange",function(n,u,f){var e=i.queryCommandState(t);e==-1?(r.setDisabled(!0),r.setChecked(!1)):f||(r.setDisabled(!1),r.setChecked(e))}),r}}(t);n.cleardoc=function(t){var i=new n.Button({className:"edui-for-cleardoc",title:t.options.labelMap.cleardoc||t.getLang("labelMap.cleardoc")||"",theme:t.options.theme,onclick:function(){confirm(t.getLang("confirmClear"))&&t.execCommand("cleardoc")}});return n.buttons.cleardoc=i,t.addListener("selectionchange",function(){i.setDisabled(t.queryCommandState("cleardoc")==-1)}),i};s={justify:["left","right","center","justify"],imagefloat:["none","left","center","right"],directionality:["ltr","rtl"]};for(u in s)(function(t,i){for(var u=0,r;r=i[u++];)(function(i){n[t.replace("float","")+i]=function(r){var u=new n.Button({className:"edui-for-"+t.replace("float","")+i,title:r.options.labelMap[t.replace("float","")+i]||r.getLang("labelMap."+t.replace("float","")+i)||"",theme:r.options.theme,onclick:function(){r.execCommand(t,i)}});return n.buttons[t]=u,r.addListener("selectionchange",function(n,f,e){u.setDisabled(r.queryCommandState(t)==-1);u.setChecked(r.queryCommandValue(t)==i&&!e)}),u}})(r)})(u,s[u]);for(o=0;t=["backcolor","forecolor"][o++];)n[t]=function(t){return function(i){var r=new n.ColorButton({className:"edui-for-"+t,color:"default",title:i.options.labelMap[t]||i.getLang("labelMap."+t)||"",editor:i,onpickcolor:function(n,r){i.execCommand(t,r)},onpicknocolor:function(){i.execCommand(t,"default");this.setColor("transparent");this.color="default"},onbuttonclick:function(){i.execCommand(t,this.color)}});return n.buttons[t]=r,i.addListener("selectionchange",function(){r.setDisabled(i.queryCommandState(t)==-1)}),r}}(t);h={noOk:["searchreplace","help","spechars","webapp"],ok:["attachment","anchor","link","insertimage","map","gmap","insertframe","wordimage","insertvideo","insertframe","edittip","edittable","edittd","scrawl","template","music","background"]};for(u in h)(function(t,r){for(var o=0,u;u=r[o++];)i.opera&&u==="searchreplace"||function(i){n[i]=function(r,u,o){var s,h;return u=u||(r.options.iframeUrlMap||{})[i]||e[i],o=r.options.labelMap[i]||r.getLang("labelMap."+i)||"",u&&(s=new n.Dialog(f.extend({iframeUrl:r.ui.mapUrl(u),editor:r,className:"edui-for-"+i,title:o,holdScroll:i==="insertimage",closeDialog:r.getLang("closeDialog")},t=="ok"?{buttons:[{className:"edui-okbutton",label:r.getLang("ok"),editor:r,onclick:function(){s.close(!0)}},{className:"edui-cancelbutton",label:r.getLang("cancel"),editor:r,onclick:function(){s.close(!1)}}]}:{})),r.ui._dialogs[i+"Dialog"]=s),h=new n.Button({className:"edui-for-"+i,title:o,onclick:function(){if(s)switch(i){case"wordimage":r.execCommand("wordimage","word_img");r.word_img&&(s.render(),s.open());break;case"scrawl":r.queryCommandState("scrawl")!=-1&&(s.render(),s.open());break;default:s.render();s.open()}},theme:r.options.theme,disabled:i=="scrawl"&&r.queryCommandState("scrawl")==-1}),n.buttons[i]=h,r.addListener("selectionchange",function(){var n;i in{edittable:1}||(n=r.queryCommandState(i),h.getDom()&&(h.setDisabled(n==-1),h.setChecked(n)))}),h}}(u.toLowerCase())})(u,h[u]);for(n.snapscreen=function(t,i,r){var f,u;return r=t.options.labelMap.snapscreen||t.getLang("labelMap.snapscreen")||"",f=new n.Button({className:"edui-for-snapscreen",title:r,onclick:function(){t.execCommand("snapscreen")},theme:t.options.theme}),n.buttons.snapscreen=f,i=i||(t.options.iframeUrlMap||{}).snapscreen||e.snapscreen,i&&(u=new n.Dialog({iframeUrl:t.ui.mapUrl(i),editor:t,className:"edui-for-snapscreen",title:r,buttons:[{className:"edui-okbutton",label:t.getLang("ok"),editor:t,onclick:function(){u.close(!0)}},{className:"edui-cancelbutton",label:t.getLang("cancel"),editor:t,onclick:function(){u.close(!1)}}]}),u.render(),t.ui._dialogs.snapscreenDialog=u),t.addListener("selectionchange",function(){f.setDisabled(t.queryCommandState("snapscreen")==-1)}),f},n.insertcode=function(t,i,r){var e,u;return i=t.options.insertcode||[],r=t.options.labelMap.insertcode||t.getLang("labelMap.insertcode")||"",e=[],f.each(i,function(n,i){e.push({label:n,value:i,theme:t.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" >'+(this.label||"")+"<\/div>"}})}),u=new n.Combox({editor:t,items:e,onselect:function(n,i){t.execCommand("insertcode",this.items[i].value)},onbuttonclick:function(){this.showPopup()},title:r,initValue:r,className:"edui-for-insertcode",indexByValue:function(n){if(n)for(var t=0,i;i=this.items[t];t++)if(i.value.indexOf(n)!=-1)return t;return-1}}),n.buttons.insertcode=u,t.addListener("selectionchange",function(n,i,f){var o,e;if(!f)if(o=t.queryCommandState("insertcode"),o==-1)u.setDisabled(!0);else{if(u.setDisabled(!1),e=t.queryCommandValue("insertcode"),!e){u.setValue(r);return}e&&(e=e.replace(/['"]/g,"").split(",")[0]);u.setValue(e)}}),u},n.fontfamily=function(t,i,r){var o,e,s,h,u;if(i=t.options.fontfamily||[],r=t.options.labelMap.fontfamily||t.getLang("labelMap.fontfamily")||"",i.length){for(o=0,s=[];e=i[o];o++)h=t.getLang("fontfamily")[e.name]||"",function(n,i){s.push({label:n,value:i,theme:t.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="font-family:'+f.unhtml(this.value)+'">'+(this.label||"")+"<\/div>"}})}(e.label||h,e.val);return u=new n.Combox({editor:t,items:s,onselect:function(n,i){t.execCommand("FontFamily",this.items[i].value)},onbuttonclick:function(){this.showPopup()},title:r,initValue:r,className:"edui-for-fontfamily",indexByValue:function(n){if(n)for(var t=0,i;i=this.items[t];t++)if(i.value.indexOf(n)!=-1)return t;return-1}}),n.buttons.fontfamily=u,t.addListener("selectionchange",function(n,i,r){var e,f;r||(e=t.queryCommandState("FontFamily"),e==-1?u.setDisabled(!0):(u.setDisabled(!1),f=t.queryCommandValue("FontFamily"),f&&(f=f.replace(/['"]/g,"").split(",")[0]),u.setValue(f)))}),u}},n.fontsize=function(t,i,r){var e,f,o,u;if(r=t.options.labelMap.fontsize||t.getLang("labelMap.fontsize")||"",i=i||t.options.fontsize||[],i.length){for(e=[],f=0;f<i.length;f++)o=i[f]+"px",e.push({label:o,value:o,theme:t.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="line-height:1;font-size:'+this.value+'">'+(this.label||"")+"<\/div>"}});return u=new n.Combox({editor:t,items:e,title:r,initValue:r,onselect:function(n,i){t.execCommand("FontSize",this.items[i].value)},onbuttonclick:function(){this.showPopup()},className:"edui-for-fontsize"}),n.buttons.fontsize=u,t.addListener("selectionchange",function(n,i,r){if(!r){var f=t.queryCommandState("FontSize");f==-1?u.setDisabled(!0):(u.setDisabled(!1),u.setValue(t.queryCommandValue("FontSize")))}}),u}},n.paragraph=function(t,i,r){var o,e,u;if(r=t.options.labelMap.paragraph||t.getLang("labelMap.paragraph")||"",i=t.options.paragraph||[],!f.isEmptyObject(i)){o=[];for(e in i)o.push({value:e,label:i[e]||t.getLang("paragraph")[e],theme:t.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label"><span class="edui-for-'+this.value+'">'+(this.label||"")+"<\/span><\/div>"}});return u=new n.Combox({editor:t,items:o,title:r,initValue:r,className:"edui-for-paragraph",onselect:function(n,i){t.execCommand("Paragraph",this.items[i].value)},onbuttonclick:function(){this.showPopup()}}),n.buttons.paragraph=u,t.addListener("selectionchange",function(n,i,r){var e,f,o;r||(e=t.queryCommandState("Paragraph"),e==-1?u.setDisabled(!0):(u.setDisabled(!1),f=t.queryCommandValue("Paragraph"),o=u.indexByValue(f),o!=-1?u.setValue(f):u.setValue(u.initValue)))}),u}},n.customstyle=function(t){var u=t.options.customstyle||[],f=t.options.labelMap.customstyle||t.getLang("labelMap.customstyle")||"",e,o,r,s,i;if(u.length){for(e=t.getLang("customstyle"),o=0,r=[];s=u[o++];)(function(n){var i={};i.label=n.label?n.label:e[n.name];i.style=n.style;i.className=n.className;i.tag=n.tag;r.push({label:i.label,value:i,theme:t.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label"><'+i.tag+" "+(i.className?' class="'+i.className+'"':"")+(i.style?' style="'+i.style+'"':"")+">"+i.label+"<\/"+i.tag+"><\/div>"}})})(s);return i=new n.Combox({editor:t,items:r,title:f,initValue:f,className:"edui-for-customstyle",onselect:function(n,i){t.execCommand("customstyle",this.items[i].value)},onbuttonclick:function(){this.showPopup()},indexByValue:function(n){for(var t=0,i;i=this.items[t++];)if(i.label==n)return t-1;return-1}}),n.buttons.customstyle=i,t.addListener("selectionchange",function(n,r,u){var e,f,o;u||(e=t.queryCommandState("customstyle"),e==-1?i.setDisabled(!0):(i.setDisabled(!1),f=t.queryCommandValue("customstyle"),o=i.indexByValue(f),o!=-1?i.setValue(f):i.setValue(i.initValue)))}),i}},n.inserttable=function(t,i,r){r=t.options.labelMap.inserttable||t.getLang("labelMap.inserttable")||"";var u=new n.TableButton({editor:t,title:r,className:"edui-for-inserttable",onpicktable:function(n,i,r){t.execCommand("InsertTable",{numRows:r,numCols:i,border:1})},onbuttonclick:function(){this.showPopup()}});return n.buttons.inserttable=u,t.addListener("selectionchange",function(){u.setDisabled(t.queryCommandState("inserttable")==-1)}),u},n.lineheight=function(t){var f=t.options.lineheight||[],e,r,u,i;if(f.length){for(e=0,u=[];r=f[e++];)u.push({label:r,value:r,theme:t.options.theme,onclick:function(){t.execCommand("lineheight",this.value)}});return i=new n.MenuButton({editor:t,className:"edui-for-lineheight",title:t.options.labelMap.lineheight||t.getLang("labelMap.lineheight")||"",items:u,onbuttonclick:function(){var n=t.queryCommandValue("LineHeight")||this.value;t.execCommand("LineHeight",n)}}),n.buttons.lineheight=i,t.addListener("selectionchange",function(){var r=t.queryCommandState("LineHeight"),n;r==-1?i.setDisabled(!0):(i.setDisabled(!1),n=t.queryCommandValue("LineHeight"),n&&i.setValue((n+"").replace(/cm/,"")),i.setChecked(r))}),i}},l=["top","bottom"],a=0;v=l[a++];)(function(t){n["rowspacing"+t]=function(i){var e=i.options["rowspacing"+t]||[],o,u,f,r;if(!e.length)return null;for(o=0,f=[];u=e[o++];)f.push({label:u,value:u,theme:i.options.theme,onclick:function(){i.execCommand("rowspacing",this.value,t)}});return r=new n.MenuButton({editor:i,className:"edui-for-rowspacing"+t,title:i.options.labelMap["rowspacing"+t]||i.getLang("labelMap.rowspacing"+t)||"",items:f,onbuttonclick:function(){var n=i.queryCommandValue("rowspacing",t)||this.value;i.execCommand("rowspacing",n,t)}}),n.buttons[t]=r,i.addListener("selectionchange",function(){var u=i.queryCommandState("rowspacing",t),n;u==-1?r.setDisabled(!0):(r.setDisabled(!1),n=i.queryCommandValue("rowspacing",t),n&&r.setValue((n+"").replace(/%/,"")),r.setChecked(u))}),r}})(v);for(y=["insertorderedlist","insertunorderedlist"],p=0;w=y[p++];)(function(t){n[t]=function(i){var f=i.options[t],o=function(){i.execCommand(t,this.value)},e=[],u,r;for(u in f)e.push({label:f[u]||i.getLang()[t][u]||"",value:u,theme:i.options.theme,onclick:o});return r=new n.MenuButton({editor:i,className:"edui-for-"+t,title:i.getLang("labelMap."+t)||"",items:e,onbuttonclick:function(){var n=i.queryCommandValue(t)||this.value;i.execCommand(t,n)}}),n.buttons[t]=r,i.addListener("selectionchange",function(){var n=i.queryCommandState(t),u;n==-1?r.setDisabled(!0):(r.setDisabled(!1),u=i.queryCommandValue(t),r.setValue(u),r.setChecked(n))}),r}})(w);n.fullscreen=function(t,i){i=t.options.labelMap.fullscreen||t.getLang("labelMap.fullscreen")||"";var r=new n.Button({className:"edui-for-fullscreen",title:i,theme:t.options.theme,onclick:function(){t.ui&&t.ui.setFullScreen(!t.ui.isFullScreen());this.setChecked(t.ui.isFullScreen())}});return n.buttons.fullscreen=r,t.addListener("selectionchange",function(){var n=t.queryCommandState("fullscreen");r.setDisabled(n==-1);r.setChecked(t.ui.isFullScreen())}),r};n.emotion=function(t,i){var r="emotion",u=new n.MultiMenuPop({title:t.options.labelMap[r]||t.getLang("labelMap."+r+"")||"",editor:t,className:"edui-for-"+r,iframeUrl:t.ui.mapUrl(i||(t.options.iframeUrlMap||{})[r]||e[r])});return n.buttons[r]=u,t.addListener("selectionchange",function(){u.setDisabled(t.queryCommandState(r)==-1)}),u};n.autotypeset=function(t){var i=new n.AutoTypeSetButton({editor:t,title:t.options.labelMap.autotypeset||t.getLang("labelMap.autotypeset")||"",className:"edui-for-autotypeset",onbuttonclick:function(){t.execCommand("autotypeset")}});return n.buttons.autotypeset=i,t.addListener("selectionchange",function(){i.setDisabled(t.queryCommandState("autotypeset")==-1)}),i}}(),function(){function f(n){this.initOptions(n);this.initEditorUI()}var u=r.editor.utils,e=r.editor.ui.uiUtils,s=r.editor.ui.UIBase,n=r.editor.dom.domUtils,o=[],t;f.prototype={uiName:"editor",initEditorUI:function(){function s(n,t){var r;n.setOpt({wordCount:!0,maximumWords:1e4,wordCountMsg:n.options.wordCountMsg||n.getLang("wordCountMsg"),wordOverFlowMsg:n.options.wordOverFlowMsg||n.getLang("wordOverFlowMsg")});var i=n.options,u=i.maximumWords,e=i.wordCountMsg,o=i.wordOverFlowMsg,f=t.getDom("wordcount");i.wordCount&&(r=n.getContentLength(!0),r>u?(f.innerHTML=o,n.fireEvent("wordcountoverflow")):f.innerHTML=e.replace("{#leave}",u-r).replace("{#count}",r))}var t,u,f,e,o,i;this.editor.ui=this;this._dialogs={};this.initUIBase();this._initToolbars();t=this.editor;u=this;t.addListener("ready",function(){t.getDialog=function(n){return t.ui._dialogs[n+"Dialog"]};n.on(t.window,"scroll",function(n){r.editor.ui.Popup.postHide(n)});if(t.ui._actualFrameWidth=t.options.initialFrameWidth,t.options.elementPathEnabled&&(t.ui.getDom("elementpath").innerHTML='<div class="edui-editor-breadcrumb">'+t.getLang("elementPathTip")+":<\/div>"),t.options.wordCount){function i(){s(t,u);n.un(t.document,"click",arguments.callee)}n.on(t.document,"click",i);t.ui.getDom("wordcount").innerHTML=t.getLang("wordCountTip")}(t.ui._scale(),t.options.scaleEnabled?(t.autoHeightEnabled&&t.disableAutoHeight(),u.enableScale()):u.disableScale(),t.options.elementPathEnabled||t.options.wordCount||t.options.scaleEnabled||(t.ui.getDom("elementpath").style.display="none",t.ui.getDom("wordcount").style.display="none",t.ui.getDom("scale").style.display="none"),t.selection.isFocus())&&t.fireEvent("selectionchange",!1,!0)});t.addListener("mousedown",function(n,t){var i=t.target||t.srcElement;r.editor.ui.Popup.postHide(t,i)});t.addListener("delcells",function(){UE.ui.edittip&&new UE.ui.edittip(t);t.getDialog("edittip").open()});e=!1;t.addListener("afterpaste",function(){t.queryCommandState("pasteplain")||(f=new r.editor.ui.Popup({content:new r.editor.ui.PastePicker({editor:t}),editor:t,className:"edui-wordpastepop"}),f.render(),e=!0)});t.addListener("afterinserthtml",function(){clearTimeout(o);o=setTimeout(function(){var i,u,r;f&&(e||t.ui._isTransfer)&&(i=n.createElement(t.document,"span",{style:"line-height:0px;",innerHTML:""}),u=t.selection.getRange(),u.insertNode(i),r=c(i,"firstChild","previousSibling"),f.showAnchor(r.nodeType==3?r.parentNode:r),n.remove(i),delete t.ui._isTransfer,e=!1)},200)});t.addListener("contextmenu",function(n,t){r.editor.ui.Popup.postHide(t)});t.addListener("keydown",function(n,t){f&&f.dispose(t);var i=t.keyCode||t.which;t.altKey&&i==90&&UE.ui.buttons.fullscreen.onclick()});t.addListener("wordcount",function(){s(this,u)});t.addListener("selectionchange",function(){t.options.elementPathEnabled&&u[(t.queryCommandState("elementpath")==-1?"dis":"en")+"ableElementPath"]();t.options.scaleEnabled&&u[(t.queryCommandState("scale")==-1?"dis":"en")+"ableScale"]()});i=new r.editor.ui.Popup({editor:t,content:"",className:"edui-bubble",_onEditButtonClick:function(){this.hide();t.ui._dialogs.linkDialog.open()},_onImgEditButtonClick:function(n){this.hide();t.ui._dialogs[n]&&t.ui._dialogs[n].open()},_onImgSetFloat:function(n){this.hide();t.execCommand("imagefloat",n)},_setIframeAlign:function(t){var u=i.anchorEl,r=u.cloneNode(!0);switch(t){case-2:r.setAttribute("align","");break;case-1:r.setAttribute("align","left");break;case 1:r.setAttribute("align","right")}u.parentNode.insertBefore(r,u);n.remove(u);i.anchorEl=r;i.showAnchor(i.anchorEl)},_updateIframe:function(){t._iframe=i.anchorEl;t.ui._dialogs.insertframeDialog.open();i.hide()},_onRemoveButtonClick:function(n){t.execCommand(n);this.hide()},queryAutoHide:function(u){return u&&u.ownerDocument==t.document&&(u.tagName.toLowerCase()=="img"||n.findParentByTagName(u,"a",!0))?u!==i.anchorEl:r.editor.ui.Popup.prototype.queryAutoHide.call(this,u)}});i.render();t.options.imagePopup&&(t.addListener("mouseover",function(n,r){var u,f;r=r||window.event;u=r.target||r.srcElement;t.ui._dialogs.insertframeDialog&&/iframe/ig.test(u.tagName)&&(f=i.formatHtml("<nobr>"+t.getLang("property")+': <span onclick=$$._setIframeAlign(-2) class="edui-clickable">'+t.getLang("default")+'<\/span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(-1) class="edui-clickable">'+t.getLang("justifyleft")+'<\/span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(1) class="edui-clickable">'+t.getLang("justifyright")+'<\/span>&nbsp;&nbsp; <span onclick="$$._updateIframe( this);" class="edui-clickable">'+t.getLang("modify")+"<\/span><\/nobr>"),f?(i.getDom("content").innerHTML=f,i.anchorEl=u,i.showAnchor(i.anchorEl)):i.hide())}),t.addListener("selectionchange",function(n,r){var f,o,s,h;if(r){var e="",c="",u=t.selection.getRange().getClosedNode(),l=t.ui._dialogs;if(u&&u.tagName=="IMG"){if(f="insertimageDialog",u.className.indexOf("edui-faked-video")!=-1&&(f="insertvideoDialog"),u.className.indexOf("edui-faked-webapp")!=-1&&(f="webappDialog"),u.src.indexOf("http://api.map.baidu.com")!=-1&&(f="mapDialog"),u.className.indexOf("edui-faked-music")!=-1&&(f="musicDialog"),u.src.indexOf("http://maps.google.com/maps/api/staticmap")!=-1&&(f="gmapDialog"),u.getAttribute("anchorname")&&(f="anchorDialog",e=i.formatHtml("<nobr>"+t.getLang("property")+': <span onclick=$$._onImgEditButtonClick("anchorDialog") class="edui-clickable">'+t.getLang("modify")+"<\/span>&nbsp;&nbsp;<span onclick=$$._onRemoveButtonClick('anchor') class=\"edui-clickable\">"+t.getLang("delete")+"<\/span><\/nobr>")),u.getAttribute("word_img")&&(t.word_img=[u.getAttribute("word_img")],f="wordimageDialog"),!l[f])return;c="<nobr>"+t.getLang("property")+': <span onclick=$$._onImgSetFloat("none") class="edui-clickable">'+t.getLang("default")+'<\/span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("left") class="edui-clickable">'+t.getLang("justifyleft")+'<\/span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("right") class="edui-clickable">'+t.getLang("justifyright")+'<\/span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("center") class="edui-clickable">'+t.getLang("justifycenter")+"<\/span>&nbsp;&nbsp;<span onclick=\"$$._onImgEditButtonClick('"+f+'\');" class="edui-clickable">'+t.getLang("modify")+"<\/span><\/nobr>";e||(e=i.formatHtml(c))}t.ui._dialogs.linkDialog&&(o=t.queryCommandValue("link"),o&&(s=o.getAttribute("_href")||o.getAttribute("href",2))&&(h=s,s.length>30&&(h=s.substring(0,20)+"..."),e&&(e+='<div style="height:5px;"><\/div>'),e+=i.formatHtml("<nobr>"+t.getLang("anthorMsg")+': <a target="_blank" href="'+s+'" title="'+s+'" >'+h+'<\/a> <span class="edui-clickable" onclick="$$._onEditButtonClick();">'+t.getLang("modify")+'<\/span> <span class="edui-clickable" onclick="$$._onRemoveButtonClick(\'unlink\');"> '+t.getLang("clear")+"<\/span><\/nobr>"),i.showAnchor(o)));e?(i.getDom("content").innerHTML=e,i.anchorEl=u||o,i.showAnchor(i.anchorEl)):i.hide()}}))},_initToolbars:function(){for(var o,f,e,n,t,s=this.editor,h=this.toolbars||[],i=[],u=0;u<h.length;u++){for(o=h[u],f=new r.editor.ui.Toolbar({theme:s.options.theme}),e=0;e<o.length;e++){if(n=o[e],t=null,typeof n=="string"){if(n=n.toLowerCase(),n=="|"&&(n="Separator"),r.editor.ui[n]&&(t=new r.editor.ui[n](s)),n=="fullscreen"){i&&i[0]?i[0].items.splice(0,0,t):t&&f.items.splice(0,0,t);continue}}else t=n;t&&t.id&&f.add(t)}i[u]=f}this.toolbars=i},getHtmlTpl:function(){return'<div id="##" class="%%"><div id="##_toolbarbox" class="%%-toolbarbox">'+(this.toolbars.length?'<div id="##_toolbarboxouter" class="%%-toolbarboxouter"><div class="%%-toolbarboxinner">'+this.renderToolbarBoxHtml()+"<\/div><\/div>":"")+'<div id="##_toolbarmsg" class="%%-toolbarmsg" style="display:none;"><div id = "##_upload_dialog" class="%%-toolbarmsg-upload" onclick="$$.showWordImageDialog();">'+this.editor.getLang("clickToUpload")+'<\/div><div class="%%-toolbarmsg-close" onclick="$$.hideToolbarMsg();">x<\/div><div id="##_toolbarmsg_label" class="%%-toolbarmsg-label"><\/div><div style="height:0;overflow:hidden;clear:both;"><\/div><\/div><\/div><div id="##_iframeholder" class="%%-iframeholder"><\/div><div id="##_bottombar" class="%%-bottomContainer"><table><tr><td id="##_elementpath" class="%%-bottombar"><\/td><td id="##_wordcount" class="%%-wordcount"><\/td><td id="##_scale" class="%%-scale"><div class="%%-icon"><\/div><\/td><\/tr><\/table><\/div><div id="##_scalelayer"><\/div><\/div>'},showWordImageDialog:function(){this.editor.execCommand("wordimage","word_img");this._dialogs.wordimageDialog.open()},renderToolbarBoxHtml:function(){for(var t=[],n=0;n<this.toolbars.length;n++)t.push(this.toolbars[n].renderHtml());return t.join("")},setFullScreen:function(n){var t=this.editor,i=t.container.parentNode.parentNode,f,e,u;if(this._fullscreen!=n){if(this._fullscreen=n,this.editor.fireEvent("beforefullscreenchange",n),r.editor.browser.gecko&&(f=t.selection.getRange().createBookmark()),n){while(i.tagName!="BODY")e=r.editor.dom.domUtils.getComputedStyle(i,"position"),o.push(e),i.style.position="static",i=i.parentNode;this._bakHtmlOverflow=document.documentElement.style.overflow;this._bakBodyOverflow=document.body.style.overflow;this._bakAutoHeight=this.editor.autoHeightEnabled;this._bakScrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop);this._bakEditorContaninerWidth=t.iframe.parentNode.offsetWidth;this._bakAutoHeight&&(t.autoHeightEnabled=!1,this.editor.disableAutoHeight());document.documentElement.style.overflow="hidden";document.body.style.overflow="hidden";this._bakCssText=this.getDom().style.cssText;this._bakCssText1=this.getDom("iframeholder").style.cssText;t.iframe.parentNode.style.width="";this._updateFullScreen()}else{while(i.tagName!="BODY")i.style.position=o.shift(),i=i.parentNode;this.getDom().style.cssText=this._bakCssText;this.getDom("iframeholder").style.cssText=this._bakCssText1;this._bakAutoHeight&&(t.autoHeightEnabled=!0,this.editor.enableAutoHeight());document.documentElement.style.overflow=this._bakHtmlOverflow;document.body.style.overflow=this._bakBodyOverflow;t.iframe.parentNode.style.width=this._bakEditorContaninerWidth+"px";window.scrollTo(0,this._bakScrollTop)}r.editor.browser.gecko&&t.body.contentEditable==="true"&&(u=document.createElement("input"),document.body.appendChild(u),t.body.contentEditable=!1,setTimeout(function(){u.focus();setTimeout(function(){t.body.contentEditable=!0;t.selection.getRange().moveToBookmark(f).select(!0);r.editor.dom.domUtils.remove(u);n&&window.scroll(0,0)},0)},0));t.body.contentEditable==="true"&&(this.editor.fireEvent("fullscreenchanged",n),this.triggerLayout())}},_updateFullScreen:function(){if(this._fullscreen){var n=e.getViewportRect();this.getDom().style.cssText="border:0;position:absolute;left:0;top:"+(this.editor.options.topOffset||0)+"px;width:"+n.width+"px;height:"+n.height+"px;z-index:"+(this.getDom().style.zIndex*1+100);e.setViewportOffset(this.getDom(),{left:0,top:this.editor.options.topOffset||0});this.editor.setHeight(n.height-this.getDom("toolbarbox").offsetHeight-this.getDom("bottombar").offsetHeight-(this.editor.options.topOffset||0));i.gecko&&window.onresize()}},_updateElementPath:function(){var i=this.getDom("elementpath"),r,t,n,u;if(this.elementPathEnabled&&(r=this.editor.queryCommandValue("elementpath"))){for(t=[],n=0;u=r[n];n++)t[n]=this.formatHtml('<span unselectable="on" onclick="$$.editor.execCommand(&quot;elementpath&quot;, &quot;'+n+'&quot;);">'+u+"<\/span>");i.innerHTML='<div class="edui-editor-breadcrumb" onmousedown="return false;">'+this.editor.getLang("elementPathTip")+": "+t.join(" &gt; ")+"<\/div>"}else i.style.display="none"},disableElementPath:function(){var n=this.getDom("elementpath");n.innerHTML="";n.style.display="none";this.elementPathEnabled=!1},enableElementPath:function(){var n=this.getDom("elementpath");n.style.display="";this.elementPathEnabled=!0;this._updateElementPath()},_scale:function(){function d(){c=n.getXY(e);l||(l=t.options.minFrameHeight+p.offsetHeight+w.offsetHeight);u.style.cssText="position:absolute;left:0;display:;top:0;background-color:#41ABFF;opacity:0.4;filter: Alpha(opacity=40);width:"+e.offsetWidth+"px;height:"+e.offsetHeight+"px;z-index:"+(t.options.zIndex+1);n.on(r,"mousemove",g);n.on(y,"mouseup",h);n.on(r,"mouseup",h)}function g(n){nt();var t=n||window.event;b=t.pageX||r.documentElement.scrollLeft+t.clientX;k=t.pageY||r.documentElement.scrollTop+t.clientY;a=b-c.x;v=k-c.y;a>=tt&&(s=!0,u.style.width=a+"px");v>=l&&(s=!0,u.style.height=v+"px")}function h(){s&&(s=!1,t.ui._actualFrameWidth=u.offsetWidth-2,e.style.width=t.ui._actualFrameWidth+"px",t.setHeight(u.offsetHeight-w.offsetHeight-p.offsetHeight-2));u&&(u.style.display="none");nt();n.un(r,"mousemove",g);n.un(y,"mouseup",h);n.un(r,"mouseup",h)}function nt(){i.ie?r.selection.clear():window.getSelection().removeAllRanges()}var r=document,t=this.editor,e=t.container,y=t.document,p=this.getDom("toolbarbox"),w=this.getDom("bottombar"),o=this.getDom("scale"),u=this.getDom("scalelayer"),s=!1,c=null,l=0,tt=t.options.minFrameWidth,b=0,k=0,a=0,v=0,f=this;this.editor.addListener("fullscreenchanged",function(t,i){if(i)f.disableScale();else if(f.editor.options.scaleEnabled){f.enableScale();var r=f.editor.document.createElement("span");f.editor.body.appendChild(r);f.editor.body.style.height=Math.max(n.getXY(r).y,f.editor.iframe.offsetHeight-20)+"px";n.remove(r)}});this.enableScale=function(){if(t.queryCommandState("source")!=1){o.style.display="";this.scaleEnabled=!0;n.on(o,"mousedown",d)}};this.disableScale=function(){o.style.display="none";this.scaleEnabled=!1;n.un(o,"mousedown",d)}},isFullScreen:function(){return this._fullscreen},postRender:function(){var n;for(s.prototype.postRender.call(this),n=0;n<this.toolbars.length;n++)this.toolbars[n].postRender();var i=this,t,u=r.editor.dom.domUtils,f=function(){clearTimeout(t);t=setTimeout(function(){i._updateFullScreen()})};u.on(window,"resize",f);i.addListener("destroy",function(){u.un(window,"resize",f);clearTimeout(t)})},showToolbarMsg:function(n,t){if(this.getDom("toolbarmsg_label").innerHTML=n,this.getDom("toolbarmsg").style.display="",!t){var i=this.getDom("upload_dialog");i.style.display="none"}},hideToolbarMsg:function(){this.getDom("toolbarmsg").style.display="none"},mapUrl:function(n){return n?n.replace("~/",this.editor.options.UEDITOR_HOME_URL||""):""},triggerLayout:function(){var n=this.getDom();n.style.zoom=n.style.zoom=="1"?"100%":"1"}};u.inherits(f,r.editor.ui.UIBase);t={};UE.ui.Editor=function(i){var e=new r.editor.Editor(i),o;return e.options.editor=e,u.loadFile(document,{href:e.options.themePath+e.options.theme+"/css/ueditor.css",tag:"link",type:"text/css",rel:"stylesheet"}),o=e.render,e.render=function(i){i.constructor===String&&(e.key=i,t[i]=e);u.domReady(function(){function t(){var u,h,t,c,l,r,s;for(e.setOpt({labelMap:e.options.labelMap||e.getLang("labelMap")}),new f(e.options),i&&(i.constructor===String&&(i=document.getElementById(i)),i&&i.getAttribute("name")&&(e.options.textarea=i.getAttribute("name")),i&&/script|textarea/ig.test(i.tagName)&&(u=document.createElement("div"),i.parentNode.insertBefore(u,i),h=i.value||i.innerHTML,e.options.initialContent=/^[\t\r\n ]*$/.test(h)?e.options.initialContent:h.replace(/>[\n\r\t]+([ ]{4})+/g,">").replace(/[\n\r\t]+([ ]{4})+</g,"<").replace(/>[\n\r\t]+</g,"><"),i.className&&(u.className=i.className),i.style.cssText&&(u.style.cssText=i.style.cssText),/textarea/i.test(i.tagName)?(e.textarea=i,e.textarea.style.display="none"):(i.parentNode.removeChild(i),i.id&&(u.id=i.id)),i=u,i.innerHTML="")),n.addClass(i,"edui-"+e.options.theme),e.ui.render(i),t=e.options,e.container=e.ui.getDom(),c=n.findParents(i,!0),l=[],r=0;s=c[r];r++)l[r]=s.style.display,s.style.display="block";for(t.minFrameWidth=t.initialFrameWidth?t.initialFrameWidth:t.initialFrameWidth=i.offsetWidth,t.initialFrameHeight?t.minFrameHeight=t.initialFrameHeight:t.initialFrameHeight=t.minFrameHeight=i.offsetHeight,r=0;s=c[r];r++)s.style.display=l[r];i.style.height&&(i.style.height="");e.container.style.width=t.initialFrameWidth+"px";e.container.style.zIndex=t.zIndex;o.call(e,e.ui.getDom("iframeholder"))}e.langIsReady?t():e.addListener("langReady",t)})},e};UE.getEditor=function(n,i){var r=t[n];return r||(r=t[n]=new UE.ui.Editor(i),r.render(n)),r};UE.delEditor=function(n){var i;(i=t[n])&&(i.key&&i.destroy(),delete t[n])}}(),function(){var t=r.editor.utils,i=r.editor.ui.Popup,u=r.editor.ui.SplitButton,n=r.editor.ui.MultiMenuPop=function(n){this.initOptions(n);this.initMultiMenu()};n.prototype={initMultiMenu:function(){var n=this;this.popup=new i({content:"",editor:n.editor,iframe_rendered:!1,onshow:function(){this.iframe_rendered||(this.iframe_rendered=!0,this.getDom("content").innerHTML='<iframe id="'+n.id+'_iframe" src="'+n.iframeUrl+'" frameborder="0"><\/iframe>',n.editor.container.style.zIndex&&(this.getDom().style.zIndex=n.editor.container.style.zIndex*1+1))}});this.onbuttonclick=function(){this.showPopup()};this.initSplitButton()}};t.inherits(n,u)}()}();
/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.17.1 - 2016-05-16T19:31:32.352Z
 * License: MIT
 */
!function(){"use strict";var n={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var i=t.which;switch(i){case n.COMMAND:case n.SHIFT:case n.CTRL:case n.ALT:return!0}return!!(t.metaKey||t.ctrlKey||t.altKey)},isFunctionKey:function(n){return n=n.which?n.which:n,n>=112&&123>=n},isVerticalMovement:function(t){return~[n.UP,n.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[n.LEFT,n.RIGHT,n.BACKSPACE,n.DELETE].indexOf(t)},toSeparator:function(t){var i={ENTER:"\n",TAB:"\t",SPACE:" "}[t];return i?i:n[t]?void 0:t}},i,t;void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(n){return angular.element(this[0].querySelectorAll(n))});void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(n){for(var t=this[0],i=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(i.bind(t)(n))return t;t=t.parentElement}return!1});i=0;t=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",generateId:function(){return i++},appendToBody:!1}).service("uiSelectMinErr",function(){var n=angular.$$minErr("ui.select");return function(){var t=n.apply(this,arguments),i=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(i)}}).directive("uisTranscludeAppend",function(){return{link:function(n,t,i,r,u){u(n,function(n){t.append(n)})}}}).filter("highlight",function(){function n(n){return(""+n).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,i){return i&&t?(""+t).replace(new RegExp(n(i),"gi"),'<span class="ui-select-highlight">$&<\/span>'):t}}).factory("uisOffset",["$document","$window",function(n,t){return function(i){var r=i[0].getBoundingClientRect();return{width:r.width||i.prop("offsetWidth"),height:r.height||i.prop("offsetHeight"),top:r.top+(t.pageYOffset||n[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||n[0].documentElement.scrollLeft)}}}]);t.factory("$$uisDebounce",["$timeout",function(n){return function(t,i){var r;return function(){var u=this,f=Array.prototype.slice.call(arguments);r&&n.cancel(r);r=n(function(){t.apply(u,f)},i)}}}]);t.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(n,t,i,r,u){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-choices");var i=t.parent().attr("theme")||n.theme;return i+"/choices.tpl.html"},compile:function(r,f){var s,l,h,c,e,o,a;if(!f.repeat)throw i("repeat","Expected 'repeat' expression.");if(s=f.groupBy,l=f.groupFilter,s){if(h=r.querySelectorAll(".ui-select-choices-group"),1!==h.length)throw i("rows","Expected 1 .ui-select-choices-group but got '{0}'.",h.length);h.attr("ng-repeat",t.getGroupNgRepeatExpression())}if(c=t.parse(f.repeat),e=r.querySelectorAll(".ui-select-choices-row"),1!==e.length)throw i("rows","Expected 1 .ui-select-choices-row but got '{0}'.",e.length);if(e.attr("ng-repeat",c.repeatExpression(s)).attr("ng-if","$select.open"),o=r.querySelectorAll(".ui-select-choices-row-inner"),1!==o.length)throw i("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",o.length);return o.attr("uis-transclude-append",""),a=u.document.addEventListener?e:o,a.attr("ng-click","$select.select("+c.itemName+",$select.skipFocusser,$event)"),function(t,i,r,u){u.parseRepeatAttr(r.repeat,s,l);u.disableChoiceExpression=r.uiDisableChoice;u.onHighlightCallback=r.onHighlight;u.dropdownPosition=r.position?r.position.toLowerCase():n.dropdownPosition;t.$on("$destroy",function(){e.remove()});t.$watch("$select.search",function(n){n&&!u.open&&u.multiple&&u.activate(!1,!0);u.activeIndex=u.tagging.isActivated?-1:0;!r.minimumInputLength||u.search.length>=r.minimumInputLength?u.refresh(r.refresh):u.items=[]});r.$observe("refreshDelay",function(){var i=t.$eval(r.refreshDelay);u.refreshDelay=void 0!==i?i:n.refreshDelay})}}}}]);t.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(t,i,r,u,f,e,o,s,h,c,l){function g(n,t,i){if(n.findIndex)return n.findIndex(t,i);for(var f,u=Object(n),e=u.length>>>0,r=0;e>r;r++)if(f=u[r],t.call(i,f,r,u))return r;return-1}function w(){(a.resetSearchInput||void 0===a.resetSearchInput&&s.resetSearchInput)&&(a.search=y,a.selected&&a.items.length&&!a.multiple&&(a.activeIndex=g(a.items,function(n){return angular.equals(this,n)},a.selected)))}function nt(n,t){for(var i,u=[],r=0;r<t.length;r++)for(i=0;i<n.length;i++)n[i].name==[t[r]]&&u.push(n[i]);return u}function tt(t){var i=!0;switch(t){case n.DOWN:!a.open&&a.multiple?a.activate(!1,!0):a.activeIndex<a.items.length-1&&a.activeIndex++;break;case n.UP:!a.open&&a.multiple?a.activate(!1,!0):(a.activeIndex>0||0===a.search.length&&a.tagging.isActivated&&a.activeIndex>-1)&&a.activeIndex--;break;case n.TAB:a.multiple&&!a.open||a.select(a.items[a.activeIndex],!0);break;case n.ENTER:a.open&&(a.tagging.isActivated||a.activeIndex>=0)?a.select(a.items[a.activeIndex],a.skipFocusser):a.activate(!1,!0);break;case n.ESC:a.close();break;default:i=!1}return i}function d(){var n=i.querySelectorAll(".ui-select-choices-content"),u=n.querySelectorAll(".ui-select-choices-row");if(u.length<1)throw o("choices","Expected multiple .ui-select-choices-row but got '{0}'.",u.length);if(!(a.activeIndex<0)){var t=u[a.activeIndex],r=t.offsetTop+t.clientHeight-n[0].scrollTop,f=n[0].offsetHeight;r>f?n[0].scrollTop+=r-f:r<t.clientHeight&&(a.isGrouped&&0===a.activeIndex?n[0].scrollTop=0:n[0].scrollTop-=t.clientHeight-r)}}var a=this,y="",b,v,p,k;if(a.placeholder=s.placeholder,a.searchEnabled=s.searchEnabled,a.sortable=s.sortable,a.refreshDelay=s.refreshDelay,a.paste=s.paste,a.removeSelected=!1,a.closeOnSelect=!0,a.skipFocusser=!1,a.search=y,a.activeIndex=0,a.items=[],a.open=!1,a.focus=!1,a.disabled=!1,a.selected=void 0,a.dropdownPosition="auto",a.focusser=void 0,a.resetSearchInput=!0,a.multiple=void 0,a.disableChoiceExpression=void 0,a.tagging={isActivated:!1,fct:void 0},a.taggingTokens={isActivated:!1,tokens:void 0},a.lockChoiceExpression=void 0,a.clickTriggeredSelect=!1,a.$filter=u,a.$element=i,a.$animate=function(){try{return c.get("$animate")}catch(n){return null}}(),a.searchInput=i.querySelectorAll("input.ui-select-search"),1!==a.searchInput.length)throw o("searchInput","Expected 1 input.ui-select-search but got '{0}'.",a.searchInput.length);a.isEmpty=function(){return angular.isUndefined(a.selected)||null===a.selected||""===a.selected||a.multiple&&0===a.selected.length};a.activate=function(n,u){var e,o,f;a.disabled||a.open||(u||w(),t.$broadcast("uis:activate"),a.open=!0,a.activeIndex=a.activeIndex>=a.items.length?0:a.activeIndex,-1===a.activeIndex&&a.taggingLabel!==!1&&(a.activeIndex=0),e=i.querySelectorAll(".ui-select-choices-content"),o=i.querySelectorAll(".ui-select-search"),a.$animate&&a.$animate.enabled(e[0])?(f=function(t,i){"start"===i&&0===a.items.length?(a.$animate.off("removeClass",o[0],f),r(function(){a.focusSearchInput(n)})):"close"===i&&(a.$animate.off("enter",e[0],f),r(function(){a.focusSearchInput(n)}))},a.items.length>0?a.$animate.on("enter",e[0],f):a.$animate.on("removeClass",o[0],f)):r(function(){a.focusSearchInput(n);!a.tagging.isActivated&&a.items.length>1&&d()}))};a.focusSearchInput=function(n){a.search=n||a.search;a.searchInput[0].focus()};a.findGroupByName=function(n){return a.groups&&a.groups.filter(function(t){return t.name===n})[0]};a.parseRepeatAttr=function(n,i,r){function s(n){var f=t.$eval(i),u;(a.groups=[],angular.forEach(n,function(n){var t=angular.isFunction(f)?f(n):n[f],i=a.findGroupByName(t);i?i.items.push(n):a.groups.push({name:t,items:[n]})}),r)&&(u=t.$eval(r),angular.isFunction(u)?a.groups=u(a.groups):angular.isArray(u)&&(a.groups=nt(a.groups,u)));a.items=[];a.groups.forEach(function(n){a.items=a.items.concat(n.items)})}function c(n){a.items=n}a.setItemsFn=i?s:c;a.parserResult=e.parse(n);a.isGrouped=!!i;a.itemProperty=a.parserResult.itemName;var u=a.parserResult.source,f=function(){var n=u(t);t.$uisSource=Object.keys(n).map(function(t){var i={};return i[a.parserResult.keyName]=t,i.value=n[t],i})};a.parserResult.keyName&&(f(),a.parserResult.source=h("$uisSource"+a.parserResult.filters),t.$watch(u,function(n,t){n!==t&&f()},!0));a.refreshItems=function(n){var i,r;n=n||a.parserResult.source(t);i=a.selected;a.isEmpty()||angular.isArray(i)&&!i.length||!a.removeSelected?a.setItemsFn(n):void 0!==n&&(r=n.filter(function(n){return i.every(function(t){return!angular.equals(n,t)})}),a.setItemsFn(r));"auto"!==a.dropdownPosition&&"up"!==a.dropdownPosition||t.calculateDropdownPos()};t.$watchCollection(a.parserResult.source,function(n){if(void 0===n||null===n)a.items=[];else{if(!angular.isArray(n))throw o("items","Expected an array but got '{0}'.",n);a.refreshItems(n);angular.isDefined(a.ngModel.$modelValue)&&(a.ngModel.$modelValue=null)}})};a.refresh=function(n){void 0!==n&&(b&&r.cancel(b),b=r(function(){t.$eval(n)},a.refreshDelay))};a.isActive=function(n){if(!a.open)return!1;var i=a.items.indexOf(n[a.itemProperty]),t=i==a.activeIndex;return!t||0>i?!1:(t&&!angular.isUndefined(a.onHighlightCallback)&&n.$eval(a.onHighlightCallback),t)};a.isDisabled=function(n){if(a.open){var i,r=a.items.indexOf(n[a.itemProperty]),t=!1;return r>=0&&!angular.isUndefined(a.disableChoiceExpression)&&(i=a.items[r],t=!!n.$eval(a.disableChoiceExpression),i._uiSelectChoiceDisabled=t),t}};a.select=function(n,i,u){if(void 0===n||!n._uiSelectChoiceDisabled){if(!a.items&&!a.search&&!a.tagging.isActivated)return;if(!n||!n._uiSelectChoiceDisabled){if(a.tagging.isActivated){if(a.taggingLabel===!1)if(a.activeIndex<0){if(n=void 0!==a.tagging.fct?a.tagging.fct(a.search):a.search,!n||angular.equals(a.items[0],n))return}else n=a.items[a.activeIndex];else if(0===a.activeIndex){if(void 0===n)return;if(void 0!==a.tagging.fct&&"string"==typeof n){if(n=a.tagging.fct(n),!n)return}else"string"==typeof n&&(n=n.replace(a.taggingLabel,"").trim())}if(a.selected&&angular.isArray(a.selected)&&a.selected.filter(function(t){return angular.equals(t,n)}).length>0)return void a.close(i)}t.$broadcast("uis:select",n);var f={};f[a.parserResult.itemName]=n;r(function(){a.onSelectCallback(t,{$item:n,$model:a.parserResult.modelMapper(t,f)})});a.closeOnSelect&&a.close(i);u&&"click"===u.type&&(a.clickTriggeredSelect=!0)}}};a.close=function(n){a.open&&(a.ngModel&&a.ngModel.$setTouched&&a.ngModel.$setTouched(),w(),a.open=!1,t.$broadcast("uis:close",n))};a.setFocus=function(){a.focus||a.focusInput[0].focus()};a.clear=function(n){a.select(void 0);n.stopPropagation();r(function(){a.focusser[0].focus()},0,!1)};a.toggle=function(n){a.open?(a.close(),n.preventDefault(),n.stopPropagation()):a.activate()};a.isLocked=function(n,t){var i,r=a.selected[t];return r&&!angular.isUndefined(a.lockChoiceExpression)&&(i=!!n.$eval(a.lockChoiceExpression),r._uiSelectChoiceLocked=i),i};v=null;p=!1;a.sizeSearchInput=function(){var n=a.searchInput[0],f=a.searchInput.parent().parent()[0],i=function(){return f.clientWidth*!!n.offsetParent},u=function(t){if(0===t)return!1;var i=t-n.offsetLeft-10;return 50>i&&(i=t),a.searchInput.css("width",i+"px"),!0};a.searchInput.css("width","10px");r(function(){null!==v||u(i())||(v=t.$watch(angular.noop,function(){p||(p=!0,t.$$postDigest(function(){p=!1;u(i())&&(v(),v=null)}))}))})};a.searchInput.on("keydown",function(i){var u=i.which;~[n.ENTER,n.ESC].indexOf(u)&&(i.preventDefault(),i.stopPropagation());t.$apply(function(){var f=!1,t;if((a.items.length>0||a.tagging.isActivated)&&(tt(u),a.taggingTokens.isActivated)){for(t=0;t<a.taggingTokens.tokens.length;t++)a.taggingTokens.tokens[t]===n.MAP[i.keyCode]&&a.search.length>0&&(f=!0);f&&r(function(){a.searchInput.triggerHandler("tagged");var t=a.search.replace(n.MAP[i.keyCode],"").trim();a.tagging.fct&&(t=a.tagging.fct(t));t&&a.select(t,!0)})}});n.isVerticalMovement(u)&&a.items.length>0&&d();u!==n.ENTER&&u!==n.ESC||(i.preventDefault(),i.stopPropagation())});a.searchInput.on("paste",function(t){var i,r,u,f,e;if(i=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(t.originalEvent||t).clipboardData.getData("text/plain"),i=a.search+i,i&&i.length>0)if(a.taggingTokens.isActivated){for(r=[],u=0;u<a.taggingTokens.tokens.length;u++)if(f=n.toSeparator(a.taggingTokens.tokens[u])||a.taggingTokens.tokens[u],i.indexOf(f)>-1){r=i.split(f);break}(0===r.length&&(r=[i]),r.length>0)&&(e=a.search,angular.forEach(r,function(n){var t=a.tagging.fct?a.tagging.fct(n):n;t&&a.select(t,!0)}),a.search=e||y,t.preventDefault(),t.stopPropagation())}else a.paste&&(a.paste(i),a.search=y,t.preventDefault(),t.stopPropagation())});a.searchInput.on("tagged",function(){r(function(){w()})});k=f(function(){a.sizeSearchInput()},50);angular.element(l).bind("resize",k);t.$on("$destroy",function(){a.searchInput.off("keyup keydown tagged blur paste");angular.element(l).off("resize",k)})}]);t.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(n,t,i,r,u,f,e){return{restrict:"EA",templateUrl:function(n,i){var r=i.theme||t.theme;return r+(angular.isDefined(i.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(u,o){var s=/{(.*)}\s*{(.*)}/.exec(o.ngClass),h;return s&&(h="{"+s[1]+", "+s[2]+"}",o.ngClass=h,u.attr("ng-class",h)),angular.isDefined(o.multiple)?u.append("<ui-select-multiple/>").removeAttr("multiple"):u.append("<ui-select-single/>"),o.inputId&&(u.querySelectorAll("input.ui-select-search")[0].id=o.inputId),function(u,o,s,h,c){function b(n){var i,t,f,r;l.open&&(i=!1,(i=window.jQuery?window.jQuery.contains(o[0],n.target):o[0].contains(n.target),i||l.clickTriggeredSelect)||(l.skipFocusser?t=!0:(f=["input","button","textarea","select"],r=angular.element(n.target).controller("uiSelect"),t=r&&r!==l,t||(t=~f.indexOf(n.target.tagName.toLowerCase()))),l.close(t),u.$digest()),l.clickTriggeredSelect=!1)}function nt(){var t=r(o);v=angular.element('<div class="ui-select-placeholder"><\/div>');v[0].style.width=t.width+"px";v[0].style.height=t.height+"px";o.after(v);d=o[0].style.width;n.find("body").append(o);o[0].style.position="absolute";o[0].style.left=t.left+"px";o[0].style.top=t.top+"px";o[0].style.width=t.width+"px"}function k(){null!==v&&(v.replaceWith(o),v=null,o[0].style.position="",o[0].style.left="",o[0].style.top="",o[0].style.width=d,l.setFocus())}var l=h[0],tt=h[1],p,w,g;l.generatedId=t.generateId();l.baseTitle=s.title||"Select box";l.focusserTitle=l.baseTitle+" focus";l.focusserId="focusser-"+l.generatedId;l.closeOnSelect=function(){return angular.isDefined(s.closeOnSelect)?f(s.closeOnSelect)():t.closeOnSelect}();u.$watch("skipFocusser",function(){var n=u.$eval(s.skipFocusser);l.skipFocusser=void 0!==n?n:t.skipFocusser});l.onSelectCallback=f(s.onSelect);l.onRemoveCallback=f(s.onRemove);l.limit=angular.isDefined(s.limit)?parseInt(s.limit,10):void 0;l.ngModel=tt;l.choiceGrouped=function(n){return l.isGrouped&&n&&n.name};s.tabindex&&s.$observe("tabindex",function(n){l.focusInput.attr("tabindex",n);o.removeAttr("tabindex")});u.$watch("searchEnabled",function(){var n=u.$eval(s.searchEnabled);l.searchEnabled=void 0!==n?n:t.searchEnabled});u.$watch("sortable",function(){var n=u.$eval(s.sortable);l.sortable=void 0!==n?n:t.sortable});s.$observe("disabled",function(){l.disabled=void 0!==s.disabled?s.disabled:!1});s.$observe("resetSearchInput",function(){var n=u.$eval(s.resetSearchInput);l.resetSearchInput=void 0!==n?n:!0});s.$observe("paste",function(){l.paste=u.$eval(s.paste)});s.$observe("tagging",function(){if(void 0!==s.tagging){var n=u.$eval(s.tagging);l.tagging={isActivated:!0,fct:n!==!0?n:void 0}}else l.tagging={isActivated:!1,fct:void 0}});s.$observe("taggingLabel",function(){void 0!==s.tagging&&(l.taggingLabel="false"===s.taggingLabel?!1:void 0!==s.taggingLabel?s.taggingLabel:"(new)")});s.$observe("taggingTokens",function(){if(void 0!==s.tagging){var n=void 0!==s.taggingTokens?s.taggingTokens.split("|"):[",","ENTER"];l.taggingTokens={isActivated:!0,tokens:n}}});angular.isDefined(s.autofocus)&&e(function(){l.setFocus()});angular.isDefined(s.focusOn)&&u.$on(s.focusOn,function(){e(function(){l.setFocus()})});n.on("click",b);u.$on("$destroy",function(){n.off("click",b)});c(u,function(n){var f=angular.element("<div>").append(n),r=f.querySelectorAll(".ui-select-match"),t,u;if(r.removeAttr("ui-select-match"),r.removeAttr("data-ui-select-match"),1!==r.length)throw i("transcluded","Expected 1 .ui-select-match but got '{0}'.",r.length);if(o.querySelectorAll(".ui-select-match").replaceWith(r),t=f.querySelectorAll(".ui-select-choices"),t.removeAttr("ui-select-choices"),t.removeAttr("data-ui-select-choices"),1!==t.length)throw i("transcluded","Expected 1 .ui-select-choices but got '{0}'.",t.length);o.querySelectorAll(".ui-select-choices").replaceWith(t);u=f.querySelectorAll(".ui-select-no-choice");u.removeAttr("ui-select-no-choice");u.removeAttr("data-ui-select-no-choice");1==u.length&&o.querySelectorAll(".ui-select-no-choice").replaceWith(u)});p=u.$eval(s.appendToBody);(void 0!==p?p:t.appendToBody)&&(u.$watch("$select.open",function(n){n?nt():k()}),u.$on("$destroy",function(){k()}));var v=null,d="",a=null,y="direction-up";u.$watch("$select.open",function(){"auto"!==l.dropdownPosition&&"up"!==l.dropdownPosition||u.calculateDropdownPos()});w=function(n,t){n=n||r(o);t=t||r(a);a[0].style.position="absolute";a[0].style.top=-1*t.height+"px";o.addClass(y)};g=function(n,t){o.removeClass(y);n=n||r(o);t=t||r(a);a[0].style.position="";a[0].style.top=""};u.calculateDropdownPos=function(){if(l.open){if(a=angular.element(o).querySelectorAll(".ui-select-dropdown"),0===a.length)return;a[0].style.opacity=0;e(function(){if("up"===l.dropdownPosition)w();else{o.removeClass(y);var t=r(o),i=r(a),u=n[0].documentElement.scrollTop||n[0].body.scrollTop;t.top+t.height+i.height>u+n[0].documentElement.clientHeight?w(t,i):g(t,i)}a[0].style.opacity=1})}else{if(null===a||0===a.length)return;a[0].style.position="";a[0].style.top="";o.removeClass(y)}}}}}}]);t.directive("uiSelectMatch",["uiSelectConfig",function(n){function t(n,t){return n[0].hasAttribute(t)?n.attr(t):n[0].hasAttribute("data-"+t)?n.attr("data-"+t):n[0].hasAttribute("x-"+t)?n.attr("x-"+t):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(i){i.addClass("ui-select-match");var r=i.parent(),u=t(r,"theme")||n.theme,f=angular.isDefined(t(r,"multiple"));return u+(f?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,i,r,u){function f(n){u.allowClear=angular.isDefined(n)?""===n?!0:"true"===n.toLowerCase():!1}u.lockChoiceExpression=r.uiLockChoice;r.$observe("placeholder",function(t){u.placeholder=void 0!==t?t:n.placeholder});r.$observe("allowClear",f);f(r.allowClear);u.multiple&&u.sizeSearchInput()}}}]);t.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,i){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(n,t){var u,r=this,i=n.$select;angular.isUndefined(i.selected)&&(i.selected=[]);n.$evalAsync(function(){u=n.ngModel});r.activeMatchIndex=-1;r.updateModel=function(){u.$setViewValue(Date.now());r.refreshComponent()};r.refreshComponent=function(){i.refreshItems();i.sizeSearchInput()};r.removeChoice=function(u){var f=i.selected[u],e;f._uiSelectChoiceLocked||(e={},e[i.parserResult.itemName]=f,i.selected.splice(u,1),r.activeMatchIndex=-1,i.sizeSearchInput(),t(function(){i.onRemoveCallback(n,{$item:f,$model:i.parserResult.modelMapper(n,e)})}),r.updateModel())};r.getPlaceholder=function(){if(!i.selected||!i.selected.length)return i.placeholder}}],controllerAs:"$selectMultiple",link:function(r,u,f,e){function a(n){return angular.isNumber(n.selectionStart)?n.selectionStart:n.value.length}function v(t){function e(){switch(t){case n.LEFT:return~s.activeMatchIndex?f:i;case n.RIGHT:return~s.activeMatchIndex&&r!==i?l:(o.activate(),!1);case n.BACKSPACE:return~s.activeMatchIndex?(s.removeChoice(r),f):i;case n.DELETE:return~s.activeMatchIndex?(s.removeChoice(s.activeMatchIndex),r):!1}}var h=a(o.searchInput[0]),c=o.selected.length,i=c-1,r=s.activeMatchIndex,l=s.activeMatchIndex+1,f=s.activeMatchIndex-1,u=r;return h>0||o.search.length&&t==n.RIGHT?!1:(o.close(),u=e(),s.activeMatchIndex=o.selected.length&&u!==!1?Math.min(i,Math.max(0,u)):-1,!0)}function c(n){if(void 0===n||void 0===o.search)return!1;return n.filter(function(n){return void 0===o.search.toUpperCase()||void 0===n?!1:n.toUpperCase()===o.search.toUpperCase()}).length>0}function l(n,t){var f=-1,r,i,u;if(angular.isArray(n))for(r=angular.copy(n),i=0;i<r.length;i++)void 0===o.tagging.fct?r[i]+" "+o.taggingLabel===t&&(f=i):(u=r[i],angular.isObject(u)&&(u.isTag=!0),angular.equals(u,t)&&(f=i));return f}var o=e[0],h=r.ngModel=e[1],s=r.$selectMultiple;o.multiple=!0;o.removeSelected=!0;o.focusInput=o.searchInput;h.$isEmpty=function(n){return!n||0===n.length};h.$parsers.unshift(function(){for(var i,n={},u=[],t=o.selected.length-1;t>=0;t--)n={},n[o.parserResult.itemName]=o.selected[t],i=o.parserResult.modelMapper(r,n),u.unshift(i);return u});h.$formatters.unshift(function(n){var u,e=o.parserResult&&o.parserResult.source(r,{$select:{search:""}}),s={},t,f,i;if(!e)return n;if(t=[],f=function(n,i){var f,h,e;if(n&&n.length){for(f=n.length-1;f>=0;f--)if((s[o.parserResult.itemName]=n[f],u=o.parserResult.modelMapper(r,s),o.parserResult.trackByExp)&&(h=/(\w*)\./.exec(o.parserResult.trackByExp),e=/\.([^\s]+)/.exec(o.parserResult.trackByExp),h&&h.length>0&&h[1]==o.parserResult.itemName&&e&&e.length>0&&u[e[1]]==i[e[1]])||angular.equals(u,i))return t.unshift(n[f]),!0;return!1}},!n)return t;for(i=n.length-1;i>=0;i--)f(o.selected,n[i])||f(e,n[i])||t.unshift(n[i]);return t});r.$watchCollection(function(){return h.$modelValue},function(n,t){t!=n&&(angular.isDefined(h.$modelValue)&&(h.$modelValue=null),s.refreshComponent())});h.$render=function(){if(!angular.isArray(h.$viewValue)){if(!angular.isUndefined(h.$viewValue)&&null!==h.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",h.$viewValue);o.selected=[]}o.selected=h.$viewValue;s.refreshComponent();r.$evalAsync()};r.$on("uis:select",function(n,t){o.selected.length>=o.limit||(o.selected.push(t),s.updateModel())});r.$on("uis:activate",function(){s.activeMatchIndex=-1});r.$watch("$select.disabled",function(n,t){t&&!n&&o.sizeSearchInput()});o.searchInput.on("keydown",function(t){var i=t.which;r.$apply(function(){var r=!1;n.isHorizontalMovement(i)&&(r=v(i));r&&i!=n.TAB&&(t.preventDefault(),t.stopPropagation())})});o.searchInput.on("keyup",function(t){if(n.isVerticalMovement(t.which)||r.$evalAsync(function(){o.activeIndex=o.taggingLabel===!1?-1:0}),o.tagging.isActivated&&o.search.length>0){if(t.which===n.TAB||n.isControl(t)||n.isFunctionKey(t)||t.which===n.ESC||n.isVerticalMovement(t.which))return;if(o.activeIndex=o.taggingLabel===!1?-1:0,o.taggingLabel===!1)return;var u,v,e,h,i=angular.copy(o.items),f=angular.copy(o.items),s=!1,a=-1;if(void 0!==o.tagging.fct){if(e=o.$filter("filter")(i,{isTag:!0}),e.length>0&&(h=e[0]),i.length>0&&h&&(s=!0,i=i.slice(1,i.length),f=f.slice(1,f.length)),u=o.tagging.fct(o.search),f.some(function(n){return angular.equals(n,u)})||o.selected.some(function(n){return angular.equals(n,u)}))return void r.$evalAsync(function(){o.activeIndex=0;o.items=i});u&&(u.isTag=!0)}else{if(e=o.$filter("filter")(i,function(n){return n.match(o.taggingLabel)}),e.length>0&&(h=e[0]),v=i[0],void 0!==v&&i.length>0&&h&&(s=!0,i=i.slice(1,i.length),f=f.slice(1,f.length)),u=o.search+" "+o.taggingLabel,l(o.selected,o.search)>-1)return;if(c(f.concat(o.selected)))return void(s&&(i=f,r.$evalAsync(function(){o.activeIndex=0;o.items=i})));if(c(f))return void(s&&(o.items=f.slice(1,f.length)))}s&&(a=l(o.selected,u));a>-1?i=i.slice(a+1,i.length-1):(i=[],u&&i.push(u),i=i.concat(f));r.$evalAsync(function(){if(o.activeIndex=0,o.items=i,o.isGrouped){var n=u?i.slice(1):i;o.setItemsFn(n);u&&(o.items.unshift(u),o.groups.unshift({name:"",items:[u],tagging:!0}))}})}});o.searchInput.on("blur",function(){i(function(){s.activeMatchIndex=-1})})}}}]);t.directive("uiSelectNoChoice",["uiSelectConfig",function(n){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var i=t.parent().attr("theme")||n.theme;return i+"/no-choice.tpl.html"}}}]);t.directive("uiSelectSingle",["$timeout","$compile",function(t,i){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(r,u,f,e){var o=e[0],h=e[1],s;h.$parsers.unshift(function(n){var i,t={};return t[o.parserResult.itemName]=n,i=o.parserResult.modelMapper(r,t)});h.$formatters.unshift(function(n){var f,i=o.parserResult&&o.parserResult.source(r,{$select:{search:""}}),e={},u,t;if(i){if(u=function(t){return e[o.parserResult.itemName]=t,f=o.parserResult.modelMapper(r,e),f===n},o.selected&&u(o.selected))return o.selected;for(t=i.length-1;t>=0;t--)if(u(i[t]))return i[t]}return n});r.$watch("$select.selected",function(n){h.$viewValue!==n&&h.$setViewValue(n)});h.$render=function(){o.selected=h.$viewValue};r.$on("uis:select",function(n,t){o.selected=t});r.$on("uis:close",function(n,i){t(function(){o.focusser.prop("disabled",!1);i||o.focusser[0].focus()},0,!1)});r.$on("uis:activate",function(){s.prop("disabled",!0)});s=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");i(s)(r);o.focusser=s;o.focusInput=s;u.parent().append(s);s.bind("focus",function(){r.$evalAsync(function(){o.focus=!0})});s.bind("blur",function(){r.$evalAsync(function(){o.focus=!1})});s.bind("keydown",function(t){return t.which===n.BACKSPACE?(t.preventDefault(),t.stopPropagation(),o.select(void 0),void r.$apply()):void(t.which===n.TAB||n.isControl(t)||n.isFunctionKey(t)||t.which===n.ESC||(t.which!=n.DOWN&&t.which!=n.UP&&t.which!=n.ENTER&&t.which!=n.SPACE||(t.preventDefault(),t.stopPropagation(),o.activate()),r.$digest()))});s.bind("keyup input",function(t){t.which===n.TAB||n.isControl(t)||n.isFunctionKey(t)||t.which===n.ESC||t.which==n.ENTER||t.which===n.BACKSPACE||(o.activate(s.val()),s.val(""),r.$digest())})}}}]);t.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(n,t,i){return{require:["^^uiSelect","^ngModel"],link:function(t,r,u,f){if(null===t[u.uiSelectSort])throw i("sort","Expected a list to sort");var a=f[0],w=f[1],b=angular.extend({axis:"horizontal"},t.$eval(u.uiSelectSortOptions)),v=b.axis,h="dragging",c="dropping",o="dropping-before",s="dropping-after";t.$watch(function(){return a.sortable},function(n){n?r.attr("draggable",!0):r.removeAttr("draggable")});r.on("dragstart",function(n){r.addClass(h);(n.dataTransfer||n.originalEvent.dataTransfer).setData("text",t.$index.toString())});r.on("dragend",function(){e(h)});var y,k=function(n,t){this.splice(t,0,this.splice(n,1)[0])},e=function(n){angular.forEach(a.$element.querySelectorAll("."+n),function(t){angular.element(t).removeClass(n)})},p=function(n){n.preventDefault();var t="vertical"===v?n.offsetY||n.layerY||(n.originalEvent?n.originalEvent.offsetY:0):n.offsetX||n.layerX||(n.originalEvent?n.originalEvent.offsetX:0);t<this["vertical"===v?"offsetHeight":"offsetWidth"]/2?(e(s),r.addClass(o)):(e(o),r.addClass(s))},l=function(t){t.preventDefault();var i=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),10);n.cancel(y);y=n(function(){d(i)},20)},d=function(n){var i=t.$eval(u.uiSelectSort),h=i[n],f=null;f=r.hasClass(o)?n<t.$index?t.$index-1:t.$index:n<t.$index?t.$index:t.$index+1;k.apply(i,[n,f]);w.$setViewValue(Date.now());t.$apply(function(){t.$emit("uiSelectSort:change",{array:i,item:h,from:n,to:f})});e(c);e(o);e(s);r.off("drop",l)};r.on("dragenter",function(){r.hasClass(h)||(r.addClass(c),r.on("dragover",p),r.on("drop",l))});r.on("dragleave",function(n){n.target==r&&(e(c),e(o),e(s),r.off("dragover",p),r.off("drop",l))})}}}]);t.service("uisRepeatParser",["uiSelectMinErr","$parse",function(n,t){var i=this;i.parse=function(i){var r,u,f,e;if(r=i.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!r)throw n("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",i);return u=r[5],f="",r[3]&&(u=r[5].replace(/(^\()|(\)$)/g,""),e=r[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/),e&&e[1].trim()&&(f=e[1],u=u.replace(f,""))),{itemName:r[4]||r[2],keyName:r[3],source:t(u),filters:f,trackByExp:r[6],modelMapper:t(r[1]||r[4]||r[2]),repeatExpression:function(n){var t=this.itemName+" in "+(n?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}};i.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])}();angular.module("ui.select").run(["$templateCache",function(n){n.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"><\/div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"><\/div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="" class="ui-select-choices-row-inner"><\/a><\/div><\/li><\/ul>');n.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;<\/span> <span uis-transclude-append=""><\/span><\/span><\/span><\/span>');n.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}<\/span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""><\/span> <i class="caret pull-right" ng-click="$select.toggle($event)"><\/i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"><\/i><\/a><\/span><\/div>');n.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""><\/li><\/ul>');n.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"><\/div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"><\/div><div class="ui-select-choices"><\/div><\/div>');n.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"><\/div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"><\/div><div class="ui-select-no-choice"><\/div><\/div>');n.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"><\/div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"><\/div><\/li><\/ul><\/li><\/ul>');n.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""><\/span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"><\/a><\/li><\/span>');n.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}<\/span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""><\/span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"><\/abbr> <span class="select2-arrow ui-select-toggle"><b><\/b><\/span><\/a>');n.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"><\/span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"><\/li><\/ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"><\/div><\/div><\/div>');n.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"><\/div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"><\/div><div class="ui-select-choices"><\/div><\/div><\/div>');n.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"><\/div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""><\/div><\/div><\/div><\/div><\/div>');n.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""><\/div>');n.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"><\/div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"><\/div><div class="ui-select-choices"><\/div><\/div>')}]);require("common:widget/sidebar/sidebar.js");jQuery.browser={},function(){jQuery.browser.msie=!1;jQuery.browser.version=0;navigator.userAgent.match(/MSIE ([0-9]+)./)&&(jQuery.browser.msie=!0,jQuery.browser.version=RegExp.$1)}();$(function(){$("body").on("click",".cb",function(n){n.preventDefault();$(this).hasClass("checked")?$(this).removeClass("checked"):$(this).addClass("checked")});$("body").on("click",".cb-radio",function(n){return n.preventDefault(),$(this).hasClass("checked")?!1:($(this).addClass("checked"),$(this).find("input").attr("checked","true"),$(this).siblings(".cb-radio").removeClass("checked").find("input").removeAttr("checked"),void 0)});$(".bce-menu-list-item").on("click",function(){var n=$(this).parent(".bce-menu-list");null!==n&&void 0!==n&&(n.hasClass("bce-menu-list-open")?n.removeClass("bce-menu-list-open"):($(".bce-menu-list").removeClass("bce-menu-list-open"),n.addClass("bce-menu-list-open")))})});var alert=function(n,t,i){var b=addShade(),f=document.body,r=newElem("div","dialog-body","bce-dialog"),c=newElem("div",null,"bce-dialog-head"),e=newElem("div",null,"bce-dialog-title"),o,l,u,a,h;c.appendChild(e);o=newElem("span");l=document.createTextNode(t||"");o.appendChild(l);e.appendChild(o);u=newElem("span",null,"close");a=document.createTextNode("");u.appendChild(a);e.appendChild(u);r.appendChild(c);var v=newElem("div",null,"bce-dialog-body-panel"),y=newElem("div","dialog-msg"),k=document.createTextNode(n);y.appendChild(k);v.appendChild(y);r.appendChild(v);var p=newElem("div",null,"bce-dialog-foot-panel"),w=newElem("div",null,"bce-dialog-foot"),s=newElem("div",null,"bce-dialog-ok-btn bce-ui-button"),d=document.createTextNode("");s.appendChild(d);w.appendChild(s);p.appendChild(w);r.appendChild(p);f.appendChild(r);h=function(){f.removeChild(b);f.removeChild(r)};s.onclick=function(){h();i&&i()};u.onclick=function(){h()}},alertTip=function(n,t,i){var v=(addShade(),document.body),r=newElem("div","dialog-body","bce-dialog"),e=newElem("div",null,"bce-dialog-head"),o=newElem("div",null,"bce-dialog-title"),u,s;e.appendChild(o);u=newElem("span");s=document.createTextNode(t||"");u.appendChild(s);o.appendChild(u);r.appendChild(e);var h=newElem("div",null,"bce-dialog-body-panel"),c=newElem("div","dialog-msg"),y=document.createTextNode(n);c.appendChild(y);h.appendChild(c);r.appendChild(h);var l=newElem("div",null,"bce-dialog-foot-panel"),a=newElem("div",null,"bce-dialog-foot"),f=newElem("div",null,"bce-dialog-ok-btn bce-ui-button"),p=document.createTextNode("");f.appendChild(p);a.appendChild(f);l.appendChild(a);r.appendChild(l);v.appendChild(r);f.onclick=function(){i&&i()}},alertRich=function(n,t,i,r,u){var p=addShade(),s=document.body,e=newElem("div","dialog-body-rich"),c=newElem("div","dialog-title"),l=newElem("span"),w=document.createTextNode(t||""),h,o,v,y;l.appendChild(w);c.appendChild(l);e.appendChild(c);var f=newElem("div","dialog-content-holder"),b=newElem("div","dialog-alert-icon"),a=newElem("div","dialog-sub-title");a.innerHTML=i;h=newElem("div","dialog-msg");h.innerHTML=n;o=newElem("div","dialog-ok-btn","dialog-btn");v=document.createTextNode(r||"");o.appendChild(v);f.appendChild(b);f.appendChild(a);f.appendChild(h);f.appendChild(o);e.appendChild(f);s.appendChild(e);y=function(){s.removeChild(p);s.removeChild(e)};o.onclick=function(){y();u&&u()}},confirm=function(n,t,i,r){var g=addShade(),s=document.body,u=newElem("div","dialog-body","bce-dialog"),v=newElem("div",null,"bce-dialog-head"),h=newElem("div",null,"bce-dialog-title"),c,y,f,p,e,d,o;v.appendChild(h);c=newElem("span");y=document.createTextNode(t||"");c.appendChild(y);h.appendChild(c);f=newElem("span",null,"close");p=document.createTextNode("");f.appendChild(p);h.appendChild(f);u.appendChild(v);var w=newElem("div",null,"bce-dialog-body-panel"),b=newElem("div","dialog-msg"),nt=document.createTextNode(n);b.appendChild(nt);w.appendChild(b);u.appendChild(w);var k=newElem("div",null,"bce-dialog-foot-panel"),l=newElem("div",null,"bce-dialog-foot"),a=newElem("div",null,"bce-dialog-ok-btn bce-ui-button"),tt=document.createTextNode("");a.appendChild(tt);e=newElem("div",null,"bce-dialog-cancel-btn bce-ui-button");d=document.createTextNode("");e.appendChild(d);l.appendChild(a);l.appendChild(e);k.appendChild(l);u.appendChild(k);s.appendChild(u);o=function(){s.removeChild(g);s.removeChild(u)};a.onclick=function(){o();i&&i()};e.onclick=function(){o();r&&r()};f.onclick=function(){o()}},prompt=function(n,t,i,r){var p=addShade(),h=document.body,u=newElem("div","dialog-body","vip"),c=newElem("div","dialog-title"),l=newElem("span"),w=document.createTextNode(t||""),e,v,o,y,s;l.appendChild(w);c.appendChild(l);u.appendChild(c);var f=newElem("div","dialog-content-holder","vip"),a=newElem("div","dialog-msg"),n=n;n+='<p><input type="text" id="prompt-value" style="width:280px;"><\/p>';n+='<p style="position:absolute;"><span id="prompt-msg" class="text-danger"><\/span><\/p>';n+='<div style="height:10px;">&nbsp;<\/div>';n+='<img src="/static/common/widget/footer/weixin.jpg" style="width:140px;position:absolute;top:60px;right:20px;border-left:solid 1px #ddd;padding-left:10px;">';a.innerHTML=n;e=newElem("div","dialog-ok-btn","dialog-btn vip");v=document.createTextNode("");e.appendChild(v);f.appendChild(a);f.appendChild(e);o=newElem("div","dialog-cancel-btn","dialog-btn");y=document.createTextNode("");o.appendChild(y);f.appendChild(o);u.appendChild(f);h.appendChild(u);s=function(){h.removeChild(p);h.removeChild(u)};e.onclick=function(){i(s)};o.onclick=function(){s();r&&r()};$("body").on("keydown","#prompt-value",function(n){13==n.keyCode&&i(s)});$("#prompt-value")[0].focus()},payAlert=function(n,t){var v=addShade(),e=document.body,i=newElem("div","dialog-body"),s=newElem("div","dialog-title"),h=newElem("span"),y=document.createTextNode(""),u,l,f,a,o;h.appendChild(y);s.appendChild(h);i.appendChild(s);var r=newElem("div","dialog-content-holder"),c=newElem("div","dialog-msg"),p=document.createTextNode("");c.appendChild(p);r.appendChild(c);u=newElem("div","dialog-ok-btn","dialog-btn vip");l=document.createTextNode("");u.appendChild(l);r.appendChild(u);f=newElem("div","dialog-cancel-btn","dialog-btn");a=document.createTextNode("");f.appendChild(a);r.appendChild(f);i.appendChild(r);e.appendChild(i);o=function(){e.removeChild(v);e.removeChild(i)};u.onclick=function(){o();n&&n()};f.onclick=function(){o();t&&t()}},vip=function(n,t,i){var p=addShade(),s=document.body,u=newElem("div","dialog-body","vip"),c=newElem("div","dialog-title"),l=newElem("span"),w=document.createTextNode("VIP"),e,v,o,y,h;l.appendChild(w);c.appendChild(l);u.appendChild(c);var f=newElem("div","dialog-content-holder","vip"),a=newElem("div","dialog-msg"),r="<h4><\/h4>";r+='<p class="text-sub">'+n+"<\/p>";r+="<hr>";r+='<h4 class="vip-title text-center"><img src="/static/common/img/king.png"/>&nbsp;<span>VIP<span><\/h4>';r+='<ul class="text-sub vip-desc clearfix">';r+="<li>TOP300<\/li>";r+="<li><\/li>";r+="<li><\/li>";r+="<li>15<\/li>";r+="<\/ul>";a.innerHTML=r;e=newElem("div","dialog-ok-btn","dialog-btn vip");v=document.createTextNode("");e.appendChild(v);o=newElem("div","dialog-cancel-btn","dialog-btn");y=document.createTextNode("");o.appendChild(y);f.appendChild(a);f.appendChild(e);f.appendChild(o);u.appendChild(f);s.appendChild(u);h=function(){s.removeChild(p);s.removeChild(u)};e.onclick=function(){h();t&&t()};o.onclick=function(){h();i&&i()}},newAlertRich=function(n,t,i,r,u){var p=addShade(),s=document.body,e=newElem("div","new-dialog-body-rich"),c=newElem("div","new-dialog-title"),l=newElem("span"),w=document.createTextNode(t||""),h,o,v,y;l.appendChild(w);c.appendChild(l);e.appendChild(c);var f=newElem("div","new-dialog-content-holder"),b=newElem("div","new-dialog-success-icon"),a=newElem("div","new-dialog-sub-title");a.innerHTML=i;h=newElem("div","new-dialog-msg");h.innerHTML=n;o=newElem("div","new-dialog-single-btn","new-dialog-btn");v=document.createTextNode(r||"");o.appendChild(v);f.appendChild(b);f.appendChild(a);f.appendChild(h);f.appendChild(o);e.appendChild(f);s.appendChild(e);y=function(){s.removeChild(p);s.removeChild(e)};o.onclick=function(){y();u&&u()}},newElem=function(n,t,i){var r=document.createElement(n);return t&&(r.id=t),i&&(r.className=i),r},addShade=function(){var t=document.body,n=newElem("div","shade");return n.style.height=t.outerHeight+"px",t.appendChild(n),n},showImage=function(n){var i=document.body,u=addShade(),t=newElem("div","img-body"),f=newElem("a","img-close"),o=newElem("div","img-border"),e=newElem("img","img-img"),r;e.src=n;t.appendChild(o);t.appendChild(f);t.appendChild(e);i.appendChild(t);r=function(){i.removeChild(u);i.removeChild(t)};f.onclick=function(){r()};u.onclick=function(){r()}};