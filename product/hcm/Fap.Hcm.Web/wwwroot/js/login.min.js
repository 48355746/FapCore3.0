function getRequestParameter(n){var t=getRequestParameters();return t[n]}function getRequestParameters(){for(var n,i=(location.search||"").replace(/^\?/,"").split("&"),r={},t=0;t<i.length;t++)n=i[t].split("="),n.length==2&&(r[n[0]]=n[1]);return r}jQuery(function(n){function t(){if(n("#frm-logon").valid()){var t=getRequestParameter("ReturnUrl"),i=window.location.hash;t!==undefined&&n("#frm-logon [name='returnUrl']").val("~"+t+i);n("#frm-logon").submit()}else e.preventDefault()}MultiLangHelper.initLang("@currentLang");n("#frm-register").validate({rules:{GrpManager:{required:!0,email:!0},GrpPassword:{required:!0,minlength:5},ConfirmPassword:{required:!0,minlength:5,equalTo:"#GrpPassword"},GrpFullName:{required:!0}},messages:{GrpManager:{required:"请输入您的集团账号",email:"请检查电子邮件的格式"},GrpPassword:{required:"请输入密码",minlength:"密码长度不能小于 5 个字符"},ConfirmPassword:{required:"请输入确认密码",minlength:"密码长度不能小于 5 个字符",equalTo:"两次密码输入不一致"},GrpFullName:{required:"请输入集团全称"}},highlight:function(t){n(t).closest(".form-control").next().addClass("red")},success:function(t){n(t).prev().children(".ace-icon").removeClass("red");n(t).remove()},errorPlacement:function(n,t){n.insertAfter(t.parent())}});n("#frm-logon").validate({rules:{username:{required:!0},userpwd:{required:!0,minlength:1}},messages:{username:{required:MultiLangHelper.getResName("login_username_required","请输入你的用户名")},userpwd:{required:MultiLangHelper.getResName("login_password_required","请输入你的密码"),minlength:MultiLangHelper.getResName("login_password_level","请指定一个安全密码")}},highlight:function(t){n(t).closest(".form-control").next().addClass("red")},success:function(t){n(t).prev().children(".ace-icon").removeClass("red");n(t).remove()},errorPlacement:function(n,t){n.insertAfter(t.parent())}});n(document).on("click",".toolbar a[data-target]",function(t){t.preventDefault();var i=n(this).data("target");n(".widget-box.visible").removeClass("visible");n(i).addClass("visible")});n(document).keydown(function(n){var i=n||window.event,r=i.keyCode||i.which;r==13&&t()});n("#btnregister").on("click",function(t){n("#frm-register").valid()?n("#frm-register").submit():t.preventDefault()});n("#btnLogon").on("click",function(){t()});n("#btnRecovery").on("click",function(){var t=n("#txtemail").val();if(t==""){bootbox.alert("请输入公司邮箱！");return}n.get("/Home/RecoveryPassword?mail="+t,function(t){n("#pwdmsg").html(t)})})});