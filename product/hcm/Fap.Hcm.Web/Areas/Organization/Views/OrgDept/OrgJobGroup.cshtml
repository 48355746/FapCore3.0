@model Fap.AspNetCore.ViewModel.JqGridViewModel
<title><fap-multilang lang-key="jobgroup" default-content="职族"></fap-multilang></title>
<script>
      //加载历史版本
    function loadJobGroupGrade(parentRowID, parentRowKey)
    {
        debugger
        $('#' + parentRowID).load($.randomUrl("@Url.Content("~/Organization/OrgDept/OrgJobGroupGrade")?id="+parentRowKey+"&menuUrl=~/Organization/OrgDept/OrgJobGroup"));
    }
</script>
<div class="row">
    <div class="col-xs-12">
        <div class="widget-box">
            <div class="widget-header widget-header-flat">
                <h4 class="widget-title"><fap-multilang lang-key="jobgroup" default-content="职族"></fap-multilang></h4>

                <div class="widget-toolbar">
                    <a href="#" data-action="fullscreen" class="orange2">
                        <i class="ace-icon fa fa-expand"></i>
                    </a>
                </div>               
            </div>
            <div class="widget-body">
                <div class="widget-main">
                    <fap-grid id="jobgroup" grid-model="Model" wrapper="widget-main"  multi-select="false" subgrid-rowexpanded="loadJobGroupGrade"></fap-grid>
                </div>
            </div>
        </div>
    </div>
</div>
<script>   
    var scripts = [null, null]
    $('.page-content-area').ace_ajax('loadScripts', scripts, function () {
        jQuery(function ($) {
            $(document).one('ajaxloadstart.page', function (e) {
            })
        })
    });

</script>
